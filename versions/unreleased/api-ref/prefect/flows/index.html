
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Prefect Python API defining the base workflow class and decorator.">
      
      
      
        <link rel="canonical" href="https://docs.prefect.io/latest/api-ref/prefect/flows/">
      
      
        <link rel="prev" href="../filesystems/">
      
      
        <link rel="next" href="../futures/">
      
      
        
      
      
      <link rel="icon" href="../../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8+insiders-4.43.0">
    
    
      
        <title>prefect.flows - Prefect Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.382dd0b9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/theme.css">
    
      <link rel="stylesheet" href="../../../stylesheets/admonitions.css">
    
      <link rel="stylesheet" href="../../../stylesheets/api_ref.css">
    
      <link rel="stylesheet" href="../../../stylesheets/rest_ref.css">
    
      <link rel="stylesheet" href="../../../stylesheets/syntax_highlights.css">
    
      <link rel="stylesheet" href="../../../stylesheets/termynal.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    

      
  


  <script src="../../../assets/external/cdn.amplitude.com/libs/analytics-browser-1.9.1-min.js.gz.js"></script>
<script type="text/javascript">
const amplitudeKey = "c97dd2acbf306ab7bf54aca0aeb7ffa1"
const amplitudeUrl = "/2/httpapi"

const addUrl = (event) => {
  const deviceId = amplitude.getDeviceId()
  const { href = '' } = event.target
  const url = new URL(href)
  url.searchParams.set('deviceId', deviceId)
  event.target.href = url.toString()
}

const removeUrl = (event) => {
  const { href = '' } = event.target
  const url = new URL(href)
  url.searchParams.delete('deviceId')
  event.target.href = url.toString()
}

const urls = [
  'https://app.prefect.cloud',
  'https://app.stg.prefect.dev',
  'https://app.prefect.dev',
]

const selector = urls.map((url) => `a[href^="${url}"]`).join(',')

const addDeviceIdToAppLinks = () => {
  const elements = document.querySelectorAll(selector)

  elements.forEach((element) => {
    element.addEventListener('mouseenter', addUrl)
    element.addEventListener('mouseleave', removeUrl)
    element.addEventListener('focus', addUrl)
    element.addEventListener('blur', removeUrl)
    element.addEventListener('touchstart', addUrl)
    element.addEventListener('touchend', removeUrl)
  })
}


const init = () => {
  amplitude.init(amplitudeKey, undefined, {
    useBatch: true,
    serverUrl: amplitudeUrl,
    attribution: {
      disabled: false,
      trackNewCampaigns: true,
      trackPageViews: true,
      resetSessionOnNewCampaign: true,
    },
    defaultTracking: {
      pageViews: {
        trackOn: function() { return true},
        eventType: "Page View: Docs",
        trackHistoryChanges: "all",
      },
      sessions: false,
      formInteractions: true,
      fileDownloads: true,
    },
  })
}

function trackPageView() {
  amplitude.track(
    'Page View: Docs',
    {
      'url': window.href,
      'title': document.title,
      'referrer': document.referrer,
      'path': window.location.pathname
    }
  )
}

if (amplitudeKey){
  document.addEventListener("DOMContentLoaded", function() {
      init()
      setTimeout(addDeviceIdToAppLinks)
      setTimeout(trackPageView)
  });
}
</script>


  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-3M31G9B0QJ"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-3M31G9B0QJ",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-3M31G9B0QJ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    

    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="prefect.flows - Prefect Docs" />
<meta property="og:description" content="Prefect Python API defining the base workflow class and decorator." />
<meta property="og:image" content="https://docs.prefect.io/latest/assets/images/social/api-ref/prefect/flows.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://docs.prefect.io/latest/api-ref/prefect/flows/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="prefect.flows - Prefect Docs" />
<meta property="twitter:description" content="Prefect Python API defining the base workflow class and decorator." />
<meta property="twitter:image" content="https://docs.prefect.io/latest/assets/images/social/api-ref/prefect/flows.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#0225AC" data-md-color-accent="#0225AC">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prefect.flows" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're viewing the docs for Prefect unreleased.
  <a href="../../../.."> 
    <strong>Click here to view the latest docs.</strong>
  </a>

  <script type="text/javascript">
    // extract the version from the URL
    var version = window.location.pathname.split('/')[1];
    console.log("version is latest!")
    // check if the version is 'latest'
    var showVersionBanner = version !== 'latest';
    
    // hide the announcement bar if we're not showing the latest version of the docs
    // wait until dom is loaded
    document.addEventListener("DOMContentLoaded", function(event) {
      if (showVersionBanner) {
        document.querySelector('[data-md-component="announce"]').setAttribute('hidden', '');
      }
    });
  </script>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      <!-- overrides partial for header, adding tab for Prefect Cloud -->




<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Prefect Docs"
      class="md-header__button md-logo" aria-label="Prefect Docs" data-md-component="logo">
      
  <img src="../../../img/logos/prefect-logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Prefect Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
            prefect.flows
            
          </span>
        </div>
      </div>
    </div>
    
    
    <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="#0225AC" data-md-color-accent="#0225AC"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="#0225AC" data-md-color-accent="#0225AC"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
    
    
    
    <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    <label class="md-header__button md-icon" for="__search">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
    </label>
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
    <div class="md-header__source">
      <a href="https://github.com/PrefectHQ/prefect" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
    

    <!-- adding tab for Prefect Cloud -->
    <a class="md-button cloud-button list-unstyled" target="_blank" rel="noopener noreferrer" href="https://app.prefect.cloud"><b>Try Prefect
        Cloud â†’</b></a>
    <!-- end adding Perfect Cloud button-->

  </nav>
  
  
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Prefect Docs" class="md-nav__button md-logo" aria-label="Prefect Docs" data-md-component="logo">
      
  <img src="../../../img/logos/prefect-logo-white.svg" alt="logo">

    </a>
    Prefect Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/PrefectHQ/prefect" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../tutorial/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Tutorial
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/flows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/work-pools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Work Pools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/workers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../guides/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    How-to Guides
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-to Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/host/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Hosting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Profiles & Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/global-concurrency-limits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Global Concurrency Limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/runtime-context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Runtime Context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/using-the-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Prefect Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/creating-human-in-the-loop-workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Human-in-the-Loop Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/automations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Automations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/webhooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://registry.terraform.io/providers/PrefectHQ/prefect/latest/docs/guides/getting-started" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Terraform Provider
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/ci-cd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    CI/CD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/recipes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Recipes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Execution
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Execution
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/state-change-hooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    State Change Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/dask-ray-task-runners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Dask & Ray
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/moving-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Read and Write Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/big-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Big Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/managed-execution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Managed Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Work Pools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Work Pools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/prefect-deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deploying Flows to Work pools and Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/upgrade-guide-agents-to-workers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Upgrade from Agents to Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment/push-work-pools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Serverless Push Work Pools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment/serverless-workers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Serverless Work Pools with Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment/daemonize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Daemonize Processes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/deployment/developing-a-new-worker-type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Custom Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../concepts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/flows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/work-pools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Work Pools & Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/schedules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Schedules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/results/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Results
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Artifacts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    States
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/blocks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Blocks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/task-runners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Task Runners
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/automations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Automations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_14" >
        
          
          <label class="md-nav__link" for="__nav_4_14" id="__nav_4_14_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Block and Agent-Based Deployments
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Block and Agent-Based Deployments
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/deployments-block-based/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cloud/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Cloud
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cloud
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/workspaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Workspaces
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../cloud/users/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Users
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Users
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/users/roles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Roles (RBAC)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/users/api-keys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    API Keys
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/users/service-accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Service Accounts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/users/sso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Single Sign-On (SSO)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/users/audit-log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Audit Log
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/users/object-access-control-lists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Object-Level Access Control Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/users/teams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Teams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/rate-limits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    API Rate Limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/connecting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Connecting & Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/incidents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Incidents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../integrations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../integrations/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Using Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../integrations/contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contributing Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../python/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Python SDK
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python SDK
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.artifacts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_4" >
        
          
          <label class="md-nav__link" for="__nav_7_2_4" id="__nav_7_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.blocks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.blocks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../blocks/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../blocks/fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    fields
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../blocks/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../blocks/notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    notifications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../blocks/system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    system
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../blocks/webhook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    webhook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_5" >
        
          
          <label class="md-nav__link" for="__nav_7_2_5" id="__nav_7_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.client
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.client
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../client/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../client/cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    cloud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../client/collections.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    collections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../client/constants.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    constants
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../client/orchestration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    orchestration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../client/schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../client/utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_6" >
        
          
          <label class="md-nav__link" for="__nav_7_2_6" id="__nav_7_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.cli
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.cli
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/artifact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    artifact
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/block/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    block
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    cloud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/concurrency_limit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    concurrency_limit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deploy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dev
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/flow_run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    flow_run
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    profile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/root/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    root
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/variable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    variable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/work_pool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    work_pool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/work_queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    work_queue
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cli/worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    worker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_8" >
        
          
          <label class="md-nav__link" for="__nav_7_2_8" id="__nav_7_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.concurrency
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.concurrency
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../concurrency/asyncio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    asyncio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../concurrency/common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    common
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../concurrency/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../concurrency/services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../concurrency/sync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sync
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_9" >
        
          
          <label class="md-nav__link" for="__nav_7_2_9" id="__nav_7_2_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.deployments
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.deployments
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../deployments/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../deployments/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../deployments/runner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../deployments/steps/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    steps.core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../deployments/steps/pull/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    steps.pull
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../deployments/steps/utility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    steps.utility
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.engine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../filesystems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.filesystems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    prefect.flows
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    prefect.flows
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.Flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.from_source" class="md-nav__link">
    <span class="md-ellipsis">
      
        from_source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.serialize_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        serialize_parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.serve" class="md-nav__link">
    <span class="md-ellipsis">
      
        serve
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.to_deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_deployment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.validate_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.visualize" class="md-nav__link">
    <span class="md-ellipsis">
      
        visualize
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.with_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        with_options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.load_flow_from_entrypoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_flow_from_entrypoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.load_flow_from_script" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_flow_from_script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.load_flow_from_text" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_flow_from_text
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.load_flows_from_script" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_flows_from_script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.select_flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        select_flow
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../futures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.futures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_17" >
        
          
          <label class="md-nav__link" for="__nav_7_2_17" id="__nav_7_2_17_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.input
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_17_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_17">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.input
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../input/actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../input/run_input/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    run_input
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_18" >
        
          
          <label class="md-nav__link" for="__nav_7_2_18" id="__nav_7_2_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.logging
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.logging
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../logging/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../logging/formatters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    formatters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../logging/handlers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    handlers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../logging/highlighters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    highlighters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../logging/loggers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    loggers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../manifests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.manifests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_20" >
        
          
          <label class="md-nav__link" for="__nav_7_2_20" id="__nav_7_2_20_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.packaging
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_20_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_20">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.packaging
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../packaging/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../packaging/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../packaging/file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    file
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../packaging/serializers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    serializers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_21" >
        
          
          <label class="md-nav__link" for="__nav_7_2_21" id="__nav_7_2_21_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.runner
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_21">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.runner
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../runner/runner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../runner/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../runner/storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../runner/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_22" >
        
          
          <label class="md-nav__link" for="__nav_7_2_22" id="__nav_7_2_22_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.runtime
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_22">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.runtime
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/flow_run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    flow_run
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../runtime/task_run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    task_run
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../serializers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.serializers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.software
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../task-runners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.task_runners
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_30" >
        
          
          <label class="md-nav__link" for="__nav_7_2_30" id="__nav_7_2_30_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_30_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_30">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    annotations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/asyncutils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    asyncutils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/callables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    callables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/collections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    collections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/compat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    compat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/dispatch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dispatch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/dockerutils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dockerutils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/filesystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    filesystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/hashing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    hashing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/importtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    importtools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    math
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/names/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    names
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/processutils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    processutils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/pydantic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    pydantic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/render_swagger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    render_swagger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/slugify/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    slugify
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/templating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    templating
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/text/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    text
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    validation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../utilities/visualization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    visualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_32" >
        
          
          <label class="md-nav__link" for="__nav_7_2_32" id="__nav_7_2_32_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.workers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_32_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_32">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.workers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../workers/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../workers/block/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    block
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../workers/process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../workers/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../workers/utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../rest-api/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    REST API
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    REST API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://app.prefect.cloud/api/docs" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Prefect Cloud REST API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rest-api-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Prefect Server REST API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../server/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Server API
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Server API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_2" >
        
          
          <label class="md-nav__link" for="__nav_7_4_2" id="__nav_7_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.admin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/flows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/flow_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.flow_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/flow_run_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.flow_run_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/run_history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.run_history
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/saved_searches/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.saved_searches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/task_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.task_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/api/task_run_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.task_run_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_3" >
        
          
          <label class="md-nav__link" for="__nav_7_4_3" id="__nav_7_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Models
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/models/flows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/models/flow_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.flow_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/models/flow_run_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.flow_run_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/models/task_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.task_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/models/task_run_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.task_run_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/models/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/models/saved_searches/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.saved_searches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4_4" id="__nav_7_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Orchestration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Orchestration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/orchestration/rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.orchestration.rules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/orchestration/policies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.orchestration.policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/orchestration/core_policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.orchestration.core_policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/orchestration/global_policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.orchestration.global_policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_5" >
        
          
          <label class="md-nav__link" for="__nav_7_4_5" id="__nav_7_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Schemas
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/schemas/actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/schemas/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/schemas/filters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/schemas/responses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.responses
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/schemas/schedules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.schedules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/schemas/sorting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.sorting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/schemas/states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_6" >
        
          
          <label class="md-nav__link" for="__nav_7_4_6" id="__nav_7_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/services/late_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.services.late_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/services/loop_service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.services.loop_service
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/services/scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.services.scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_7" >
        
          
          <label class="md-nav__link" for="__nav_7_4_7" id="__nav_7_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/utilities/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.utilities.database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/utilities/schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.utilities.schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../server/utilities/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.utilities.server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../community/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Community
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Community
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Style
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.Flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Flow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        deploy
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.from_source" class="md-nav__link">
    <span class="md-ellipsis">
      
        from_source
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.serialize_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        serialize_parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.serve" class="md-nav__link">
    <span class="md-ellipsis">
      
        serve
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.to_deployment" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_deployment
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.validate_parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        validate_parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.visualize" class="md-nav__link">
    <span class="md-ellipsis">
      
        visualize
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prefect.flows.Flow.with_options" class="md-nav__link">
    <span class="md-ellipsis">
      
        with_options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.load_flow_from_entrypoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_flow_from_entrypoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.load_flow_from_script" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_flow_from_script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.load_flow_from_text" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_flow_from_text
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.load_flows_from_script" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_flows_from_script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prefect.flows.select_flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        select_flow
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




  <nav class="md-path" aria-label="Navigation" >
    <ol class="md-path__list">
      
      
        
  
    
    
      <li class="md-path__item">
        <a href="../../" class="md-path__link">
          
  <span class="md-ellipsis">
    API Reference
  </span>

        </a>
      </li>
    
  

      
        
  
    
    
      <li class="md-path__item">
        <a href="../../python/" class="md-path__link">
          
  <span class="md-ellipsis">
    Python SDK
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/PrefectHQ/prefect/edit/main/docs/api-ref/prefect/flows.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  


<div class="doc doc-object doc-module">



<h1 id="prefect.flows" class="doc doc-heading">
          <code>prefect.flows</code>


<a href="#prefect.flows" class="headerlink" title="Permanent link">&para;</a></h1>

  <div class="doc doc-contents first">
  
      <p>Module containing the base workflow class and decorator - for most use cases, using the <a class="autorefs autorefs-internal" href="#prefect.flows.flow"><code>@flow</code> decorator</a> is preferred.</p>

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="prefect.flows.Flow" class="doc doc-heading">
          <code>Flow</code>


<a href="#prefect.flows.Flow" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
          <p class="doc doc-class-bases">
            Bases: <code><span title="typing.Generic">Generic</span>[<span title="prefect.flows.P">P</span>, <span title="prefect.flows.R">R</span>]</code></p>

  
      <p>A Prefect workflow definition.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We recommend using the <a class="autorefs autorefs-internal" href="#prefect.flows.flow"><code>@flow</code> decorator</a> for most use-cases.</p>
</div>
<p>Wraps a function with an entrypoint to the Prefect engine. To preserve the input
and output types, we use the generic type variables <code>P</code> and <code>R</code> for "Parameters" and
"Returns" respectively.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fn</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span>[<span title="prefect.flows.P">P</span>, <span title="prefect.flows.R">R</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The function defining the workflow.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional name for the flow; if not provided, the name will be inferred
from the given function.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>version</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional version string for the flow; if not provided, we will
attempt to create a version string as a hash of the file containing the
wrapped function; if the file cannot be located, the version will be null.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>flow_run_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="typing.Callable">Callable</span>[[], str], str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional name to distinguish runs of this flow; this name can
be provided as a string template with the flow's parameters as variables,
or a function that returns a string.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>task_runner</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="prefect.task_runners.BaseTaskRunner" href="../task-runners/#prefect.task_runners.BaseTaskRunner">BaseTaskRunner</a>], <a class="autorefs autorefs-internal" title="prefect.task_runners.BaseTaskRunner" href="../task-runners/#prefect.task_runners.BaseTaskRunner">BaseTaskRunner</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional task runner to use for task execution within the flow;
if not provided, a <code>ConcurrentTaskRunner</code> will be used.</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.task_runners.ConcurrentTaskRunner" href="../task-runners/#prefect.task_runners.ConcurrentTaskRunner">ConcurrentTaskRunner</a></code>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional string description for the flow; if not provided, the
description will be pulled from the docstring for the decorated function.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout_seconds</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[int, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional number of seconds indicating a maximum runtime for
the flow. If the flow exceeds this runtime, it will be marked as failed.
Flow execution may continue until the next task is called.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>validate_parameters</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>By default, parameters passed to flows are validated by
Pydantic. This will check that input values conform to the annotated types
on the function. Where possible, values will be coerced into the correct
type; for example, if a parameter is defined as <code>x: int</code> and "5" is passed,
it will be resolved to <code>5</code>. If set to <code>False</code>, no validation will be
performed on flow parameters.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>retries</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional number of times to retry on flow run failure.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>retry_delay_seconds</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[int, float]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional number of seconds to wait before retrying the
flow after failure. This is only applicable if <code>retries</code> is nonzero.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>persist_result</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional toggle indicating whether the result of this flow
should be persisted to result storage. Defaults to <code>None</code>, which indicates
that Prefect should choose whether the result should be persisted depending on
the features being used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>result_storage</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.results.ResultStorage">ResultStorage</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional block to use to persist the result of this flow.
This value will be used as the default for any tasks in this flow.
If not provided, the local file system will be used unless called as
a subflow, at which point the default will be loaded from the parent flow.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>result_serializer</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.results.ResultSerializer">ResultSerializer</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional serializer to use to serialize the result of this
flow for persistence. This value will be used as the default for any tasks
in this flow. If not provided, the value of <code>PREFECT_RESULTS_DEFAULT_SERIALIZER</code>
will be used unless called as a subflow, at which point the default will be
loaded from the parent flow.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_failure</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional list of callables to run when the flow enters a failed state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_completion</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional list of callables to run when the flow enters a completed state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_cancellation</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional list of callables to run when the flow enters a cancelling state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_crashed</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional list of callables to run when the flow enters a crashed state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>prefect/flows.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 126</span>
<span class="normal"> 127</span>
<span class="normal"> 128</span>
<span class="normal"> 129</span>
<span class="normal"> 130</span>
<span class="normal"> 131</span>
<span class="normal"> 132</span>
<span class="normal"> 133</span>
<span class="normal"> 134</span>
<span class="normal"> 135</span>
<span class="normal"> 136</span>
<span class="normal"> 137</span>
<span class="normal"> 138</span>
<span class="normal"> 139</span>
<span class="normal"> 140</span>
<span class="normal"> 141</span>
<span class="normal"> 142</span>
<span class="normal"> 143</span>
<span class="normal"> 144</span>
<span class="normal"> 145</span>
<span class="normal"> 146</span>
<span class="normal"> 147</span>
<span class="normal"> 148</span>
<span class="normal"> 149</span>
<span class="normal"> 150</span>
<span class="normal"> 151</span>
<span class="normal"> 152</span>
<span class="normal"> 153</span>
<span class="normal"> 154</span>
<span class="normal"> 155</span>
<span class="normal"> 156</span>
<span class="normal"> 157</span>
<span class="normal"> 158</span>
<span class="normal"> 159</span>
<span class="normal"> 160</span>
<span class="normal"> 161</span>
<span class="normal"> 162</span>
<span class="normal"> 163</span>
<span class="normal"> 164</span>
<span class="normal"> 165</span>
<span class="normal"> 166</span>
<span class="normal"> 167</span>
<span class="normal"> 168</span>
<span class="normal"> 169</span>
<span class="normal"> 170</span>
<span class="normal"> 171</span>
<span class="normal"> 172</span>
<span class="normal"> 173</span>
<span class="normal"> 174</span>
<span class="normal"> 175</span>
<span class="normal"> 176</span>
<span class="normal"> 177</span>
<span class="normal"> 178</span>
<span class="normal"> 179</span>
<span class="normal"> 180</span>
<span class="normal"> 181</span>
<span class="normal"> 182</span>
<span class="normal"> 183</span>
<span class="normal"> 184</span>
<span class="normal"> 185</span>
<span class="normal"> 186</span>
<span class="normal"> 187</span>
<span class="normal"> 188</span>
<span class="normal"> 189</span>
<span class="normal"> 190</span>
<span class="normal"> 191</span>
<span class="normal"> 192</span>
<span class="normal"> 193</span>
<span class="normal"> 194</span>
<span class="normal"> 195</span>
<span class="normal"> 196</span>
<span class="normal"> 197</span>
<span class="normal"> 198</span>
<span class="normal"> 199</span>
<span class="normal"> 200</span>
<span class="normal"> 201</span>
<span class="normal"> 202</span>
<span class="normal"> 203</span>
<span class="normal"> 204</span>
<span class="normal"> 205</span>
<span class="normal"> 206</span>
<span class="normal"> 207</span>
<span class="normal"> 208</span>
<span class="normal"> 209</span>
<span class="normal"> 210</span>
<span class="normal"> 211</span>
<span class="normal"> 212</span>
<span class="normal"> 213</span>
<span class="normal"> 214</span>
<span class="normal"> 215</span>
<span class="normal"> 216</span>
<span class="normal"> 217</span>
<span class="normal"> 218</span>
<span class="normal"> 219</span>
<span class="normal"> 220</span>
<span class="normal"> 221</span>
<span class="normal"> 222</span>
<span class="normal"> 223</span>
<span class="normal"> 224</span>
<span class="normal"> 225</span>
<span class="normal"> 226</span>
<span class="normal"> 227</span>
<span class="normal"> 228</span>
<span class="normal"> 229</span>
<span class="normal"> 230</span>
<span class="normal"> 231</span>
<span class="normal"> 232</span>
<span class="normal"> 233</span>
<span class="normal"> 234</span>
<span class="normal"> 235</span>
<span class="normal"> 236</span>
<span class="normal"> 237</span>
<span class="normal"> 238</span>
<span class="normal"> 239</span>
<span class="normal"> 240</span>
<span class="normal"> 241</span>
<span class="normal"> 242</span>
<span class="normal"> 243</span>
<span class="normal"> 244</span>
<span class="normal"> 245</span>
<span class="normal"> 246</span>
<span class="normal"> 247</span>
<span class="normal"> 248</span>
<span class="normal"> 249</span>
<span class="normal"> 250</span>
<span class="normal"> 251</span>
<span class="normal"> 252</span>
<span class="normal"> 253</span>
<span class="normal"> 254</span>
<span class="normal"> 255</span>
<span class="normal"> 256</span>
<span class="normal"> 257</span>
<span class="normal"> 258</span>
<span class="normal"> 259</span>
<span class="normal"> 260</span>
<span class="normal"> 261</span>
<span class="normal"> 262</span>
<span class="normal"> 263</span>
<span class="normal"> 264</span>
<span class="normal"> 265</span>
<span class="normal"> 266</span>
<span class="normal"> 267</span>
<span class="normal"> 268</span>
<span class="normal"> 269</span>
<span class="normal"> 270</span>
<span class="normal"> 271</span>
<span class="normal"> 272</span>
<span class="normal"> 273</span>
<span class="normal"> 274</span>
<span class="normal"> 275</span>
<span class="normal"> 276</span>
<span class="normal"> 277</span>
<span class="normal"> 278</span>
<span class="normal"> 279</span>
<span class="normal"> 280</span>
<span class="normal"> 281</span>
<span class="normal"> 282</span>
<span class="normal"> 283</span>
<span class="normal"> 284</span>
<span class="normal"> 285</span>
<span class="normal"> 286</span>
<span class="normal"> 287</span>
<span class="normal"> 288</span>
<span class="normal"> 289</span>
<span class="normal"> 290</span>
<span class="normal"> 291</span>
<span class="normal"> 292</span>
<span class="normal"> 293</span>
<span class="normal"> 294</span>
<span class="normal"> 295</span>
<span class="normal"> 296</span>
<span class="normal"> 297</span>
<span class="normal"> 298</span>
<span class="normal"> 299</span>
<span class="normal"> 300</span>
<span class="normal"> 301</span>
<span class="normal"> 302</span>
<span class="normal"> 303</span>
<span class="normal"> 304</span>
<span class="normal"> 305</span>
<span class="normal"> 306</span>
<span class="normal"> 307</span>
<span class="normal"> 308</span>
<span class="normal"> 309</span>
<span class="normal"> 310</span>
<span class="normal"> 311</span>
<span class="normal"> 312</span>
<span class="normal"> 313</span>
<span class="normal"> 314</span>
<span class="normal"> 315</span>
<span class="normal"> 316</span>
<span class="normal"> 317</span>
<span class="normal"> 318</span>
<span class="normal"> 319</span>
<span class="normal"> 320</span>
<span class="normal"> 321</span>
<span class="normal"> 322</span>
<span class="normal"> 323</span>
<span class="normal"> 324</span>
<span class="normal"> 325</span>
<span class="normal"> 326</span>
<span class="normal"> 327</span>
<span class="normal"> 328</span>
<span class="normal"> 329</span>
<span class="normal"> 330</span>
<span class="normal"> 331</span>
<span class="normal"> 332</span>
<span class="normal"> 333</span>
<span class="normal"> 334</span>
<span class="normal"> 335</span>
<span class="normal"> 336</span>
<span class="normal"> 337</span>
<span class="normal"> 338</span>
<span class="normal"> 339</span>
<span class="normal"> 340</span>
<span class="normal"> 341</span>
<span class="normal"> 342</span>
<span class="normal"> 343</span>
<span class="normal"> 344</span>
<span class="normal"> 345</span>
<span class="normal"> 346</span>
<span class="normal"> 347</span>
<span class="normal"> 348</span>
<span class="normal"> 349</span>
<span class="normal"> 350</span>
<span class="normal"> 351</span>
<span class="normal"> 352</span>
<span class="normal"> 353</span>
<span class="normal"> 354</span>
<span class="normal"> 355</span>
<span class="normal"> 356</span>
<span class="normal"> 357</span>
<span class="normal"> 358</span>
<span class="normal"> 359</span>
<span class="normal"> 360</span>
<span class="normal"> 361</span>
<span class="normal"> 362</span>
<span class="normal"> 363</span>
<span class="normal"> 364</span>
<span class="normal"> 365</span>
<span class="normal"> 366</span>
<span class="normal"> 367</span>
<span class="normal"> 368</span>
<span class="normal"> 369</span>
<span class="normal"> 370</span>
<span class="normal"> 371</span>
<span class="normal"> 372</span>
<span class="normal"> 373</span>
<span class="normal"> 374</span>
<span class="normal"> 375</span>
<span class="normal"> 376</span>
<span class="normal"> 377</span>
<span class="normal"> 378</span>
<span class="normal"> 379</span>
<span class="normal"> 380</span>
<span class="normal"> 381</span>
<span class="normal"> 382</span>
<span class="normal"> 383</span>
<span class="normal"> 384</span>
<span class="normal"> 385</span>
<span class="normal"> 386</span>
<span class="normal"> 387</span>
<span class="normal"> 388</span>
<span class="normal"> 389</span>
<span class="normal"> 390</span>
<span class="normal"> 391</span>
<span class="normal"> 392</span>
<span class="normal"> 393</span>
<span class="normal"> 394</span>
<span class="normal"> 395</span>
<span class="normal"> 396</span>
<span class="normal"> 397</span>
<span class="normal"> 398</span>
<span class="normal"> 399</span>
<span class="normal"> 400</span>
<span class="normal"> 401</span>
<span class="normal"> 402</span>
<span class="normal"> 403</span>
<span class="normal"> 404</span>
<span class="normal"> 405</span>
<span class="normal"> 406</span>
<span class="normal"> 407</span>
<span class="normal"> 408</span>
<span class="normal"> 409</span>
<span class="normal"> 410</span>
<span class="normal"> 411</span>
<span class="normal"> 412</span>
<span class="normal"> 413</span>
<span class="normal"> 414</span>
<span class="normal"> 415</span>
<span class="normal"> 416</span>
<span class="normal"> 417</span>
<span class="normal"> 418</span>
<span class="normal"> 419</span>
<span class="normal"> 420</span>
<span class="normal"> 421</span>
<span class="normal"> 422</span>
<span class="normal"> 423</span>
<span class="normal"> 424</span>
<span class="normal"> 425</span>
<span class="normal"> 426</span>
<span class="normal"> 427</span>
<span class="normal"> 428</span>
<span class="normal"> 429</span>
<span class="normal"> 430</span>
<span class="normal"> 431</span>
<span class="normal"> 432</span>
<span class="normal"> 433</span>
<span class="normal"> 434</span>
<span class="normal"> 435</span>
<span class="normal"> 436</span>
<span class="normal"> 437</span>
<span class="normal"> 438</span>
<span class="normal"> 439</span>
<span class="normal"> 440</span>
<span class="normal"> 441</span>
<span class="normal"> 442</span>
<span class="normal"> 443</span>
<span class="normal"> 444</span>
<span class="normal"> 445</span>
<span class="normal"> 446</span>
<span class="normal"> 447</span>
<span class="normal"> 448</span>
<span class="normal"> 449</span>
<span class="normal"> 450</span>
<span class="normal"> 451</span>
<span class="normal"> 452</span>
<span class="normal"> 453</span>
<span class="normal"> 454</span>
<span class="normal"> 455</span>
<span class="normal"> 456</span>
<span class="normal"> 457</span>
<span class="normal"> 458</span>
<span class="normal"> 459</span>
<span class="normal"> 460</span>
<span class="normal"> 461</span>
<span class="normal"> 462</span>
<span class="normal"> 463</span>
<span class="normal"> 464</span>
<span class="normal"> 465</span>
<span class="normal"> 466</span>
<span class="normal"> 467</span>
<span class="normal"> 468</span>
<span class="normal"> 469</span>
<span class="normal"> 470</span>
<span class="normal"> 471</span>
<span class="normal"> 472</span>
<span class="normal"> 473</span>
<span class="normal"> 474</span>
<span class="normal"> 475</span>
<span class="normal"> 476</span>
<span class="normal"> 477</span>
<span class="normal"> 478</span>
<span class="normal"> 479</span>
<span class="normal"> 480</span>
<span class="normal"> 481</span>
<span class="normal"> 482</span>
<span class="normal"> 483</span>
<span class="normal"> 484</span>
<span class="normal"> 485</span>
<span class="normal"> 486</span>
<span class="normal"> 487</span>
<span class="normal"> 488</span>
<span class="normal"> 489</span>
<span class="normal"> 490</span>
<span class="normal"> 491</span>
<span class="normal"> 492</span>
<span class="normal"> 493</span>
<span class="normal"> 494</span>
<span class="normal"> 495</span>
<span class="normal"> 496</span>
<span class="normal"> 497</span>
<span class="normal"> 498</span>
<span class="normal"> 499</span>
<span class="normal"> 500</span>
<span class="normal"> 501</span>
<span class="normal"> 502</span>
<span class="normal"> 503</span>
<span class="normal"> 504</span>
<span class="normal"> 505</span>
<span class="normal"> 506</span>
<span class="normal"> 507</span>
<span class="normal"> 508</span>
<span class="normal"> 509</span>
<span class="normal"> 510</span>
<span class="normal"> 511</span>
<span class="normal"> 512</span>
<span class="normal"> 513</span>
<span class="normal"> 514</span>
<span class="normal"> 515</span>
<span class="normal"> 516</span>
<span class="normal"> 517</span>
<span class="normal"> 518</span>
<span class="normal"> 519</span>
<span class="normal"> 520</span>
<span class="normal"> 521</span>
<span class="normal"> 522</span>
<span class="normal"> 523</span>
<span class="normal"> 524</span>
<span class="normal"> 525</span>
<span class="normal"> 526</span>
<span class="normal"> 527</span>
<span class="normal"> 528</span>
<span class="normal"> 529</span>
<span class="normal"> 530</span>
<span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@PrefectObjectRegistry</span><span class="o">.</span><span class="n">register_instances</span>
<span class="k">class</span> <span class="nc">Flow</span><span class="p">(</span><span class="n">Generic</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A Prefect workflow definition.</span>

<span class="sd">    !!! note</span>
<span class="sd">        We recommend using the [`@flow` decorator][prefect.flows.flow] for most use-cases.</span>

<span class="sd">    Wraps a function with an entrypoint to the Prefect engine. To preserve the input</span>
<span class="sd">    and output types, we use the generic type variables `P` and `R` for &quot;Parameters&quot; and</span>
<span class="sd">    &quot;Returns&quot; respectively.</span>

<span class="sd">    Args:</span>
<span class="sd">        fn: The function defining the workflow.</span>
<span class="sd">        name: An optional name for the flow; if not provided, the name will be inferred</span>
<span class="sd">            from the given function.</span>
<span class="sd">        version: An optional version string for the flow; if not provided, we will</span>
<span class="sd">            attempt to create a version string as a hash of the file containing the</span>
<span class="sd">            wrapped function; if the file cannot be located, the version will be null.</span>
<span class="sd">        flow_run_name: An optional name to distinguish runs of this flow; this name can</span>
<span class="sd">            be provided as a string template with the flow&#39;s parameters as variables,</span>
<span class="sd">            or a function that returns a string.</span>
<span class="sd">        task_runner: An optional task runner to use for task execution within the flow;</span>
<span class="sd">            if not provided, a `ConcurrentTaskRunner` will be used.</span>
<span class="sd">        description: An optional string description for the flow; if not provided, the</span>
<span class="sd">            description will be pulled from the docstring for the decorated function.</span>
<span class="sd">        timeout_seconds: An optional number of seconds indicating a maximum runtime for</span>
<span class="sd">            the flow. If the flow exceeds this runtime, it will be marked as failed.</span>
<span class="sd">            Flow execution may continue until the next task is called.</span>
<span class="sd">        validate_parameters: By default, parameters passed to flows are validated by</span>
<span class="sd">            Pydantic. This will check that input values conform to the annotated types</span>
<span class="sd">            on the function. Where possible, values will be coerced into the correct</span>
<span class="sd">            type; for example, if a parameter is defined as `x: int` and &quot;5&quot; is passed,</span>
<span class="sd">            it will be resolved to `5`. If set to `False`, no validation will be</span>
<span class="sd">            performed on flow parameters.</span>
<span class="sd">        retries: An optional number of times to retry on flow run failure.</span>
<span class="sd">        retry_delay_seconds: An optional number of seconds to wait before retrying the</span>
<span class="sd">            flow after failure. This is only applicable if `retries` is nonzero.</span>
<span class="sd">        persist_result: An optional toggle indicating whether the result of this flow</span>
<span class="sd">            should be persisted to result storage. Defaults to `None`, which indicates</span>
<span class="sd">            that Prefect should choose whether the result should be persisted depending on</span>
<span class="sd">            the features being used.</span>
<span class="sd">        result_storage: An optional block to use to persist the result of this flow.</span>
<span class="sd">            This value will be used as the default for any tasks in this flow.</span>
<span class="sd">            If not provided, the local file system will be used unless called as</span>
<span class="sd">            a subflow, at which point the default will be loaded from the parent flow.</span>
<span class="sd">        result_serializer: An optional serializer to use to serialize the result of this</span>
<span class="sd">            flow for persistence. This value will be used as the default for any tasks</span>
<span class="sd">            in this flow. If not provided, the value of `PREFECT_RESULTS_DEFAULT_SERIALIZER`</span>
<span class="sd">            will be used unless called as a subflow, at which point the default will be</span>
<span class="sd">            loaded from the parent flow.</span>
<span class="sd">        on_failure: An optional list of callables to run when the flow enters a failed state.</span>
<span class="sd">        on_completion: An optional list of callables to run when the flow enters a completed state.</span>
<span class="sd">        on_cancellation: An optional list of callables to run when the flow enters a cancelling state.</span>
<span class="sd">        on_crashed: An optional list of callables to run when the flow enters a crashed state.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># NOTE: These parameters (types, defaults, and docstrings) should be duplicated</span>
    <span class="c1">#       exactly in the @flow decorator</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">fn</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">],</span>
        <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">flow_run_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">retries</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">retry_delay_seconds</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">task_runner</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseTaskRunner</span><span class="p">],</span> <span class="n">BaseTaskRunner</span><span class="p">]</span> <span class="o">=</span> <span class="n">ConcurrentTaskRunner</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout_seconds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">validate_parameters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">persist_result</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">result_storage</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResultStorage</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">result_serializer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResultSerializer</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cache_result_in_memory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">log_prints</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">on_completion</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">on_cancellation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">on_crashed</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="s2">&quot;Expected string for flow parameter &#39;name&#39;; got </span><span class="si">{}</span><span class="s2"> instead. </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="nb">type</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                    <span class="p">(</span>
                        <span class="s2">&quot;Perhaps you meant to call it? e.g.&quot;</span>
                        <span class="s2">&quot; &#39;@flow(name=get_flow_run_name())&#39;&quot;</span>
                        <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
                        <span class="k">else</span> <span class="s2">&quot;&quot;</span>
                    <span class="p">),</span>
                <span class="p">)</span>
            <span class="p">)</span>

        <span class="c1"># Validate if hook passed is list and contains callables</span>
        <span class="n">hook_categories</span> <span class="o">=</span> <span class="p">[</span><span class="n">on_completion</span><span class="p">,</span> <span class="n">on_failure</span><span class="p">,</span> <span class="n">on_cancellation</span><span class="p">,</span> <span class="n">on_crashed</span><span class="p">]</span>
        <span class="n">hook_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;on_completion&quot;</span><span class="p">,</span> <span class="s2">&quot;on_failure&quot;</span><span class="p">,</span> <span class="s2">&quot;on_cancellation&quot;</span><span class="p">,</span> <span class="s2">&quot;on_crashed&quot;</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">hooks</span><span class="p">,</span> <span class="n">hook_name</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">hook_categories</span><span class="p">,</span> <span class="n">hook_names</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">hooks</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">hooks</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Empty list passed for &#39;</span><span class="si">{</span><span class="n">hook_name</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">hooks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">hooks</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                        <span class="sa">f</span><span class="s2">&quot;Expected iterable for &#39;</span><span class="si">{</span><span class="n">hook_name</span><span class="si">}</span><span class="s2">&#39;; got&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">hooks</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instead. Please provide a list of&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot; hooks to &#39;</span><span class="si">{</span><span class="n">hook_name</span><span class="si">}</span><span class="s2">&#39;:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;@flow(</span><span class="si">{</span><span class="n">hook_name</span><span class="si">}</span><span class="s2">=[hook1, hook2])</span><span class="se">\n</span><span class="s2">def&quot;</span>
                        <span class="s2">&quot; my_flow():</span><span class="se">\n\t</span><span class="s2">pass&quot;</span>
                    <span class="p">)</span>

                <span class="k">for</span> <span class="n">hook</span> <span class="ow">in</span> <span class="n">hooks</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">hook</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Expected callables in &#39;</span><span class="si">{</span><span class="n">hook_name</span><span class="si">}</span><span class="s2">&#39;; got&quot;</span>
                            <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">hook</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instead. Please provide a list of&quot;</span>
                            <span class="sa">f</span><span class="s2">&quot; hooks to &#39;</span><span class="si">{</span><span class="n">hook_name</span><span class="si">}</span><span class="s2">&#39;:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;@flow(</span><span class="si">{</span><span class="n">hook_name</span><span class="si">}</span><span class="s2">=[hook1, hook2])</span><span class="se">\n</span><span class="s2">def&quot;</span>
                            <span class="s2">&quot; my_flow():</span><span class="se">\n\t</span><span class="s2">pass&quot;</span>
                        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;fn&#39; must be callable&quot;</span><span class="p">)</span>

        <span class="c1"># Validate name if given</span>
        <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
            <span class="n">raise_on_name_with_banned_characters</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span> <span class="ow">or</span> <span class="n">fn</span><span class="o">.</span><span class="vm">__name__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">flow_run_name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">flow_run_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="n">flow_run_name</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="s2">&quot;Expected string or callable for &#39;flow_run_name&#39;; got&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">flow_run_name</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instead.&quot;</span>
                <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flow_run_name</span> <span class="o">=</span> <span class="n">flow_run_name</span>

        <span class="n">task_runner</span> <span class="o">=</span> <span class="n">task_runner</span> <span class="ow">or</span> <span class="n">ConcurrentTaskRunner</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">task_runner</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">task_runner</span><span class="p">()</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">task_runner</span><span class="p">,</span> <span class="nb">type</span><span class="p">)</span> <span class="k">else</span> <span class="n">task_runner</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">log_prints</span> <span class="o">=</span> <span class="n">log_prints</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">description</span> <span class="ow">or</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getdoc</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
        <span class="n">update_wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fn</span> <span class="o">=</span> <span class="n">fn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isasync</span> <span class="o">=</span> <span class="n">is_async_fn</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">)</span>

        <span class="n">raise_for_reserved_arguments</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;return_state&quot;</span><span class="p">,</span> <span class="s2">&quot;wait_for&quot;</span><span class="p">])</span>

        <span class="c1"># Version defaults to a hash of the function&#39;s file</span>
        <span class="n">flow_file</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsourcefile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">version</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">version</span> <span class="o">=</span> <span class="n">file_hash</span><span class="p">(</span><span class="n">flow_file</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">FileNotFoundError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">,</span> <span class="ne">OSError</span><span class="p">):</span>
                <span class="k">pass</span>  <span class="c1"># `getsourcefile` can return null values and &quot;&lt;stdin&gt;&quot; for objects in repls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">version</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">timeout_seconds</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">timeout_seconds</span><span class="p">)</span> <span class="k">if</span> <span class="n">timeout_seconds</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="c1"># FlowRunPolicy settings</span>
        <span class="c1"># TODO: We can instantiate a `FlowRunPolicy` and add Pydantic bound checks to</span>
        <span class="c1">#       validate that the user passes positive numbers here</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">retries</span> <span class="k">if</span> <span class="n">retries</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">PREFECT_FLOW_DEFAULT_RETRIES</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">retry_delay_seconds</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">retry_delay_seconds</span>
            <span class="k">if</span> <span class="n">retry_delay_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="n">PREFECT_FLOW_DEFAULT_RETRY_DELAY_SECONDS</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parameters</span> <span class="o">=</span> <span class="n">parameter_schema</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">should_validate_parameters</span> <span class="o">=</span> <span class="n">validate_parameters</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_validate_parameters</span><span class="p">:</span>
            <span class="c1"># Try to create the validated function now so that incompatibility can be</span>
            <span class="c1"># raised at declaration time rather than at runtime</span>
            <span class="c1"># We cannot, however, store the validated function on the flow because it</span>
            <span class="c1"># is not picklable in some environments</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ValidatedFunction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;arbitrary_types_allowed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
            <span class="k">except</span> <span class="n">pydantic</span><span class="o">.</span><span class="n">ConfigError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Flow function is not compatible with `validate_parameters`. &quot;</span>
                    <span class="s2">&quot;Disable validation or change the argument names.&quot;</span>
                <span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">persist_result</span> <span class="o">=</span> <span class="n">persist_result</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result_storage</span> <span class="o">=</span> <span class="n">result_storage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result_serializer</span> <span class="o">=</span> <span class="n">result_serializer</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_result_in_memory</span> <span class="o">=</span> <span class="n">cache_result_in_memory</span>

        <span class="c1"># Check for collision in the registry</span>
        <span class="n">registry</span> <span class="o">=</span> <span class="n">PrefectObjectRegistry</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">registry</span> <span class="ow">and</span> <span class="nb">any</span><span class="p">(</span>
            <span class="n">other</span>
            <span class="k">for</span> <span class="n">other</span> <span class="ow">in</span> <span class="n">registry</span><span class="o">.</span><span class="n">get_instances</span><span class="p">(</span><span class="n">Flow</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="nb">id</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">fn</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">file</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsourcefile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">)</span>
            <span class="n">line_number</span> <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getsourcelines</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;A flow named </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> and defined at &#39;</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">line_number</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
                <span class="s2">&quot;conflicts with another flow. Consider specifying a unique `name` &quot;</span>
                <span class="s2">&quot;parameter in the flow definition:</span><span class="se">\n\n</span><span class="s2"> &quot;</span>
                <span class="s2">&quot;`@flow(name=&#39;my_unique_name&#39;, ...)`&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_completion</span> <span class="o">=</span> <span class="n">on_completion</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_failure</span> <span class="o">=</span> <span class="n">on_failure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_cancellation</span> <span class="o">=</span> <span class="n">on_cancellation</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_crashed</span> <span class="o">=</span> <span class="n">on_crashed</span>

        <span class="c1"># Used for flows loaded from remote storage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">RunnerStorage</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_entrypoint</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">with_options</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">retry_delay_seconds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">flow_run_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">task_runner</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseTaskRunner</span><span class="p">],</span> <span class="n">BaseTaskRunner</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">timeout_seconds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">validate_parameters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">persist_result</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotSet</span><span class="p">,</span>
        <span class="n">result_storage</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResultStorage</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotSet</span><span class="p">,</span>
        <span class="n">result_serializer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResultSerializer</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotSet</span><span class="p">,</span>
        <span class="n">cache_result_in_memory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">log_prints</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotSet</span><span class="p">,</span>
        <span class="n">on_completion</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">on_cancellation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
            <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span>
        <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">on_crashed</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new flow from the current object, updating provided options.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: A new name for the flow.</span>
<span class="sd">            version: A new version for the flow.</span>
<span class="sd">            description: A new description for the flow.</span>
<span class="sd">            flow_run_name: An optional name to distinguish runs of this flow; this name</span>
<span class="sd">                can be provided as a string template with the flow&#39;s parameters as variables,</span>
<span class="sd">                or a function that returns a string.</span>
<span class="sd">            task_runner: A new task runner for the flow.</span>
<span class="sd">            timeout_seconds: A new number of seconds to fail the flow after if still</span>
<span class="sd">                running.</span>
<span class="sd">            validate_parameters: A new value indicating if flow calls should validate</span>
<span class="sd">                given parameters.</span>
<span class="sd">            retries: A new number of times to retry on flow run failure.</span>
<span class="sd">            retry_delay_seconds: A new number of seconds to wait before retrying the</span>
<span class="sd">                flow after failure. This is only applicable if `retries` is nonzero.</span>
<span class="sd">            persist_result: A new option for enabling or disabling result persistence.</span>
<span class="sd">            result_storage: A new storage type to use for results.</span>
<span class="sd">            result_serializer: A new serializer to use for results.</span>
<span class="sd">            cache_result_in_memory: A new value indicating if the flow&#39;s result should</span>
<span class="sd">                be cached in memory.</span>
<span class="sd">            on_failure: A new list of callables to run when the flow enters a failed state.</span>
<span class="sd">            on_completion: A new list of callables to run when the flow enters a completed state.</span>
<span class="sd">            on_cancellation: A new list of callables to run when the flow enters a cancelling state.</span>
<span class="sd">            on_crashed: A new list of callables to run when the flow enters a crashed state.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `Flow` instance.</span>

<span class="sd">        Examples:</span>

<span class="sd">            Create a new flow from an existing flow and update the name:</span>

<span class="sd">            &gt;&gt;&gt; @flow(name=&quot;My flow&quot;)</span>
<span class="sd">            &gt;&gt;&gt; def my_flow():</span>
<span class="sd">            &gt;&gt;&gt;     return 1</span>
<span class="sd">            &gt;&gt;&gt;</span>
<span class="sd">            &gt;&gt;&gt; new_flow = my_flow.with_options(name=&quot;My new flow&quot;)</span>

<span class="sd">            Create a new flow from an existing flow, update the task runner, and call</span>
<span class="sd">            it without an intermediate variable:</span>

<span class="sd">            &gt;&gt;&gt; from prefect.task_runners import SequentialTaskRunner</span>
<span class="sd">            &gt;&gt;&gt;</span>
<span class="sd">            &gt;&gt;&gt; @flow</span>
<span class="sd">            &gt;&gt;&gt; def my_flow(x, y):</span>
<span class="sd">            &gt;&gt;&gt;     return x + y</span>
<span class="sd">            &gt;&gt;&gt;</span>
<span class="sd">            &gt;&gt;&gt; state = my_flow.with_options(task_runner=SequentialTaskRunner)(1, 3)</span>
<span class="sd">            &gt;&gt;&gt; assert state.result() == 4</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">new_flow</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span>
            <span class="n">fn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="n">flow_run_name</span><span class="o">=</span><span class="n">flow_run_name</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
            <span class="n">task_runner</span><span class="o">=</span><span class="n">task_runner</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_runner</span><span class="p">,</span>
            <span class="n">retries</span><span class="o">=</span><span class="n">retries</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">retries</span><span class="p">,</span>
            <span class="n">retry_delay_seconds</span><span class="o">=</span><span class="n">retry_delay_seconds</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">retry_delay_seconds</span><span class="p">,</span>
            <span class="n">timeout_seconds</span><span class="o">=</span><span class="p">(</span>
                <span class="n">timeout_seconds</span> <span class="k">if</span> <span class="n">timeout_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout_seconds</span>
            <span class="p">),</span>
            <span class="n">validate_parameters</span><span class="o">=</span><span class="p">(</span>
                <span class="n">validate_parameters</span>
                <span class="k">if</span> <span class="n">validate_parameters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_validate_parameters</span>
            <span class="p">),</span>
            <span class="n">persist_result</span><span class="o">=</span><span class="p">(</span>
                <span class="n">persist_result</span> <span class="k">if</span> <span class="n">persist_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NotSet</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">persist_result</span>
            <span class="p">),</span>
            <span class="n">result_storage</span><span class="o">=</span><span class="p">(</span>
                <span class="n">result_storage</span> <span class="k">if</span> <span class="n">result_storage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NotSet</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_storage</span>
            <span class="p">),</span>
            <span class="n">result_serializer</span><span class="o">=</span><span class="p">(</span>
                <span class="n">result_serializer</span>
                <span class="k">if</span> <span class="n">result_serializer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NotSet</span>
                <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_serializer</span>
            <span class="p">),</span>
            <span class="n">cache_result_in_memory</span><span class="o">=</span><span class="p">(</span>
                <span class="n">cache_result_in_memory</span>
                <span class="k">if</span> <span class="n">cache_result_in_memory</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
                <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_result_in_memory</span>
            <span class="p">),</span>
            <span class="n">log_prints</span><span class="o">=</span><span class="n">log_prints</span> <span class="k">if</span> <span class="n">log_prints</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NotSet</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_prints</span><span class="p">,</span>
            <span class="n">on_completion</span><span class="o">=</span><span class="n">on_completion</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_completion</span><span class="p">,</span>
            <span class="n">on_failure</span><span class="o">=</span><span class="n">on_failure</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_failure</span><span class="p">,</span>
            <span class="n">on_cancellation</span><span class="o">=</span><span class="n">on_cancellation</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_cancellation</span><span class="p">,</span>
            <span class="n">on_crashed</span><span class="o">=</span><span class="n">on_crashed</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_crashed</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_flow</span><span class="o">.</span><span class="n">_storage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span>
        <span class="n">new_flow</span><span class="o">.</span><span class="n">_entrypoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_entrypoint</span>
        <span class="k">return</span> <span class="n">new_flow</span>

    <span class="k">def</span> <span class="nf">validate_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Validate parameters for compatibility with the flow by attempting to cast the inputs to the</span>
<span class="sd">        associated types specified by the function&#39;s type annotations.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new dict of parameters that have been cast to the appropriate types</span>

<span class="sd">        Raises:</span>
<span class="sd">            ParameterTypeError: if the provided parameters are not valid</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="n">parameters_to_args_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">HAS_PYDANTIC_V2</span><span class="p">:</span>
            <span class="n">has_v1_models</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">V1BaseModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">V1BaseModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="n">has_v2_models</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">V2BaseModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">V2BaseModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">has_v1_models</span> <span class="ow">and</span> <span class="n">has_v2_models</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ParameterTypeError</span><span class="p">(</span>
                    <span class="s2">&quot;Cannot mix Pydantic v1 and v2 models as arguments to a flow.&quot;</span>
                <span class="p">)</span>

            <span class="k">if</span> <span class="n">has_v1_models</span><span class="p">:</span>
                <span class="n">validated_fn</span> <span class="o">=</span> <span class="n">V1ValidatedFunction</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;arbitrary_types_allowed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">validated_fn</span> <span class="o">=</span> <span class="n">V2ValidatedFunction</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;arbitrary_types_allowed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
                <span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">validated_fn</span> <span class="o">=</span> <span class="n">ValidatedFunction</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;arbitrary_types_allowed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">validated_fn</span><span class="o">.</span><span class="n">init_model_instance</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">pydantic</span><span class="o">.</span><span class="n">ValidationError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="c1"># We capture the pydantic exception and raise our own because the pydantic</span>
            <span class="c1"># exception is not picklable when using a cythonized pydantic installation</span>
            <span class="k">raise</span> <span class="n">ParameterTypeError</span><span class="o">.</span><span class="n">from_validation_error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
        <span class="k">except</span> <span class="n">V2ValidationError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="c1"># We capture the pydantic exception and raise our own because the pydantic</span>
            <span class="c1"># exception is not picklable when using a cythonized pydantic installation</span>
            <span class="k">raise</span> <span class="n">ParameterTypeError</span><span class="o">.</span><span class="n">from_validation_error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

        <span class="c1"># Get the updated parameter dict with cast values from the model</span>
        <span class="n">cast_parameters</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="n">v</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">_iter</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">__fields_set__</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">default_factory</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">cast_parameters</span>

    <span class="k">def</span> <span class="nf">serialize_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert parameters to a serializable form.</span>

<span class="sd">        Uses FastAPI&#39;s `jsonable_encoder` to convert to JSON compatible objects without</span>
<span class="sd">        converting everything directly to a string. This maintains basic types like</span>
<span class="sd">        integers during API roundtrips.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">serialized_parameters</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">serialized_parameters</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">jsonable_encoder</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Parameter </span><span class="si">{</span><span class="n">key</span><span class="si">!r}</span><span class="s2"> for flow </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> is of unserializable &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2"> and will not be stored &quot;</span>
                    <span class="s2">&quot;in the backend.&quot;</span>
                <span class="p">)</span>
                <span class="n">serialized_parameters</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&gt;&quot;</span>
        <span class="k">return</span> <span class="n">serialized_parameters</span>

    <span class="nd">@sync_compatible</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">to_deployment</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cron</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">rrule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SCHEDULE_TYPES</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_schedule_active</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">triggers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">DeploymentTrigger</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enforce_parameter_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">work_pool_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">work_queue_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">job_variables</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a runner deployment object for this flow.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name to give the created deployment.</span>
<span class="sd">            interval: An interval on which to execute the new deployment. Accepts either a number</span>
<span class="sd">                or a timedelta object. If a number is given, it will be interpreted as seconds.</span>
<span class="sd">            cron: A cron schedule of when to execute runs of this deployment.</span>
<span class="sd">            rrule: An rrule schedule of when to execute runs of this deployment.</span>
<span class="sd">            timezone: A timezone to use for the schedule. Defaults to UTC.</span>
<span class="sd">            triggers: A list of triggers that will kick off runs of this deployment.</span>
<span class="sd">            schedule: A schedule object defining when to execute runs of this deployment.</span>
<span class="sd">            is_schedule_active: Whether or not to set the schedule for this deployment as active. If</span>
<span class="sd">                not provided when creating a deployment, the schedule will be set as active. If not</span>
<span class="sd">                provided when updating a deployment, the schedule&#39;s activation will not be changed.</span>
<span class="sd">            parameters: A dictionary of default parameter values to pass to runs of this deployment.</span>
<span class="sd">            description: A description for the created deployment. Defaults to the flow&#39;s</span>
<span class="sd">                description if not provided.</span>
<span class="sd">            tags: A list of tags to associate with the created deployment for organizational</span>
<span class="sd">                purposes.</span>
<span class="sd">            version: A version for the created deployment. Defaults to the flow&#39;s version.</span>
<span class="sd">            enforce_parameter_schema: Whether or not the Prefect API should enforce the</span>
<span class="sd">                parameter schema for the created deployment.</span>
<span class="sd">            work_pool_name: The name of the work pool to use for this deployment.</span>
<span class="sd">            work_queue_name: The name of the work queue to use for this deployment&#39;s scheduled runs.</span>
<span class="sd">                If not provided the default work queue for the work pool will be used.</span>
<span class="sd">            job_variables: Settings used to override the values specified default base job template</span>
<span class="sd">                of the chosen work pool. Refer to the base job template of the chosen work pool for</span>

<span class="sd">        Examples:</span>
<span class="sd">            Prepare two deployments and serve them:</span>

<span class="sd">            ```python</span>
<span class="sd">            from prefect import flow, serve</span>

<span class="sd">            @flow</span>
<span class="sd">            def my_flow(name):</span>
<span class="sd">                print(f&quot;hello {name}&quot;)</span>

<span class="sd">            @flow</span>
<span class="sd">            def my_other_flow(name):</span>
<span class="sd">                print(f&quot;goodbye {name}&quot;)</span>

<span class="sd">            if __name__ == &quot;__main__&quot;:</span>
<span class="sd">                hello_deploy = my_flow.to_deployment(&quot;hello&quot;, tags=[&quot;dev&quot;])</span>
<span class="sd">                bye_deploy = my_other_flow.to_deployment(&quot;goodbye&quot;, tags=[&quot;dev&quot;])</span>
<span class="sd">                serve(hello_deploy, bye_deploy)</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">prefect.deployments.runner</span> <span class="kn">import</span> <span class="n">RunnerDeployment</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">):</span>
            <span class="n">raise_on_name_with_banned_characters</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_entrypoint</span><span class="p">:</span>
            <span class="k">return</span> <span class="k">await</span> <span class="n">RunnerDeployment</span><span class="o">.</span><span class="n">from_storage</span><span class="p">(</span>
                <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="p">,</span>
                <span class="n">entrypoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_entrypoint</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
                <span class="n">cron</span><span class="o">=</span><span class="n">cron</span><span class="p">,</span>
                <span class="n">rrule</span><span class="o">=</span><span class="n">rrule</span><span class="p">,</span>
                <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
                <span class="n">is_schedule_active</span><span class="o">=</span><span class="n">is_schedule_active</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
                <span class="n">triggers</span><span class="o">=</span><span class="n">triggers</span><span class="p">,</span>
                <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span> <span class="ow">or</span> <span class="p">{},</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
                <span class="n">enforce_parameter_schema</span><span class="o">=</span><span class="n">enforce_parameter_schema</span><span class="p">,</span>
                <span class="n">work_pool_name</span><span class="o">=</span><span class="n">work_pool_name</span><span class="p">,</span>
                <span class="n">work_queue_name</span><span class="o">=</span><span class="n">work_queue_name</span><span class="p">,</span>
                <span class="n">job_variables</span><span class="o">=</span><span class="n">job_variables</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">RunnerDeployment</span><span class="o">.</span><span class="n">from_flow</span><span class="p">(</span>
                <span class="bp">self</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
                <span class="n">cron</span><span class="o">=</span><span class="n">cron</span><span class="p">,</span>
                <span class="n">rrule</span><span class="o">=</span><span class="n">rrule</span><span class="p">,</span>
                <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
                <span class="n">is_schedule_active</span><span class="o">=</span><span class="n">is_schedule_active</span><span class="p">,</span>
                <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
                <span class="n">triggers</span><span class="o">=</span><span class="n">triggers</span><span class="p">,</span>
                <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span> <span class="ow">or</span> <span class="p">{},</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
                <span class="n">enforce_parameter_schema</span><span class="o">=</span><span class="n">enforce_parameter_schema</span><span class="p">,</span>
                <span class="n">work_pool_name</span><span class="o">=</span><span class="n">work_pool_name</span><span class="p">,</span>
                <span class="n">work_queue_name</span><span class="o">=</span><span class="n">work_queue_name</span><span class="p">,</span>
                <span class="n">job_variables</span><span class="o">=</span><span class="n">job_variables</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="nd">@sync_compatible</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">serve</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cron</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">rrule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SCHEDULE_TYPES</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_schedule_active</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">triggers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">DeploymentTrigger</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enforce_parameter_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">pause_on_shutdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">print_starting_message</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">webserver</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a deployment for this flow and starts a runner to monitor for scheduled work.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name to give the created deployment.</span>
<span class="sd">            interval: An interval on which to execute the new deployment. Accepts either a number</span>
<span class="sd">                or a timedelta object. If a number is given, it will be interpreted as seconds.</span>
<span class="sd">            cron: A cron schedule of when to execute runs of this deployment.</span>
<span class="sd">            rrule: An rrule schedule of when to execute runs of this deployment.</span>
<span class="sd">            triggers: A list of triggers that will kick off runs of this deployment.</span>
<span class="sd">            schedule: A schedule object defining when to execute runs of this deployment. Used to</span>
<span class="sd">                define additional scheduling options like `timezone`.</span>
<span class="sd">            is_schedule_active: Whether or not to set the schedule for this deployment as active. If</span>
<span class="sd">                not provided when creating a deployment, the schedule will be set as active. If not</span>
<span class="sd">                provided when updating a deployment, the schedule&#39;s activation will not be changed.</span>
<span class="sd">            parameters: A dictionary of default parameter values to pass to runs of this deployment.</span>
<span class="sd">            description: A description for the created deployment. Defaults to the flow&#39;s</span>
<span class="sd">                description if not provided.</span>
<span class="sd">            tags: A list of tags to associate with the created deployment for organizational</span>
<span class="sd">                purposes.</span>
<span class="sd">            version: A version for the created deployment. Defaults to the flow&#39;s version.</span>
<span class="sd">            enforce_parameter_schema: Whether or not the Prefect API should enforce the</span>
<span class="sd">                parameter schema for the created deployment.</span>
<span class="sd">            pause_on_shutdown: If True, provided schedule will be paused when the serve function is stopped.</span>
<span class="sd">                If False, the schedules will continue running.</span>
<span class="sd">            print_starting_message: Whether or not to print the starting message when flow is served.</span>
<span class="sd">            webserver: Whether or not to start a monitoring webserver for this flow.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Serve a flow:</span>

<span class="sd">            ```python</span>
<span class="sd">            from prefect import flow</span>

<span class="sd">            @flow</span>
<span class="sd">            def my_flow(name):</span>
<span class="sd">                print(f&quot;hello {name}&quot;)</span>

<span class="sd">            if __name__ == &quot;__main__&quot;:</span>
<span class="sd">                my_flow.serve(&quot;example-deployment&quot;)</span>
<span class="sd">            ```</span>

<span class="sd">            Serve a flow and run it every hour:</span>

<span class="sd">            ```python</span>
<span class="sd">            from prefect import flow</span>

<span class="sd">            @flow</span>
<span class="sd">            def my_flow(name):</span>
<span class="sd">                print(f&quot;hello {name}&quot;)</span>

<span class="sd">            if __name__ == &quot;__main__&quot;:</span>
<span class="sd">                my_flow.serve(&quot;example-deployment&quot;, interval=3600)</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">prefect.runner</span> <span class="kn">import</span> <span class="n">Runner</span>

        <span class="c1"># Handling for my_flow.serve(__file__)</span>
        <span class="c1"># Will set name to name of file where my_flow.serve() without the extension</span>
        <span class="c1"># Non filepath strings will pass through unchanged</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span>

        <span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">pause_on_shutdown</span><span class="o">=</span><span class="n">pause_on_shutdown</span><span class="p">)</span>
        <span class="n">deployment_id</span> <span class="o">=</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">triggers</span><span class="o">=</span><span class="n">triggers</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
            <span class="n">cron</span><span class="o">=</span><span class="n">cron</span><span class="p">,</span>
            <span class="n">rrule</span><span class="o">=</span><span class="n">rrule</span><span class="p">,</span>
            <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
            <span class="n">is_schedule_active</span><span class="o">=</span><span class="n">is_schedule_active</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
            <span class="n">enforce_parameter_schema</span><span class="o">=</span><span class="n">enforce_parameter_schema</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">print_starting_message</span><span class="p">:</span>
            <span class="n">help_message</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;[green]Your flow </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> is being served and polling for&quot;</span>
                <span class="s2">&quot; scheduled runs!</span><span class="se">\n</span><span class="s2">[/]</span><span class="se">\n</span><span class="s2">To trigger a run for this flow, use the&quot;</span>
                <span class="s2">&quot; following command:</span><span class="se">\n</span><span class="s2">[blue]</span><span class="se">\n\t</span><span class="s2">$ prefect deployment run&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">[/]&quot;</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">PREFECT_UI_URL</span><span class="p">:</span>
                <span class="n">help_message</span> <span class="o">+=</span> <span class="p">(</span>
                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You can also run your flow via the Prefect UI:&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; [blue]</span><span class="si">{</span><span class="n">PREFECT_UI_URL</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="si">}</span><span class="s2">/deployments/deployment/</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">[/]</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="p">)</span>

            <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
            <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">Panel</span><span class="p">(</span><span class="n">help_message</span><span class="p">))</span>
        <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">webserver</span><span class="o">=</span><span class="n">webserver</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@sync_compatible</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">from_source</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">F</span><span class="p">],</span>
        <span class="n">source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunnerStorage</span><span class="p">,</span> <span class="n">ReadableDeploymentStorage</span><span class="p">],</span>
        <span class="n">entrypoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Loads a flow from a remote s ource.</span>

<span class="sd">        Args:</span>
<span class="sd">            source: Either a URL to a git repository or a storage object.</span>
<span class="sd">            entrypoint:  The path to a file containing a flow and the name of the flow function in</span>
<span class="sd">                the format `./path/to/file.py:flow_func_name`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `Flow` instance.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Load a flow from a public git repository:</span>


<span class="sd">            ```python</span>
<span class="sd">            from prefect import flow</span>
<span class="sd">            from prefect.runner.storage import GitRepository</span>
<span class="sd">            from prefect.blocks.system import Secret</span>

<span class="sd">            my_flow = flow.from_source(</span>
<span class="sd">                source=&quot;https://github.com/org/repo.git&quot;,</span>
<span class="sd">                entrypoint=&quot;flows.py:my_flow&quot;,</span>
<span class="sd">            )</span>

<span class="sd">            my_flow()</span>
<span class="sd">            ```</span>

<span class="sd">            Load a flow from a private git repository:</span>

<span class="sd">            ```python</span>
<span class="sd">            from prefect import flow</span>
<span class="sd">            from prefect.runner.storage import GitRepository</span>
<span class="sd">            from prefect.blocks.system import Secret</span>

<span class="sd">            my_flow = flow.from_source(</span>
<span class="sd">                source=GitRepository(</span>
<span class="sd">                    url=&quot;https://github.com/org/repo.git&quot;,</span>
<span class="sd">                    access_token=Secret.load(&quot;github-access-token&quot;).get(),</span>
<span class="sd">                ),</span>
<span class="sd">                entrypoint=&quot;flows.py:my_flow&quot;,</span>
<span class="sd">            )</span>

<span class="sd">            my_flow()</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">storage</span> <span class="o">=</span> <span class="n">create_storage_from_url</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">RunnerStorage</span><span class="p">):</span>
            <span class="n">storage</span> <span class="o">=</span> <span class="n">source</span>
        <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="s2">&quot;get_directory&quot;</span><span class="p">):</span>
            <span class="n">storage</span> <span class="o">=</span> <span class="n">BlockStorageAdapter</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unsupported source type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2">. Please provide a&quot;</span>
                <span class="s2">&quot; URL to remote storage or a storage object.&quot;</span>
            <span class="p">)</span>
        <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdir</span><span class="p">:</span>
            <span class="n">storage</span><span class="o">.</span><span class="n">set_base_path</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">))</span>
            <span class="k">await</span> <span class="n">storage</span><span class="o">.</span><span class="n">pull_code</span><span class="p">()</span>

            <span class="n">full_entrypoint</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">destination</span> <span class="o">/</span> <span class="n">entrypoint</span><span class="p">)</span>
            <span class="n">flow</span><span class="p">:</span> <span class="s2">&quot;Flow&quot;</span> <span class="o">=</span> <span class="k">await</span> <span class="n">from_async</span><span class="o">.</span><span class="n">wait_for_call_in_new_thread</span><span class="p">(</span>
                <span class="n">create_call</span><span class="p">(</span><span class="n">load_flow_from_entrypoint</span><span class="p">,</span> <span class="n">full_entrypoint</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">flow</span><span class="o">.</span><span class="n">_storage</span> <span class="o">=</span> <span class="n">storage</span>
            <span class="n">flow</span><span class="o">.</span><span class="n">_entrypoint</span> <span class="o">=</span> <span class="n">entrypoint</span>

        <span class="k">return</span> <span class="n">flow</span>

    <span class="nd">@sync_compatible</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">deploy</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">work_pool_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DeploymentImage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">build</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">push</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">work_queue_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">job_variables</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">cron</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">rrule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SCHEDULE_TYPES</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">is_schedule_active</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">triggers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">DeploymentTrigger</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">enforce_parameter_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">print_next_steps</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Deploys a flow to run on dynamic infrastructure via a work pool.</span>

<span class="sd">        By default, calling this method will build a Docker image for the flow, push it to a registry,</span>
<span class="sd">        and create a deployment via the Prefect API that will run the flow on the given schedule.</span>

<span class="sd">        If you want to use an existing image, you can pass `build=False` to skip building and pushing</span>
<span class="sd">        an image.</span>

<span class="sd">        Args:</span>
<span class="sd">            name: The name to give the created deployment.</span>
<span class="sd">            work_pool_name: The name of the work pool to use for this deployment. Defaults to</span>
<span class="sd">                the value of `PREFECT_DEFAULT_WORK_POOL_NAME`.</span>
<span class="sd">            image: The name of the Docker image to build, including the registry and</span>
<span class="sd">                repository. Pass a DeploymentImage instance to customize the Dockerfile used</span>
<span class="sd">                and build arguments.</span>
<span class="sd">            build: Whether or not to build a new image for the flow. If False, the provided</span>
<span class="sd">                image will be used as-is and pulled at runtime.</span>
<span class="sd">            push: Whether or not to skip pushing the built image to a registry.</span>
<span class="sd">            work_queue_name: The name of the work queue to use for this deployment&#39;s scheduled runs.</span>
<span class="sd">                If not provided the default work queue for the work pool will be used.</span>
<span class="sd">            job_variables: Settings used to override the values specified default base job template</span>
<span class="sd">                of the chosen work pool. Refer to the base job template of the chosen work pool for</span>
<span class="sd">                available settings.</span>
<span class="sd">            interval: An interval on which to execute the new deployment. Accepts either a number</span>
<span class="sd">                or a timedelta object. If a number is given, it will be interpreted as seconds.</span>
<span class="sd">            cron: A cron schedule of when to execute runs of this deployment.</span>
<span class="sd">            rrule: An rrule schedule of when to execute runs of this deployment.</span>
<span class="sd">            triggers: A list of triggers that will kick off runs of this deployment.</span>
<span class="sd">            schedule: A schedule object defining when to execute runs of this deployment. Used to</span>
<span class="sd">                define additional scheduling options like `timezone`.</span>
<span class="sd">            is_schedule_active: Whether or not to set the schedule for this deployment as active. If</span>
<span class="sd">                not provided when creating a deployment, the schedule will be set as active. If not</span>
<span class="sd">                provided when updating a deployment, the schedule&#39;s activation will not be changed.</span>
<span class="sd">            parameters: A dictionary of default parameter values to pass to runs of this deployment.</span>
<span class="sd">            description: A description for the created deployment. Defaults to the flow&#39;s</span>
<span class="sd">                description if not provided.</span>
<span class="sd">            tags: A list of tags to associate with the created deployment for organizational</span>
<span class="sd">                purposes.</span>
<span class="sd">            version: A version for the created deployment. Defaults to the flow&#39;s version.</span>
<span class="sd">            enforce_parameter_schema: Whether or not the Prefect API should enforce the</span>
<span class="sd">                parameter schema for the created deployment.</span>
<span class="sd">            print_next_steps_message: Whether or not to print a message with next steps</span>
<span class="sd">            after deploying the deployments.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The ID of the created/updated deployment.</span>

<span class="sd">        Examples:</span>
<span class="sd">            Deploy a local flow to a work pool:</span>

<span class="sd">            ```python</span>
<span class="sd">            from prefect import flow</span>

<span class="sd">            @flow</span>
<span class="sd">            def my_flow(name):</span>
<span class="sd">                print(f&quot;hello {name}&quot;)</span>

<span class="sd">            if __name__ == &quot;__main__&quot;:</span>
<span class="sd">                my_flow.deploy(</span>
<span class="sd">                    &quot;example-deployment&quot;,</span>
<span class="sd">                    work_pool_name=&quot;my-work-pool&quot;,</span>
<span class="sd">                    image=&quot;my-repository/my-image:dev&quot;,</span>
<span class="sd">                )</span>
<span class="sd">            ```</span>

<span class="sd">            Deploy a remotely stored flow to a work pool:</span>

<span class="sd">            ```python</span>
<span class="sd">            from prefect import flow</span>

<span class="sd">            if __name__ == &quot;__main__&quot;:</span>
<span class="sd">                flow.from_source(</span>
<span class="sd">                    source=&quot;https://github.com/org/repo.git&quot;,</span>
<span class="sd">                    entrypoint=&quot;flows.py:my_flow&quot;,</span>
<span class="sd">                ).deploy(</span>
<span class="sd">                    &quot;example-deployment&quot;,</span>
<span class="sd">                    work_pool_name=&quot;my-work-pool&quot;,</span>
<span class="sd">                    image=&quot;my-repository/my-image:dev&quot;,</span>
<span class="sd">                )</span>
<span class="sd">            ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">work_pool_name</span> <span class="o">=</span> <span class="n">work_pool_name</span> <span class="ow">or</span> <span class="n">PREFECT_DEFAULT_WORK_POOL_NAME</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">async</span> <span class="k">with</span> <span class="n">get_client</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
                <span class="n">work_pool</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">read_work_pool</span><span class="p">(</span><span class="n">work_pool_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">ObjectNotFound</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Could not find work pool </span><span class="si">{</span><span class="n">work_pool_name</span><span class="si">!r}</span><span class="s2">. Please create it before&quot;</span>
                <span class="s2">&quot; deploying this flow.&quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="n">deployment</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_deployment</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
            <span class="n">cron</span><span class="o">=</span><span class="n">cron</span><span class="p">,</span>
            <span class="n">rrule</span><span class="o">=</span><span class="n">rrule</span><span class="p">,</span>
            <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
            <span class="n">is_schedule_active</span><span class="o">=</span><span class="n">is_schedule_active</span><span class="p">,</span>
            <span class="n">triggers</span><span class="o">=</span><span class="n">triggers</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
            <span class="n">enforce_parameter_schema</span><span class="o">=</span><span class="n">enforce_parameter_schema</span><span class="p">,</span>
            <span class="n">work_queue_name</span><span class="o">=</span><span class="n">work_queue_name</span><span class="p">,</span>
            <span class="n">job_variables</span><span class="o">=</span><span class="n">job_variables</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">deployment_ids</span> <span class="o">=</span> <span class="k">await</span> <span class="n">deploy</span><span class="p">(</span>
            <span class="n">deployment</span><span class="p">,</span>
            <span class="n">work_pool_name</span><span class="o">=</span><span class="n">work_pool_name</span><span class="p">,</span>
            <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
            <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
            <span class="n">push</span><span class="o">=</span><span class="n">push</span><span class="p">,</span>
            <span class="n">print_next_steps_message</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">print_next_steps</span><span class="p">:</span>
            <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">work_pool</span><span class="o">.</span><span class="n">is_push_pool</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">work_pool</span><span class="o">.</span><span class="n">is_managed_pool</span><span class="p">:</span>
                <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">To execute flow runs from this deployment, start a worker in a&quot;</span>
                    <span class="s2">&quot; separate terminal that pulls work from the&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">work_pool_name</span><span class="si">!r}</span><span class="s2"> work pool:&quot;</span>
                <span class="p">)</span>
                <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">$ prefect worker start --pool </span><span class="si">{</span><span class="n">work_pool_name</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">style</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">To schedule a run for this deployment, use the following command:&quot;</span>
            <span class="p">)</span>
            <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">$ prefect deployment run &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">PREFECT_UI_URL</span><span class="p">:</span>
                <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You can also run your flow via the Prefect UI:&quot;</span>
                    <span class="sa">f</span><span class="s2">&quot; [blue]</span><span class="si">{</span><span class="n">PREFECT_UI_URL</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="si">}</span><span class="s2">/deployments/deployment/</span><span class="si">{</span><span class="n">deployment_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">[/]</span><span class="se">\n</span><span class="s2">&quot;</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">deployment_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="nd">@overload</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;Flow[P, NoReturn]&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># `NoReturn` matches if a type can&#39;t be inferred for the function which stops a</span>
        <span class="c1"># sync function from matching the `Coroutine` overload</span>
        <span class="o">...</span>

    <span class="nd">@overload</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;Flow[P, Coroutine[Any, Any, T]]&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="nd">@overload</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;Flow[P, T]&quot;</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
        <span class="o">...</span>

    <span class="nd">@overload</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;Flow[P, T]&quot;</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span>
        <span class="n">return_state</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="kc">True</span><span class="p">],</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">State</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="s2">&quot;P.args&quot;</span><span class="p">,</span>
        <span class="n">return_state</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">wait_for</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="n">PrefectFuture</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="s2">&quot;P.kwargs&quot;</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run the flow and return its result.</span>


<span class="sd">        Flow parameter values must be serializable by Pydantic.</span>

<span class="sd">        If writing an async flow, this call must be awaited.</span>

<span class="sd">        This will create a new flow run in the API.</span>

<span class="sd">        Args:</span>
<span class="sd">            *args: Arguments to run the flow with.</span>
<span class="sd">            return_state: Return a Prefect State containing the result of the</span>
<span class="sd">                flow run.</span>
<span class="sd">            wait_for: Upstream task futures to wait for before starting the flow if called as a subflow</span>
<span class="sd">            **kwargs: Keyword arguments to run the flow with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            If `return_state` is False, returns the result of the flow run.</span>
<span class="sd">            If `return_state` is True, returns the result of the flow run</span>
<span class="sd">                wrapped in a Prefect State which provides error handling.</span>

<span class="sd">        Examples:</span>

<span class="sd">            Define a flow</span>

<span class="sd">            &gt;&gt;&gt; @flow</span>
<span class="sd">            &gt;&gt;&gt; def my_flow(name):</span>
<span class="sd">            &gt;&gt;&gt;     print(f&quot;hello {name}&quot;)</span>
<span class="sd">            &gt;&gt;&gt;     return f&quot;goodbye {name}&quot;</span>

<span class="sd">            Run a flow</span>

<span class="sd">            &gt;&gt;&gt; my_flow(&quot;marvin&quot;)</span>
<span class="sd">            hello marvin</span>
<span class="sd">            &quot;goodbye marvin&quot;</span>

<span class="sd">            Run a flow with additional tags</span>

<span class="sd">            &gt;&gt;&gt; from prefect import tags</span>
<span class="sd">            &gt;&gt;&gt; with tags(&quot;db&quot;, &quot;blue&quot;):</span>
<span class="sd">            &gt;&gt;&gt;     my_flow(&quot;foo&quot;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">prefect.engine</span> <span class="kn">import</span> <span class="n">enter_flow_run_engine_from_flow_call</span>

        <span class="c1"># Convert the call args/kwargs to a parameter dict</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="n">get_call_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>

        <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;state&quot;</span> <span class="k">if</span> <span class="n">return_state</span> <span class="k">else</span> <span class="s2">&quot;result&quot;</span>

        <span class="n">task_viz_tracker</span> <span class="o">=</span> <span class="n">get_task_viz_tracker</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">task_viz_tracker</span><span class="p">:</span>
            <span class="c1"># this is a subflow, for now return a single task and do not go further</span>
            <span class="c1"># we can add support for exploring subflows for tasks in the future.</span>
            <span class="k">return</span> <span class="n">track_viz_task</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isasync</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">enter_flow_run_engine_from_flow_call</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">parameters</span><span class="p">,</span>
            <span class="n">wait_for</span><span class="o">=</span><span class="n">wait_for</span><span class="p">,</span>
            <span class="n">return_type</span><span class="o">=</span><span class="n">return_type</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@overload</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;Flow[P, NoReturn]&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">State</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="c1"># `NoReturn` matches if a type can&#39;t be inferred for the function which stops a</span>
        <span class="c1"># sync function from matching the `Coroutine` overload</span>
        <span class="o">...</span>

    <span class="nd">@overload</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;Flow[P, Coroutine[Any, Any, T]]&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Awaitable</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="nd">@overload</span>
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span> <span class="s2">&quot;Flow[P, T]&quot;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">P</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">State</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="s2">&quot;P.args&quot;</span><span class="p">,</span>
        <span class="n">wait_for</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Iterable</span><span class="p">[</span><span class="n">PrefectFuture</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="s2">&quot;P.kwargs&quot;</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run the flow and return its final state.</span>

<span class="sd">        Examples:</span>

<span class="sd">            Run a flow and get the returned result</span>

<span class="sd">            &gt;&gt;&gt; state = my_flow._run(&quot;marvin&quot;)</span>
<span class="sd">            &gt;&gt;&gt; state.result()</span>
<span class="sd">           &quot;goodbye marvin&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">prefect.engine</span> <span class="kn">import</span> <span class="n">enter_flow_run_engine_from_flow_call</span>

        <span class="c1"># Convert the call args/kwargs to a parameter dict</span>
        <span class="n">parameters</span> <span class="o">=</span> <span class="n">get_call_parameters</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">enter_flow_run_engine_from_flow_call</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">parameters</span><span class="p">,</span>
            <span class="n">wait_for</span><span class="o">=</span><span class="n">wait_for</span><span class="p">,</span>
            <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;state&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@sync_compatible</span>
    <span class="k">async</span> <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a graphviz object representing the current flow. In IPython notebooks,</span>
<span class="sd">        it&#39;s rendered inline, otherwise in a new window as a PNG.</span>

<span class="sd">        Raises:</span>
<span class="sd">            - ImportError: If `graphviz` isn&#39;t installed.</span>
<span class="sd">            - GraphvizExecutableNotFoundError: If the `dot` executable isn&#39;t found.</span>
<span class="sd">            - FlowVisualizationError: If the flow can&#39;t be visualized for any other reason.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">PREFECT_UNIT_TEST_MODE</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="s2">&quot;`flow.visualize()` will execute code inside of your flow that is not&quot;</span>
                <span class="s2">&quot; decorated with `@task` or `@flow`.&quot;</span>
            <span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">TaskVizTracker</span><span class="p">()</span> <span class="k">as</span> <span class="n">tracker</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isasync</span><span class="p">:</span>
                    <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

                <span class="n">graph</span> <span class="o">=</span> <span class="n">build_task_dependencies</span><span class="p">(</span><span class="n">tracker</span><span class="p">)</span>

                <span class="n">visualize_task_dependencies</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">GraphvizImportError</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span> <span class="n">GraphvizExecutableNotFoundError</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span> <span class="n">VisualizationUnsupportedError</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span> <span class="n">FlowVisualizationError</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="s2">&quot;It&#39;s possible you are trying to visualize a flow that contains &quot;</span>
                <span class="s2">&quot;code that directly interacts with the result of a task&quot;</span>
                <span class="s2">&quot; inside of the flow. </span><span class="se">\n</span><span class="s2">Try passing a `viz_return_value` &quot;</span>
                <span class="s2">&quot;to the task decorator, e.g. `@task(viz_return_value=[1, 2, 3]).`&quot;</span>
            <span class="p">)</span>

            <span class="n">new_exception</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">msg</span><span class="p">)</span>
            <span class="c1"># Copy traceback information from the original exception</span>
            <span class="n">new_exception</span><span class="o">.</span><span class="n">__traceback__</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">__traceback__</span>
            <span class="k">raise</span> <span class="n">new_exception</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">



<h3 id="prefect.flows.Flow.deploy" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">deploy</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#prefect.flows.Flow.deploy" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Deploys a flow to run on dynamic infrastructure via a work pool.</p>
<p>By default, calling this method will build a Docker image for the flow, push it to a registry,
and create a deployment via the Prefect API that will run the flow on the given schedule.</p>
<p>If you want to use an existing image, you can pass <code>build=False</code> to skip building and pushing
an image.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name to give the created deployment.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>work_pool_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the work pool to use for this deployment. Defaults to
the value of <code>PREFECT_DEFAULT_WORK_POOL_NAME</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>image</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[str, <a class="autorefs autorefs-internal" title="prefect.deployments.runner.DeploymentImage" href="../deployments/runner/#prefect.deployments.runner.DeploymentImage">DeploymentImage</a>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the Docker image to build, including the registry and
repository. Pass a DeploymentImage instance to customize the Dockerfile used
and build arguments.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>build</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to build a new image for the flow. If False, the provided
image will be used as-is and pulled at runtime.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>push</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to skip pushing the built image to a registry.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>work_queue_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the work queue to use for this deployment's scheduled runs.
If not provided the default work queue for the work pool will be used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>job_variables</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[dict]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Settings used to override the values specified default base job template
of the chosen work pool. Refer to the base job template of the chosen work pool for
available settings.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[int, float, <span title="datetime.timedelta">timedelta</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An interval on which to execute the new deployment. Accepts either a number
or a timedelta object. If a number is given, it will be interpreted as seconds.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>cron</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A cron schedule of when to execute runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>rrule</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An rrule schedule of when to execute runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>triggers</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="prefect.events.schemas.DeploymentTrigger">DeploymentTrigger</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of triggers that will kick off runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>schedule</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.client.schemas.schedules.SCHEDULE_TYPES">SCHEDULE_TYPES</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A schedule object defining when to execute runs of this deployment. Used to
define additional scheduling options like <code>timezone</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>is_schedule_active</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to set the schedule for this deployment as active. If
not provided when creating a deployment, the schedule will be set as active. If not
provided when updating a deployment, the schedule's activation will not be changed.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>parameters</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[dict]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary of default parameter values to pass to runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A description for the created deployment. Defaults to the flow's
description if not provided.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>tags</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of tags to associate with the created deployment for organizational
purposes.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>version</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A version for the created deployment. Defaults to the flow's version.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enforce_parameter_schema</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not the Prefect API should enforce the
parameter schema for the created deployment.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>print_next_steps_message</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to print a message with next steps</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="uuid.UUID">UUID</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The ID of the created/updated deployment.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



<p><strong>Examples:</strong></p>
    <p>Deploy a local flow to a work pool:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">my_flow</span><span class="o">.</span><span class="n">deploy</span><span class="p">(</span>
        <span class="s2">&quot;example-deployment&quot;</span><span class="p">,</span>
        <span class="n">work_pool_name</span><span class="o">=</span><span class="s2">&quot;my-work-pool&quot;</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my-repository/my-image:dev&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>
<p>Deploy a remotely stored flow to a work pool:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;https://github.com/org/repo.git&quot;</span><span class="p">,</span>
        <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;flows.py:my_flow&quot;</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">deploy</span><span class="p">(</span>
        <span class="s2">&quot;example-deployment&quot;</span><span class="p">,</span>
        <span class="n">work_pool_name</span><span class="o">=</span><span class="s2">&quot;my-work-pool&quot;</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="s2">&quot;my-repository/my-image:dev&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@sync_compatible</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">deploy</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">work_pool_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">DeploymentImage</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">build</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">push</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">work_queue_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">job_variables</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cron</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">rrule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SCHEDULE_TYPES</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_schedule_active</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">triggers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">DeploymentTrigger</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enforce_parameter_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">print_next_steps</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">UUID</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Deploys a flow to run on dynamic infrastructure via a work pool.</span>

<span class="sd">    By default, calling this method will build a Docker image for the flow, push it to a registry,</span>
<span class="sd">    and create a deployment via the Prefect API that will run the flow on the given schedule.</span>

<span class="sd">    If you want to use an existing image, you can pass `build=False` to skip building and pushing</span>
<span class="sd">    an image.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name to give the created deployment.</span>
<span class="sd">        work_pool_name: The name of the work pool to use for this deployment. Defaults to</span>
<span class="sd">            the value of `PREFECT_DEFAULT_WORK_POOL_NAME`.</span>
<span class="sd">        image: The name of the Docker image to build, including the registry and</span>
<span class="sd">            repository. Pass a DeploymentImage instance to customize the Dockerfile used</span>
<span class="sd">            and build arguments.</span>
<span class="sd">        build: Whether or not to build a new image for the flow. If False, the provided</span>
<span class="sd">            image will be used as-is and pulled at runtime.</span>
<span class="sd">        push: Whether or not to skip pushing the built image to a registry.</span>
<span class="sd">        work_queue_name: The name of the work queue to use for this deployment&#39;s scheduled runs.</span>
<span class="sd">            If not provided the default work queue for the work pool will be used.</span>
<span class="sd">        job_variables: Settings used to override the values specified default base job template</span>
<span class="sd">            of the chosen work pool. Refer to the base job template of the chosen work pool for</span>
<span class="sd">            available settings.</span>
<span class="sd">        interval: An interval on which to execute the new deployment. Accepts either a number</span>
<span class="sd">            or a timedelta object. If a number is given, it will be interpreted as seconds.</span>
<span class="sd">        cron: A cron schedule of when to execute runs of this deployment.</span>
<span class="sd">        rrule: An rrule schedule of when to execute runs of this deployment.</span>
<span class="sd">        triggers: A list of triggers that will kick off runs of this deployment.</span>
<span class="sd">        schedule: A schedule object defining when to execute runs of this deployment. Used to</span>
<span class="sd">            define additional scheduling options like `timezone`.</span>
<span class="sd">        is_schedule_active: Whether or not to set the schedule for this deployment as active. If</span>
<span class="sd">            not provided when creating a deployment, the schedule will be set as active. If not</span>
<span class="sd">            provided when updating a deployment, the schedule&#39;s activation will not be changed.</span>
<span class="sd">        parameters: A dictionary of default parameter values to pass to runs of this deployment.</span>
<span class="sd">        description: A description for the created deployment. Defaults to the flow&#39;s</span>
<span class="sd">            description if not provided.</span>
<span class="sd">        tags: A list of tags to associate with the created deployment for organizational</span>
<span class="sd">            purposes.</span>
<span class="sd">        version: A version for the created deployment. Defaults to the flow&#39;s version.</span>
<span class="sd">        enforce_parameter_schema: Whether or not the Prefect API should enforce the</span>
<span class="sd">            parameter schema for the created deployment.</span>
<span class="sd">        print_next_steps_message: Whether or not to print a message with next steps</span>
<span class="sd">        after deploying the deployments.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The ID of the created/updated deployment.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Deploy a local flow to a work pool:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>

<span class="sd">        @flow</span>
<span class="sd">        def my_flow(name):</span>
<span class="sd">            print(f&quot;hello {name}&quot;)</span>

<span class="sd">        if __name__ == &quot;__main__&quot;:</span>
<span class="sd">            my_flow.deploy(</span>
<span class="sd">                &quot;example-deployment&quot;,</span>
<span class="sd">                work_pool_name=&quot;my-work-pool&quot;,</span>
<span class="sd">                image=&quot;my-repository/my-image:dev&quot;,</span>
<span class="sd">            )</span>
<span class="sd">        ```</span>

<span class="sd">        Deploy a remotely stored flow to a work pool:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>

<span class="sd">        if __name__ == &quot;__main__&quot;:</span>
<span class="sd">            flow.from_source(</span>
<span class="sd">                source=&quot;https://github.com/org/repo.git&quot;,</span>
<span class="sd">                entrypoint=&quot;flows.py:my_flow&quot;,</span>
<span class="sd">            ).deploy(</span>
<span class="sd">                &quot;example-deployment&quot;,</span>
<span class="sd">                work_pool_name=&quot;my-work-pool&quot;,</span>
<span class="sd">                image=&quot;my-repository/my-image:dev&quot;,</span>
<span class="sd">            )</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">work_pool_name</span> <span class="o">=</span> <span class="n">work_pool_name</span> <span class="ow">or</span> <span class="n">PREFECT_DEFAULT_WORK_POOL_NAME</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">async</span> <span class="k">with</span> <span class="n">get_client</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
            <span class="n">work_pool</span> <span class="o">=</span> <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">read_work_pool</span><span class="p">(</span><span class="n">work_pool_name</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ObjectNotFound</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Could not find work pool </span><span class="si">{</span><span class="n">work_pool_name</span><span class="si">!r}</span><span class="s2">. Please create it before&quot;</span>
            <span class="s2">&quot; deploying this flow.&quot;</span>
        <span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

    <span class="n">deployment</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_deployment</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
        <span class="n">cron</span><span class="o">=</span><span class="n">cron</span><span class="p">,</span>
        <span class="n">rrule</span><span class="o">=</span><span class="n">rrule</span><span class="p">,</span>
        <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
        <span class="n">is_schedule_active</span><span class="o">=</span><span class="n">is_schedule_active</span><span class="p">,</span>
        <span class="n">triggers</span><span class="o">=</span><span class="n">triggers</span><span class="p">,</span>
        <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
        <span class="n">enforce_parameter_schema</span><span class="o">=</span><span class="n">enforce_parameter_schema</span><span class="p">,</span>
        <span class="n">work_queue_name</span><span class="o">=</span><span class="n">work_queue_name</span><span class="p">,</span>
        <span class="n">job_variables</span><span class="o">=</span><span class="n">job_variables</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">deployment_ids</span> <span class="o">=</span> <span class="k">await</span> <span class="n">deploy</span><span class="p">(</span>
        <span class="n">deployment</span><span class="p">,</span>
        <span class="n">work_pool_name</span><span class="o">=</span><span class="n">work_pool_name</span><span class="p">,</span>
        <span class="n">image</span><span class="o">=</span><span class="n">image</span><span class="p">,</span>
        <span class="n">build</span><span class="o">=</span><span class="n">build</span><span class="p">,</span>
        <span class="n">push</span><span class="o">=</span><span class="n">push</span><span class="p">,</span>
        <span class="n">print_next_steps_message</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="n">print_next_steps</span><span class="p">:</span>
        <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">work_pool</span><span class="o">.</span><span class="n">is_push_pool</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">work_pool</span><span class="o">.</span><span class="n">is_managed_pool</span><span class="p">:</span>
            <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">To execute flow runs from this deployment, start a worker in a&quot;</span>
                <span class="s2">&quot; separate terminal that pulls work from the&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">work_pool_name</span><span class="si">!r}</span><span class="s2"> work pool:&quot;</span>
            <span class="p">)</span>
            <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">$ prefect worker start --pool </span><span class="si">{</span><span class="n">work_pool_name</span><span class="si">!r}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">To schedule a run for this deployment, use the following command:&quot;</span>
        <span class="p">)</span>
        <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">$ prefect deployment run &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">PREFECT_UI_URL</span><span class="p">:</span>
            <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You can also run your flow via the Prefect UI:&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; [blue]</span><span class="si">{</span><span class="n">PREFECT_UI_URL</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="si">}</span><span class="s2">/deployments/deployment/</span><span class="si">{</span><span class="n">deployment_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">[/]</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">return</span> <span class="n">deployment_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="prefect.flows.Flow.from_source" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">from_source</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

<a href="#prefect.flows.Flow.from_source" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Loads a flow from a remote s ource.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>source</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <a class="autorefs autorefs-internal" title="prefect.runner.storage.RunnerStorage" href="../runner/storage/#prefect.runner.storage.RunnerStorage">RunnerStorage</a>, <span title="prefect.filesystems.ReadableDeploymentStorage">ReadableDeploymentStorage</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Either a URL to a git repository or a storage object.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>entrypoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The path to a file containing a flow and the name of the flow function in
the format <code>./path/to/file.py:flow_func_name</code>.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="prefect.flows.F">F</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new <code>Flow</code> instance.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



<p><strong>Examples:</strong></p>
    <p>Load a flow from a public git repository:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect.runner.storage</span> <span class="kn">import</span> <span class="n">GitRepository</span>
<span class="kn">from</span> <span class="nn">prefect.blocks.system</span> <span class="kn">import</span> <span class="n">Secret</span>

<span class="n">my_flow</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="s2">&quot;https://github.com/org/repo.git&quot;</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;flows.py:my_flow&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">my_flow</span><span class="p">()</span>
</code></pre></div>
<p>Load a flow from a private git repository:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect.runner.storage</span> <span class="kn">import</span> <span class="n">GitRepository</span>
<span class="kn">from</span> <span class="nn">prefect.blocks.system</span> <span class="kn">import</span> <span class="n">Secret</span>

<span class="n">my_flow</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="n">GitRepository</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://github.com/org/repo.git&quot;</span><span class="p">,</span>
        <span class="n">access_token</span><span class="o">=</span><span class="n">Secret</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;github-access-token&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(),</span>
    <span class="p">),</span>
    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;flows.py:my_flow&quot;</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">my_flow</span><span class="p">()</span>
</code></pre></div>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span>
<span class="normal">789</span>
<span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span>
<span class="normal">809</span>
<span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span>
<span class="normal">827</span>
<span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span>
<span class="normal">852</span>
<span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="nd">@sync_compatible</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">from_source</span><span class="p">(</span>
    <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">F</span><span class="p">],</span>
    <span class="n">source</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">RunnerStorage</span><span class="p">,</span> <span class="n">ReadableDeploymentStorage</span><span class="p">],</span>
    <span class="n">entrypoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">F</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Loads a flow from a remote s ource.</span>

<span class="sd">    Args:</span>
<span class="sd">        source: Either a URL to a git repository or a storage object.</span>
<span class="sd">        entrypoint:  The path to a file containing a flow and the name of the flow function in</span>
<span class="sd">            the format `./path/to/file.py:flow_func_name`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `Flow` instance.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Load a flow from a public git repository:</span>


<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>
<span class="sd">        from prefect.runner.storage import GitRepository</span>
<span class="sd">        from prefect.blocks.system import Secret</span>

<span class="sd">        my_flow = flow.from_source(</span>
<span class="sd">            source=&quot;https://github.com/org/repo.git&quot;,</span>
<span class="sd">            entrypoint=&quot;flows.py:my_flow&quot;,</span>
<span class="sd">        )</span>

<span class="sd">        my_flow()</span>
<span class="sd">        ```</span>

<span class="sd">        Load a flow from a private git repository:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>
<span class="sd">        from prefect.runner.storage import GitRepository</span>
<span class="sd">        from prefect.blocks.system import Secret</span>

<span class="sd">        my_flow = flow.from_source(</span>
<span class="sd">            source=GitRepository(</span>
<span class="sd">                url=&quot;https://github.com/org/repo.git&quot;,</span>
<span class="sd">                access_token=Secret.load(&quot;github-access-token&quot;).get(),</span>
<span class="sd">            ),</span>
<span class="sd">            entrypoint=&quot;flows.py:my_flow&quot;,</span>
<span class="sd">        )</span>

<span class="sd">        my_flow()</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">storage</span> <span class="o">=</span> <span class="n">create_storage_from_url</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">RunnerStorage</span><span class="p">):</span>
        <span class="n">storage</span> <span class="o">=</span> <span class="n">source</span>
    <span class="k">elif</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="s2">&quot;get_directory&quot;</span><span class="p">):</span>
        <span class="n">storage</span> <span class="o">=</span> <span class="n">BlockStorageAdapter</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Unsupported source type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">source</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2">. Please provide a&quot;</span>
            <span class="s2">&quot; URL to remote storage or a storage object.&quot;</span>
        <span class="p">)</span>
    <span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">tmpdir</span><span class="p">:</span>
        <span class="n">storage</span><span class="o">.</span><span class="n">set_base_path</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">tmpdir</span><span class="p">))</span>
        <span class="k">await</span> <span class="n">storage</span><span class="o">.</span><span class="n">pull_code</span><span class="p">()</span>

        <span class="n">full_entrypoint</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">storage</span><span class="o">.</span><span class="n">destination</span> <span class="o">/</span> <span class="n">entrypoint</span><span class="p">)</span>
        <span class="n">flow</span><span class="p">:</span> <span class="s2">&quot;Flow&quot;</span> <span class="o">=</span> <span class="k">await</span> <span class="n">from_async</span><span class="o">.</span><span class="n">wait_for_call_in_new_thread</span><span class="p">(</span>
            <span class="n">create_call</span><span class="p">(</span><span class="n">load_flow_from_entrypoint</span><span class="p">,</span> <span class="n">full_entrypoint</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">flow</span><span class="o">.</span><span class="n">_storage</span> <span class="o">=</span> <span class="n">storage</span>
        <span class="n">flow</span><span class="o">.</span><span class="n">_entrypoint</span> <span class="o">=</span> <span class="n">entrypoint</span>

    <span class="k">return</span> <span class="n">flow</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="prefect.flows.Flow.serialize_parameters" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">serialize_parameters</span></code>

<a href="#prefect.flows.Flow.serialize_parameters" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Convert parameters to a serializable form.</p>
<p>Uses FastAPI's <code>jsonable_encoder</code> to convert to JSON compatible objects without
converting everything directly to a string. This maintains basic types like
integers during API roundtrips.</p>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">serialize_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert parameters to a serializable form.</span>

<span class="sd">    Uses FastAPI&#39;s `jsonable_encoder` to convert to JSON compatible objects without</span>
<span class="sd">    converting everything directly to a string. This maintains basic types like</span>
<span class="sd">    integers during API roundtrips.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">serialized_parameters</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">parameters</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">serialized_parameters</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">jsonable_encoder</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">):</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Parameter </span><span class="si">{</span><span class="n">key</span><span class="si">!r}</span><span class="s2"> for flow </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> is of unserializable &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;type </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">!r}</span><span class="s2"> and will not be stored &quot;</span>
                <span class="s2">&quot;in the backend.&quot;</span>
            <span class="p">)</span>
            <span class="n">serialized_parameters</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&gt;&quot;</span>
    <span class="k">return</span> <span class="n">serialized_parameters</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="prefect.flows.Flow.serve" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">serve</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#prefect.flows.Flow.serve" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Creates a deployment for this flow and starts a runner to monitor for scheduled work.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name to give the created deployment.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[int, float, <span title="datetime.timedelta">timedelta</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An interval on which to execute the new deployment. Accepts either a number
or a timedelta object. If a number is given, it will be interpreted as seconds.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>cron</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A cron schedule of when to execute runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>rrule</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An rrule schedule of when to execute runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>triggers</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="prefect.events.schemas.DeploymentTrigger">DeploymentTrigger</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of triggers that will kick off runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>schedule</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.client.schemas.schedules.SCHEDULE_TYPES">SCHEDULE_TYPES</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A schedule object defining when to execute runs of this deployment. Used to
define additional scheduling options like <code>timezone</code>.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>is_schedule_active</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to set the schedule for this deployment as active. If
not provided when creating a deployment, the schedule will be set as active. If not
provided when updating a deployment, the schedule's activation will not be changed.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>parameters</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[dict]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary of default parameter values to pass to runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A description for the created deployment. Defaults to the flow's
description if not provided.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>tags</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of tags to associate with the created deployment for organizational
purposes.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>version</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A version for the created deployment. Defaults to the flow's version.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enforce_parameter_schema</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not the Prefect API should enforce the
parameter schema for the created deployment.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>pause_on_shutdown</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If True, provided schedule will be paused when the serve function is stopped.
If False, the schedules will continue running.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>print_starting_message</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to print the starting message when flow is served.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>webserver</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to start a monitoring webserver for this flow.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>



<p><strong>Examples:</strong></p>
    <p>Serve a flow:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">my_flow</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="s2">&quot;example-deployment&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Serve a flow and run it every hour:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">my_flow</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="s2">&quot;example-deployment&quot;</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">3600</span><span class="p">)</span>
</code></pre></div>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span>
<span class="normal">751</span>
<span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span>
<span class="normal">773</span>
<span class="normal">774</span>
<span class="normal">775</span>
<span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@sync_compatible</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">serve</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cron</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">rrule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SCHEDULE_TYPES</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_schedule_active</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">triggers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">DeploymentTrigger</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enforce_parameter_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">pause_on_shutdown</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">print_starting_message</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">webserver</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a deployment for this flow and starts a runner to monitor for scheduled work.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name to give the created deployment.</span>
<span class="sd">        interval: An interval on which to execute the new deployment. Accepts either a number</span>
<span class="sd">            or a timedelta object. If a number is given, it will be interpreted as seconds.</span>
<span class="sd">        cron: A cron schedule of when to execute runs of this deployment.</span>
<span class="sd">        rrule: An rrule schedule of when to execute runs of this deployment.</span>
<span class="sd">        triggers: A list of triggers that will kick off runs of this deployment.</span>
<span class="sd">        schedule: A schedule object defining when to execute runs of this deployment. Used to</span>
<span class="sd">            define additional scheduling options like `timezone`.</span>
<span class="sd">        is_schedule_active: Whether or not to set the schedule for this deployment as active. If</span>
<span class="sd">            not provided when creating a deployment, the schedule will be set as active. If not</span>
<span class="sd">            provided when updating a deployment, the schedule&#39;s activation will not be changed.</span>
<span class="sd">        parameters: A dictionary of default parameter values to pass to runs of this deployment.</span>
<span class="sd">        description: A description for the created deployment. Defaults to the flow&#39;s</span>
<span class="sd">            description if not provided.</span>
<span class="sd">        tags: A list of tags to associate with the created deployment for organizational</span>
<span class="sd">            purposes.</span>
<span class="sd">        version: A version for the created deployment. Defaults to the flow&#39;s version.</span>
<span class="sd">        enforce_parameter_schema: Whether or not the Prefect API should enforce the</span>
<span class="sd">            parameter schema for the created deployment.</span>
<span class="sd">        pause_on_shutdown: If True, provided schedule will be paused when the serve function is stopped.</span>
<span class="sd">            If False, the schedules will continue running.</span>
<span class="sd">        print_starting_message: Whether or not to print the starting message when flow is served.</span>
<span class="sd">        webserver: Whether or not to start a monitoring webserver for this flow.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Serve a flow:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>

<span class="sd">        @flow</span>
<span class="sd">        def my_flow(name):</span>
<span class="sd">            print(f&quot;hello {name}&quot;)</span>

<span class="sd">        if __name__ == &quot;__main__&quot;:</span>
<span class="sd">            my_flow.serve(&quot;example-deployment&quot;)</span>
<span class="sd">        ```</span>

<span class="sd">        Serve a flow and run it every hour:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow</span>

<span class="sd">        @flow</span>
<span class="sd">        def my_flow(name):</span>
<span class="sd">            print(f&quot;hello {name}&quot;)</span>

<span class="sd">        if __name__ == &quot;__main__&quot;:</span>
<span class="sd">            my_flow.serve(&quot;example-deployment&quot;, interval=3600)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">prefect.runner</span> <span class="kn">import</span> <span class="n">Runner</span>

    <span class="c1"># Handling for my_flow.serve(__file__)</span>
    <span class="c1"># Will set name to name of file where my_flow.serve() without the extension</span>
    <span class="c1"># Non filepath strings will pass through unchanged</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span>

    <span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span> <span class="n">pause_on_shutdown</span><span class="o">=</span><span class="n">pause_on_shutdown</span><span class="p">)</span>
    <span class="n">deployment_id</span> <span class="o">=</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">add_flow</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">triggers</span><span class="o">=</span><span class="n">triggers</span><span class="p">,</span>
        <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
        <span class="n">cron</span><span class="o">=</span><span class="n">cron</span><span class="p">,</span>
        <span class="n">rrule</span><span class="o">=</span><span class="n">rrule</span><span class="p">,</span>
        <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
        <span class="n">is_schedule_active</span><span class="o">=</span><span class="n">is_schedule_active</span><span class="p">,</span>
        <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
        <span class="n">enforce_parameter_schema</span><span class="o">=</span><span class="n">enforce_parameter_schema</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">print_starting_message</span><span class="p">:</span>
        <span class="n">help_message</span> <span class="o">=</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;[green]Your flow </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">!r}</span><span class="s2"> is being served and polling for&quot;</span>
            <span class="s2">&quot; scheduled runs!</span><span class="se">\n</span><span class="s2">[/]</span><span class="se">\n</span><span class="s2">To trigger a run for this flow, use the&quot;</span>
            <span class="s2">&quot; following command:</span><span class="se">\n</span><span class="s2">[blue]</span><span class="se">\n\t</span><span class="s2">$ prefect deployment run&quot;</span>
            <span class="sa">f</span><span class="s2">&quot; &#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;</span><span class="se">\n</span><span class="s2">[/]&quot;</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">PREFECT_UI_URL</span><span class="p">:</span>
            <span class="n">help_message</span> <span class="o">+=</span> <span class="p">(</span>
                <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">You can also run your flow via the Prefect UI:&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; [blue]</span><span class="si">{</span><span class="n">PREFECT_UI_URL</span><span class="o">.</span><span class="n">value</span><span class="p">()</span><span class="si">}</span><span class="s2">/deployments/deployment/</span><span class="si">{</span><span class="n">deployment_id</span><span class="si">}</span><span class="s2">[/]</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="n">console</span> <span class="o">=</span> <span class="n">Console</span><span class="p">()</span>
        <span class="n">console</span><span class="o">.</span><span class="n">print</span><span class="p">(</span><span class="n">Panel</span><span class="p">(</span><span class="n">help_message</span><span class="p">))</span>
    <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">webserver</span><span class="o">=</span><span class="n">webserver</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="prefect.flows.Flow.to_deployment" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">to_deployment</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#prefect.flows.Flow.to_deployment" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Creates a runner deployment object for this flow.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name to give the created deployment.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>interval</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[int, float, <span title="datetime.timedelta">timedelta</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An interval on which to execute the new deployment. Accepts either a number
or a timedelta object. If a number is given, it will be interpreted as seconds.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>cron</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A cron schedule of when to execute runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>rrule</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An rrule schedule of when to execute runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>timezone</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A timezone to use for the schedule. Defaults to UTC.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>triggers</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="prefect.events.schemas.DeploymentTrigger">DeploymentTrigger</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of triggers that will kick off runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>schedule</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.client.schemas.schedules.SCHEDULE_TYPES">SCHEDULE_TYPES</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A schedule object defining when to execute runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>is_schedule_active</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not to set the schedule for this deployment as active. If
not provided when creating a deployment, the schedule will be set as active. If not
provided when updating a deployment, the schedule's activation will not be changed.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>parameters</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[dict]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A dictionary of default parameter values to pass to runs of this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A description for the created deployment. Defaults to the flow's
description if not provided.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>tags</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of tags to associate with the created deployment for organizational
purposes.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>version</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A version for the created deployment. Defaults to the flow's version.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>enforce_parameter_schema</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Whether or not the Prefect API should enforce the
parameter schema for the created deployment.</p>
            </div>
          </td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>work_pool_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the work pool to use for this deployment.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>work_queue_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The name of the work queue to use for this deployment's scheduled runs.
If not provided the default work queue for the work pool will be used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>job_variables</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Settings used to override the values specified default base job template
of the chosen work pool. Refer to the base job template of the chosen work pool for</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



<p><strong>Examples:</strong></p>
    <p>Prepare two deployments and serve them:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">serve</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">my_other_flow</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;goodbye </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">hello_deploy</span> <span class="o">=</span> <span class="n">my_flow</span><span class="o">.</span><span class="n">to_deployment</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dev&quot;</span><span class="p">])</span>
    <span class="n">bye_deploy</span> <span class="o">=</span> <span class="n">my_other_flow</span><span class="o">.</span><span class="n">to_deployment</span><span class="p">(</span><span class="s2">&quot;goodbye&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;dev&quot;</span><span class="p">])</span>
    <span class="n">serve</span><span class="p">(</span><span class="n">hello_deploy</span><span class="p">,</span> <span class="n">bye_deploy</span><span class="p">)</span>
</code></pre></div>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@sync_compatible</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">to_deployment</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">interval</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cron</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">rrule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">schedule</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SCHEDULE_TYPES</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">is_schedule_active</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">parameters</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">triggers</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">DeploymentTrigger</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">tags</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">enforce_parameter_schema</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">work_pool_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">work_queue_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">job_variables</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a runner deployment object for this flow.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: The name to give the created deployment.</span>
<span class="sd">        interval: An interval on which to execute the new deployment. Accepts either a number</span>
<span class="sd">            or a timedelta object. If a number is given, it will be interpreted as seconds.</span>
<span class="sd">        cron: A cron schedule of when to execute runs of this deployment.</span>
<span class="sd">        rrule: An rrule schedule of when to execute runs of this deployment.</span>
<span class="sd">        timezone: A timezone to use for the schedule. Defaults to UTC.</span>
<span class="sd">        triggers: A list of triggers that will kick off runs of this deployment.</span>
<span class="sd">        schedule: A schedule object defining when to execute runs of this deployment.</span>
<span class="sd">        is_schedule_active: Whether or not to set the schedule for this deployment as active. If</span>
<span class="sd">            not provided when creating a deployment, the schedule will be set as active. If not</span>
<span class="sd">            provided when updating a deployment, the schedule&#39;s activation will not be changed.</span>
<span class="sd">        parameters: A dictionary of default parameter values to pass to runs of this deployment.</span>
<span class="sd">        description: A description for the created deployment. Defaults to the flow&#39;s</span>
<span class="sd">            description if not provided.</span>
<span class="sd">        tags: A list of tags to associate with the created deployment for organizational</span>
<span class="sd">            purposes.</span>
<span class="sd">        version: A version for the created deployment. Defaults to the flow&#39;s version.</span>
<span class="sd">        enforce_parameter_schema: Whether or not the Prefect API should enforce the</span>
<span class="sd">            parameter schema for the created deployment.</span>
<span class="sd">        work_pool_name: The name of the work pool to use for this deployment.</span>
<span class="sd">        work_queue_name: The name of the work queue to use for this deployment&#39;s scheduled runs.</span>
<span class="sd">            If not provided the default work queue for the work pool will be used.</span>
<span class="sd">        job_variables: Settings used to override the values specified default base job template</span>
<span class="sd">            of the chosen work pool. Refer to the base job template of the chosen work pool for</span>

<span class="sd">    Examples:</span>
<span class="sd">        Prepare two deployments and serve them:</span>

<span class="sd">        ```python</span>
<span class="sd">        from prefect import flow, serve</span>

<span class="sd">        @flow</span>
<span class="sd">        def my_flow(name):</span>
<span class="sd">            print(f&quot;hello {name}&quot;)</span>

<span class="sd">        @flow</span>
<span class="sd">        def my_other_flow(name):</span>
<span class="sd">            print(f&quot;goodbye {name}&quot;)</span>

<span class="sd">        if __name__ == &quot;__main__&quot;:</span>
<span class="sd">            hello_deploy = my_flow.to_deployment(&quot;hello&quot;, tags=[&quot;dev&quot;])</span>
<span class="sd">            bye_deploy = my_other_flow.to_deployment(&quot;goodbye&quot;, tags=[&quot;dev&quot;])</span>
<span class="sd">            serve(hello_deploy, bye_deploy)</span>
<span class="sd">        ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">prefect.deployments.runner</span> <span class="kn">import</span> <span class="n">RunnerDeployment</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">):</span>
        <span class="n">raise_on_name_with_banned_characters</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_entrypoint</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="n">RunnerDeployment</span><span class="o">.</span><span class="n">from_storage</span><span class="p">(</span>
            <span class="n">storage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_storage</span><span class="p">,</span>
            <span class="n">entrypoint</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_entrypoint</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
            <span class="n">cron</span><span class="o">=</span><span class="n">cron</span><span class="p">,</span>
            <span class="n">rrule</span><span class="o">=</span><span class="n">rrule</span><span class="p">,</span>
            <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
            <span class="n">is_schedule_active</span><span class="o">=</span><span class="n">is_schedule_active</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">triggers</span><span class="o">=</span><span class="n">triggers</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
            <span class="n">enforce_parameter_schema</span><span class="o">=</span><span class="n">enforce_parameter_schema</span><span class="p">,</span>
            <span class="n">work_pool_name</span><span class="o">=</span><span class="n">work_pool_name</span><span class="p">,</span>
            <span class="n">work_queue_name</span><span class="o">=</span><span class="n">work_queue_name</span><span class="p">,</span>
            <span class="n">job_variables</span><span class="o">=</span><span class="n">job_variables</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">RunnerDeployment</span><span class="o">.</span><span class="n">from_flow</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
            <span class="n">interval</span><span class="o">=</span><span class="n">interval</span><span class="p">,</span>
            <span class="n">cron</span><span class="o">=</span><span class="n">cron</span><span class="p">,</span>
            <span class="n">rrule</span><span class="o">=</span><span class="n">rrule</span><span class="p">,</span>
            <span class="n">schedule</span><span class="o">=</span><span class="n">schedule</span><span class="p">,</span>
            <span class="n">is_schedule_active</span><span class="o">=</span><span class="n">is_schedule_active</span><span class="p">,</span>
            <span class="n">tags</span><span class="o">=</span><span class="n">tags</span><span class="p">,</span>
            <span class="n">triggers</span><span class="o">=</span><span class="n">triggers</span><span class="p">,</span>
            <span class="n">parameters</span><span class="o">=</span><span class="n">parameters</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
            <span class="n">enforce_parameter_schema</span><span class="o">=</span><span class="n">enforce_parameter_schema</span><span class="p">,</span>
            <span class="n">work_pool_name</span><span class="o">=</span><span class="n">work_pool_name</span><span class="p">,</span>
            <span class="n">work_queue_name</span><span class="o">=</span><span class="n">work_queue_name</span><span class="p">,</span>
            <span class="n">job_variables</span><span class="o">=</span><span class="n">job_variables</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="prefect.flows.Flow.validate_parameters" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">validate_parameters</span></code>

<a href="#prefect.flows.Flow.validate_parameters" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Validate parameters for compatibility with the flow by attempting to cast the inputs to the
associated types specified by the function's type annotations.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new dict of parameters that have been cast to the appropriate types</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.exceptions.ParameterTypeError" href="../exceptions/#prefect.exceptions.ParameterTypeError">ParameterTypeError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>if the provided parameters are not valid</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">validate_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate parameters for compatibility with the flow by attempting to cast the inputs to the</span>
<span class="sd">    associated types specified by the function&#39;s type annotations.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new dict of parameters that have been cast to the appropriate types</span>

<span class="sd">    Raises:</span>
<span class="sd">        ParameterTypeError: if the provided parameters are not valid</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">args</span><span class="p">,</span> <span class="n">kwargs</span> <span class="o">=</span> <span class="n">parameters_to_args_kwargs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">parameters</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">HAS_PYDANTIC_V2</span><span class="p">:</span>
        <span class="n">has_v1_models</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">V1BaseModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">V1BaseModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="n">has_v2_models</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">V2BaseModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">args</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">any</span><span class="p">(</span>
            <span class="nb">isinstance</span><span class="p">(</span><span class="n">o</span><span class="p">,</span> <span class="n">V2BaseModel</span><span class="p">)</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">has_v1_models</span> <span class="ow">and</span> <span class="n">has_v2_models</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">ParameterTypeError</span><span class="p">(</span>
                <span class="s2">&quot;Cannot mix Pydantic v1 and v2 models as arguments to a flow.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">has_v1_models</span><span class="p">:</span>
            <span class="n">validated_fn</span> <span class="o">=</span> <span class="n">V1ValidatedFunction</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;arbitrary_types_allowed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">validated_fn</span> <span class="o">=</span> <span class="n">V2ValidatedFunction</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;arbitrary_types_allowed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
            <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">validated_fn</span> <span class="o">=</span> <span class="n">ValidatedFunction</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;arbitrary_types_allowed&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">validated_fn</span><span class="o">.</span><span class="n">init_model_instance</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">pydantic</span><span class="o">.</span><span class="n">ValidationError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="c1"># We capture the pydantic exception and raise our own because the pydantic</span>
        <span class="c1"># exception is not picklable when using a cythonized pydantic installation</span>
        <span class="k">raise</span> <span class="n">ParameterTypeError</span><span class="o">.</span><span class="n">from_validation_error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="n">V2ValidationError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
        <span class="c1"># We capture the pydantic exception and raise our own because the pydantic</span>
        <span class="c1"># exception is not picklable when using a cythonized pydantic installation</span>
        <span class="k">raise</span> <span class="n">ParameterTypeError</span><span class="o">.</span><span class="n">from_validation_error</span><span class="p">(</span><span class="n">exc</span><span class="p">)</span> <span class="kn">from</span> <span class="kc">None</span>

    <span class="c1"># Get the updated parameter dict with cast values from the model</span>
    <span class="n">cast_parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="n">v</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">_iter</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">__fields_set__</span> <span class="ow">or</span> <span class="n">model</span><span class="o">.</span><span class="n">__fields__</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">default_factory</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">cast_parameters</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="prefect.flows.Flow.visualize" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">visualize</span></code>
  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

<a href="#prefect.flows.Flow.visualize" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Generates a graphviz object representing the current flow. In IPython notebooks,
it's rendered inline, otherwise in a new window as a PNG.</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>-ImportError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If <code>graphviz</code> isn't installed.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>-<span title="prefect.utilities.visualization.GraphvizExecutableNotFoundError">GraphvizExecutableNotFoundError</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the <code>dot</code> executable isn't found.</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code>-<span title="prefect.utilities.visualization.FlowVisualizationError">FlowVisualizationError</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the flow can't be visualized for any other reason.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@sync_compatible</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">visualize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a graphviz object representing the current flow. In IPython notebooks,</span>
<span class="sd">    it&#39;s rendered inline, otherwise in a new window as a PNG.</span>

<span class="sd">    Raises:</span>
<span class="sd">        - ImportError: If `graphviz` isn&#39;t installed.</span>
<span class="sd">        - GraphvizExecutableNotFoundError: If the `dot` executable isn&#39;t found.</span>
<span class="sd">        - FlowVisualizationError: If the flow can&#39;t be visualized for any other reason.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">PREFECT_UNIT_TEST_MODE</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="s2">&quot;`flow.visualize()` will execute code inside of your flow that is not&quot;</span>
            <span class="s2">&quot; decorated with `@task` or `@flow`.&quot;</span>
        <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">TaskVizTracker</span><span class="p">()</span> <span class="k">as</span> <span class="n">tracker</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isasync</span><span class="p">:</span>
                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

            <span class="n">graph</span> <span class="o">=</span> <span class="n">build_task_dependencies</span><span class="p">(</span><span class="n">tracker</span><span class="p">)</span>

            <span class="n">visualize_task_dependencies</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="k">except</span> <span class="n">GraphvizImportError</span><span class="p">:</span>
        <span class="k">raise</span>
    <span class="k">except</span> <span class="n">GraphvizExecutableNotFoundError</span><span class="p">:</span>
        <span class="k">raise</span>
    <span class="k">except</span> <span class="n">VisualizationUnsupportedError</span><span class="p">:</span>
        <span class="k">raise</span>
    <span class="k">except</span> <span class="n">FlowVisualizationError</span><span class="p">:</span>
        <span class="k">raise</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s2">&quot;It&#39;s possible you are trying to visualize a flow that contains &quot;</span>
            <span class="s2">&quot;code that directly interacts with the result of a task&quot;</span>
            <span class="s2">&quot; inside of the flow. </span><span class="se">\n</span><span class="s2">Try passing a `viz_return_value` &quot;</span>
            <span class="s2">&quot;to the task decorator, e.g. `@task(viz_return_value=[1, 2, 3]).`&quot;</span>
        <span class="p">)</span>

        <span class="n">new_exception</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="n">msg</span><span class="p">)</span>
        <span class="c1"># Copy traceback information from the original exception</span>
        <span class="n">new_exception</span><span class="o">.</span><span class="n">__traceback__</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">__traceback__</span>
        <span class="k">raise</span> <span class="n">new_exception</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h3 id="prefect.flows.Flow.with_options" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">with_options</span></code>

<a href="#prefect.flows.Flow.with_options" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents ">
  
      <p>Create a new flow from the current object, updating provided options.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new name for the flow.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>version</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new version for the flow.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new description for the flow.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>flow_run_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="typing.Callable">Callable</span>[[], str], str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional name to distinguish runs of this flow; this name
can be provided as a string template with the flow's parameters as variables,
or a function that returns a string.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>task_runner</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[<span title="typing.Type">Type</span>[<a class="autorefs autorefs-internal" title="prefect.task_runners.BaseTaskRunner" href="../task-runners/#prefect.task_runners.BaseTaskRunner">BaseTaskRunner</a>], <a class="autorefs autorefs-internal" title="prefect.task_runners.BaseTaskRunner" href="../task-runners/#prefect.task_runners.BaseTaskRunner">BaseTaskRunner</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new task runner for the flow.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout_seconds</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[int, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new number of seconds to fail the flow after if still
running.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>validate_parameters</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new value indicating if flow calls should validate
given parameters.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>retries</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new number of times to retry on flow run failure.</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>retry_delay_seconds</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[int, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new number of seconds to wait before retrying the
flow after failure. This is only applicable if <code>retries</code> is nonzero.</p>
            </div>
          </td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>persist_result</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new option for enabling or disabling result persistence.</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.utilities.annotations.NotSet" href="../utilities/annotations/#prefect.utilities.annotations.NotSet">NotSet</a></code>
          </td>
        </tr>
        <tr>
          <td><code>result_storage</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.results.ResultStorage">ResultStorage</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new storage type to use for results.</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.utilities.annotations.NotSet" href="../utilities/annotations/#prefect.utilities.annotations.NotSet">NotSet</a></code>
          </td>
        </tr>
        <tr>
          <td><code>result_serializer</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.results.ResultSerializer">ResultSerializer</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new serializer to use for results.</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.utilities.annotations.NotSet" href="../utilities/annotations/#prefect.utilities.annotations.NotSet">NotSet</a></code>
          </td>
        </tr>
        <tr>
          <td><code>cache_result_in_memory</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new value indicating if the flow's result should
be cached in memory.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_failure</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new list of callables to run when the flow enters a failed state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_completion</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new list of callables to run when the flow enters a completed state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_cancellation</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new list of callables to run when the flow enters a cancelling state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_crashed</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new list of callables to run when the flow enters a crashed state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing_extensions.Self">Self</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A new <code>Flow</code> instance.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>
      <div class="codehilite"><pre><span></span><code><span class="n">Create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">flow</span> <span class="kn">from</span> <span class="nn">an</span> <span class="n">existing</span> <span class="n">flow</span> <span class="ow">and</span> <span class="n">update</span> <span class="n">the</span> <span class="n">name</span><span class="p">:</span>

<span class="o">&gt;&gt;&gt;</span> <span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My flow&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="k">return</span> <span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">new_flow</span> <span class="o">=</span> <span class="n">my_flow</span><span class="o">.</span><span class="n">with_options</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My new flow&quot;</span><span class="p">)</span>

<span class="n">Create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">flow</span> <span class="kn">from</span> <span class="nn">an</span> <span class="n">existing</span> <span class="n">flow</span><span class="p">,</span> <span class="n">update</span> <span class="n">the</span> <span class="n">task</span> <span class="n">runner</span><span class="p">,</span> <span class="ow">and</span> <span class="n">call</span>
<span class="n">it</span> <span class="n">without</span> <span class="n">an</span> <span class="n">intermediate</span> <span class="n">variable</span><span class="p">:</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">prefect.task_runners</span> <span class="kn">import</span> <span class="n">SequentialTaskRunner</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nd">@flow</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">my_flow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="o">&gt;&gt;&gt;</span>     <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">state</span> <span class="o">=</span> <span class="n">my_flow</span><span class="o">.</span><span class="n">with_options</span><span class="p">(</span><span class="n">task_runner</span><span class="o">=</span><span class="n">SequentialTaskRunner</span><span class="p">)(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="n">state</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="o">==</span> <span class="mi">4</span>
</code></pre></div>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">with_options</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">retry_delay_seconds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flow_run_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">task_runner</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">BaseTaskRunner</span><span class="p">],</span> <span class="n">BaseTaskRunner</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout_seconds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">validate_parameters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">persist_result</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotSet</span><span class="p">,</span>
    <span class="n">result_storage</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResultStorage</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotSet</span><span class="p">,</span>
    <span class="n">result_serializer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResultSerializer</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotSet</span><span class="p">,</span>
    <span class="n">cache_result_in_memory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">log_prints</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotSet</span><span class="p">,</span>
    <span class="n">on_completion</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_failure</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_cancellation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_crashed</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new flow from the current object, updating provided options.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: A new name for the flow.</span>
<span class="sd">        version: A new version for the flow.</span>
<span class="sd">        description: A new description for the flow.</span>
<span class="sd">        flow_run_name: An optional name to distinguish runs of this flow; this name</span>
<span class="sd">            can be provided as a string template with the flow&#39;s parameters as variables,</span>
<span class="sd">            or a function that returns a string.</span>
<span class="sd">        task_runner: A new task runner for the flow.</span>
<span class="sd">        timeout_seconds: A new number of seconds to fail the flow after if still</span>
<span class="sd">            running.</span>
<span class="sd">        validate_parameters: A new value indicating if flow calls should validate</span>
<span class="sd">            given parameters.</span>
<span class="sd">        retries: A new number of times to retry on flow run failure.</span>
<span class="sd">        retry_delay_seconds: A new number of seconds to wait before retrying the</span>
<span class="sd">            flow after failure. This is only applicable if `retries` is nonzero.</span>
<span class="sd">        persist_result: A new option for enabling or disabling result persistence.</span>
<span class="sd">        result_storage: A new storage type to use for results.</span>
<span class="sd">        result_serializer: A new serializer to use for results.</span>
<span class="sd">        cache_result_in_memory: A new value indicating if the flow&#39;s result should</span>
<span class="sd">            be cached in memory.</span>
<span class="sd">        on_failure: A new list of callables to run when the flow enters a failed state.</span>
<span class="sd">        on_completion: A new list of callables to run when the flow enters a completed state.</span>
<span class="sd">        on_cancellation: A new list of callables to run when the flow enters a cancelling state.</span>
<span class="sd">        on_crashed: A new list of callables to run when the flow enters a crashed state.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `Flow` instance.</span>

<span class="sd">    Examples:</span>

<span class="sd">        Create a new flow from an existing flow and update the name:</span>

<span class="sd">        &gt;&gt;&gt; @flow(name=&quot;My flow&quot;)</span>
<span class="sd">        &gt;&gt;&gt; def my_flow():</span>
<span class="sd">        &gt;&gt;&gt;     return 1</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; new_flow = my_flow.with_options(name=&quot;My new flow&quot;)</span>

<span class="sd">        Create a new flow from an existing flow, update the task runner, and call</span>
<span class="sd">        it without an intermediate variable:</span>

<span class="sd">        &gt;&gt;&gt; from prefect.task_runners import SequentialTaskRunner</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; @flow</span>
<span class="sd">        &gt;&gt;&gt; def my_flow(x, y):</span>
<span class="sd">        &gt;&gt;&gt;     return x + y</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; state = my_flow.with_options(task_runner=SequentialTaskRunner)(1, 3)</span>
<span class="sd">        &gt;&gt;&gt; assert state.result() == 4</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">new_flow</span> <span class="o">=</span> <span class="n">Flow</span><span class="p">(</span>
        <span class="n">fn</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">,</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">description</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
        <span class="n">flow_run_name</span><span class="o">=</span><span class="n">flow_run_name</span><span class="p">,</span>
        <span class="n">version</span><span class="o">=</span><span class="n">version</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span>
        <span class="n">task_runner</span><span class="o">=</span><span class="n">task_runner</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_runner</span><span class="p">,</span>
        <span class="n">retries</span><span class="o">=</span><span class="n">retries</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">retries</span><span class="p">,</span>
        <span class="n">retry_delay_seconds</span><span class="o">=</span><span class="n">retry_delay_seconds</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">retry_delay_seconds</span><span class="p">,</span>
        <span class="n">timeout_seconds</span><span class="o">=</span><span class="p">(</span>
            <span class="n">timeout_seconds</span> <span class="k">if</span> <span class="n">timeout_seconds</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout_seconds</span>
        <span class="p">),</span>
        <span class="n">validate_parameters</span><span class="o">=</span><span class="p">(</span>
            <span class="n">validate_parameters</span>
            <span class="k">if</span> <span class="n">validate_parameters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">should_validate_parameters</span>
        <span class="p">),</span>
        <span class="n">persist_result</span><span class="o">=</span><span class="p">(</span>
            <span class="n">persist_result</span> <span class="k">if</span> <span class="n">persist_result</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NotSet</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">persist_result</span>
        <span class="p">),</span>
        <span class="n">result_storage</span><span class="o">=</span><span class="p">(</span>
            <span class="n">result_storage</span> <span class="k">if</span> <span class="n">result_storage</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NotSet</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_storage</span>
        <span class="p">),</span>
        <span class="n">result_serializer</span><span class="o">=</span><span class="p">(</span>
            <span class="n">result_serializer</span>
            <span class="k">if</span> <span class="n">result_serializer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NotSet</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">result_serializer</span>
        <span class="p">),</span>
        <span class="n">cache_result_in_memory</span><span class="o">=</span><span class="p">(</span>
            <span class="n">cache_result_in_memory</span>
            <span class="k">if</span> <span class="n">cache_result_in_memory</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
            <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache_result_in_memory</span>
        <span class="p">),</span>
        <span class="n">log_prints</span><span class="o">=</span><span class="n">log_prints</span> <span class="k">if</span> <span class="n">log_prints</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">NotSet</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">log_prints</span><span class="p">,</span>
        <span class="n">on_completion</span><span class="o">=</span><span class="n">on_completion</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_completion</span><span class="p">,</span>
        <span class="n">on_failure</span><span class="o">=</span><span class="n">on_failure</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_failure</span><span class="p">,</span>
        <span class="n">on_cancellation</span><span class="o">=</span><span class="n">on_cancellation</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_cancellation</span><span class="p">,</span>
        <span class="n">on_crashed</span><span class="o">=</span><span class="n">on_crashed</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">on_crashed</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">new_flow</span><span class="o">.</span><span class="n">_storage</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_storage</span>
    <span class="n">new_flow</span><span class="o">.</span><span class="n">_entrypoint</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_entrypoint</span>
    <span class="k">return</span> <span class="n">new_flow</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>


</div>



<div class="doc doc-object doc-function">



<h2 id="prefect.flows.flow" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">flow</span></code>

<a href="#prefect.flows.flow" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Decorator to designate a function as a Prefect workflow.</p>
<p>This decorator may be used for asynchronous or synchronous functions.</p>
<p>Flow parameters must be serializable by Pydantic.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional name for the flow; if not provided, the name will be inferred
from the given function.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>version</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[str]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional version string for the flow; if not provided, we will
attempt to create a version string as a hash of the file containing the
wrapped function; if the file cannot be located, the version will be null.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>flow_run_name</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[<span title="typing.Callable">Callable</span>[[], str], str]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional name to distinguish runs of this flow; this name can
be provided as a string template with the flow's parameters as variables,
or a function that returns a string.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>task_runner</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.task_runners.BaseTaskRunner" href="../task-runners/#prefect.task_runners.BaseTaskRunner">BaseTaskRunner</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional task runner to use for task execution within the flow; if
not provided, a <code>ConcurrentTaskRunner</code> will be instantiated.</p>
            </div>
          </td>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.task_runners.ConcurrentTaskRunner" href="../task-runners/#prefect.task_runners.ConcurrentTaskRunner">ConcurrentTaskRunner</a></code>
          </td>
        </tr>
        <tr>
          <td><code>description</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional string description for the flow; if not provided, the
description will be pulled from the docstring for the decorated function.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>timeout_seconds</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[int, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional number of seconds indicating a maximum runtime for
the flow. If the flow exceeds this runtime, it will be marked as failed.
Flow execution may continue until the next task is called.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>validate_parameters</code></td>
          <td>
                <code>bool</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>By default, parameters passed to flows are validated by
Pydantic. This will check that input values conform to the annotated types
on the function. Where possible, values will be coerced into the correct
type; for example, if a parameter is defined as <code>x: int</code> and "5" is passed,
it will be resolved to <code>5</code>. If set to <code>False</code>, no validation will be
performed on flow parameters.</p>
            </div>
          </td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>retries</code></td>
          <td>
                <code>int</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional number of times to retry on flow run failure.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>retry_delay_seconds</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[int, float]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional number of seconds to wait before retrying the
flow after failure. This is only applicable if <code>retries</code> is nonzero.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>persist_result</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional toggle indicating whether the result of this flow
should be persisted to result storage. Defaults to <code>None</code>, which indicates
that Prefect should choose whether the result should be persisted depending on
the features being used.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>result_storage</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.results.ResultStorage">ResultStorage</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional block to use to persist the result of this flow.
This value will be used as the default for any tasks in this flow.
If not provided, the local file system will be used unless called as
a subflow, at which point the default will be loaded from the parent flow.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>result_serializer</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="prefect.results.ResultSerializer">ResultSerializer</span>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional serializer to use to serialize the result of this
flow for persistence. This value will be used as the default for any tasks
in this flow. If not provided, the value of <code>PREFECT_RESULTS_DEFAULT_SERIALIZER</code>
will be used unless called as a subflow, at which point the default will be
loaded from the parent flow.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>log_prints</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[bool]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If set, <code>print</code> statements in the flow will be redirected to the
Prefect logger for the flow run. Defaults to <code>None</code>, which indicates that
the value from the parent flow should be used. If this is a parent flow,
the default is pulled from the <code>PREFECT_LOGGING_LOG_PRINTS</code> setting.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_completion</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional list of functions to call when the flow run is
completed. Each function should accept three arguments: the flow, the flow
run, and the final state of the flow run.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_failure</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional list of functions to call when the flow run fails. Each
function should accept three arguments: the flow, the flow run, and the
final state of the flow run.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_cancellation</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional list of functions to call when the flow run is
cancelled. These functions will be passed the flow, flow run, and final state.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>on_crashed</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[<span title="typing.Callable">Callable</span>[[<a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.Flow" href="../client/schemas/#prefect.client.schemas.objects.Flow">Flow</a>, <a class="autorefs autorefs-internal" title="prefect.client.schemas.objects.FlowRun" href="../client/schemas/#prefect.client.schemas.objects.FlowRun">FlowRun</a>, <a class="autorefs autorefs-internal" title="prefect.states.State" href="../client/schemas/#prefect.client.schemas.objects.State">State</a>], None]]]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional list of functions to call when the flow run crashes. Each
function should accept three arguments: the flow, the flow run, and the
final state of the flow run.</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A callable <code>Flow</code> object which, when called, will run the flow and return its</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>final state.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



<p><strong>Examples:</strong></p>
    <p>Define a simple flow</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@flow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</code></pre></div>
    <p>Define an async flow</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nd">@flow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">async</span> <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</code></pre></div>
    <p>Define a flow with a version and description</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nd">@flow</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s2">&quot;first-flow&quot;</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;This flow is empty!&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
</code></pre></div>
    <p>Define a flow with a custom name</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;The Ultimate Flow&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
</code></pre></div>
    <p>Define a flow that submits its tasks to dask</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">prefect_dask.task_runners</span> <span class="kn">import</span> <span class="n">DaskTaskRunner</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@flow</span><span class="p">(</span><span class="n">task_runner</span><span class="o">=</span><span class="n">DaskTaskRunner</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">pass</span>
</code></pre></div>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">flow</span><span class="p">(</span>
    <span class="n">__fn</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">flow_run_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[],</span> <span class="nb">str</span><span class="p">],</span> <span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">retries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">retry_delay_seconds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">task_runner</span><span class="p">:</span> <span class="n">BaseTaskRunner</span> <span class="o">=</span> <span class="n">ConcurrentTaskRunner</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">timeout_seconds</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">validate_parameters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">persist_result</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">result_storage</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResultStorage</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">result_serializer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ResultSerializer</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">cache_result_in_memory</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">log_prints</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_completion</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_failure</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_cancellation</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span>
        <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]</span>
    <span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_crashed</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">[[</span><span class="n">FlowSchema</span><span class="p">,</span> <span class="n">FlowRun</span><span class="p">,</span> <span class="n">State</span><span class="p">],</span> <span class="kc">None</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Decorator to designate a function as a Prefect workflow.</span>

<span class="sd">    This decorator may be used for asynchronous or synchronous functions.</span>

<span class="sd">    Flow parameters must be serializable by Pydantic.</span>

<span class="sd">    Args:</span>
<span class="sd">        name: An optional name for the flow; if not provided, the name will be inferred</span>
<span class="sd">            from the given function.</span>
<span class="sd">        version: An optional version string for the flow; if not provided, we will</span>
<span class="sd">            attempt to create a version string as a hash of the file containing the</span>
<span class="sd">            wrapped function; if the file cannot be located, the version will be null.</span>
<span class="sd">        flow_run_name: An optional name to distinguish runs of this flow; this name can</span>
<span class="sd">            be provided as a string template with the flow&#39;s parameters as variables,</span>
<span class="sd">            or a function that returns a string.</span>
<span class="sd">        task_runner: An optional task runner to use for task execution within the flow; if</span>
<span class="sd">            not provided, a `ConcurrentTaskRunner` will be instantiated.</span>
<span class="sd">        description: An optional string description for the flow; if not provided, the</span>
<span class="sd">            description will be pulled from the docstring for the decorated function.</span>
<span class="sd">        timeout_seconds: An optional number of seconds indicating a maximum runtime for</span>
<span class="sd">            the flow. If the flow exceeds this runtime, it will be marked as failed.</span>
<span class="sd">            Flow execution may continue until the next task is called.</span>
<span class="sd">        validate_parameters: By default, parameters passed to flows are validated by</span>
<span class="sd">            Pydantic. This will check that input values conform to the annotated types</span>
<span class="sd">            on the function. Where possible, values will be coerced into the correct</span>
<span class="sd">            type; for example, if a parameter is defined as `x: int` and &quot;5&quot; is passed,</span>
<span class="sd">            it will be resolved to `5`. If set to `False`, no validation will be</span>
<span class="sd">            performed on flow parameters.</span>
<span class="sd">        retries: An optional number of times to retry on flow run failure.</span>
<span class="sd">        retry_delay_seconds: An optional number of seconds to wait before retrying the</span>
<span class="sd">            flow after failure. This is only applicable if `retries` is nonzero.</span>
<span class="sd">        persist_result: An optional toggle indicating whether the result of this flow</span>
<span class="sd">            should be persisted to result storage. Defaults to `None`, which indicates</span>
<span class="sd">            that Prefect should choose whether the result should be persisted depending on</span>
<span class="sd">            the features being used.</span>
<span class="sd">        result_storage: An optional block to use to persist the result of this flow.</span>
<span class="sd">            This value will be used as the default for any tasks in this flow.</span>
<span class="sd">            If not provided, the local file system will be used unless called as</span>
<span class="sd">            a subflow, at which point the default will be loaded from the parent flow.</span>
<span class="sd">        result_serializer: An optional serializer to use to serialize the result of this</span>
<span class="sd">            flow for persistence. This value will be used as the default for any tasks</span>
<span class="sd">            in this flow. If not provided, the value of `PREFECT_RESULTS_DEFAULT_SERIALIZER`</span>
<span class="sd">            will be used unless called as a subflow, at which point the default will be</span>
<span class="sd">            loaded from the parent flow.</span>
<span class="sd">        log_prints: If set, `print` statements in the flow will be redirected to the</span>
<span class="sd">            Prefect logger for the flow run. Defaults to `None`, which indicates that</span>
<span class="sd">            the value from the parent flow should be used. If this is a parent flow,</span>
<span class="sd">            the default is pulled from the `PREFECT_LOGGING_LOG_PRINTS` setting.</span>
<span class="sd">        on_completion: An optional list of functions to call when the flow run is</span>
<span class="sd">            completed. Each function should accept three arguments: the flow, the flow</span>
<span class="sd">            run, and the final state of the flow run.</span>
<span class="sd">        on_failure: An optional list of functions to call when the flow run fails. Each</span>
<span class="sd">            function should accept three arguments: the flow, the flow run, and the</span>
<span class="sd">            final state of the flow run.</span>
<span class="sd">        on_cancellation: An optional list of functions to call when the flow run is</span>
<span class="sd">            cancelled. These functions will be passed the flow, flow run, and final state.</span>
<span class="sd">        on_crashed: An optional list of functions to call when the flow run crashes. Each</span>
<span class="sd">            function should accept three arguments: the flow, the flow run, and the</span>
<span class="sd">            final state of the flow run.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A callable `Flow` object which, when called, will run the flow and return its</span>
<span class="sd">        final state.</span>

<span class="sd">    Examples:</span>
<span class="sd">        Define a simple flow</span>

<span class="sd">        &gt;&gt;&gt; from prefect import flow</span>
<span class="sd">        &gt;&gt;&gt; @flow</span>
<span class="sd">        &gt;&gt;&gt; def add(x, y):</span>
<span class="sd">        &gt;&gt;&gt;     return x + y</span>

<span class="sd">        Define an async flow</span>

<span class="sd">        &gt;&gt;&gt; @flow</span>
<span class="sd">        &gt;&gt;&gt; async def add(x, y):</span>
<span class="sd">        &gt;&gt;&gt;     return x + y</span>

<span class="sd">        Define a flow with a version and description</span>

<span class="sd">        &gt;&gt;&gt; @flow(version=&quot;first-flow&quot;, description=&quot;This flow is empty!&quot;)</span>
<span class="sd">        &gt;&gt;&gt; def my_flow():</span>
<span class="sd">        &gt;&gt;&gt;     pass</span>

<span class="sd">        Define a flow with a custom name</span>

<span class="sd">        &gt;&gt;&gt; @flow(name=&quot;The Ultimate Flow&quot;)</span>
<span class="sd">        &gt;&gt;&gt; def my_flow():</span>
<span class="sd">        &gt;&gt;&gt;     pass</span>

<span class="sd">        Define a flow that submits its tasks to dask</span>

<span class="sd">        &gt;&gt;&gt; from prefect_dask.task_runners import DaskTaskRunner</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; @flow(task_runner=DaskTaskRunner)</span>
<span class="sd">        &gt;&gt;&gt; def my_flow():</span>
<span class="sd">        &gt;&gt;&gt;     pass</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">__fn</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Flow</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">],</span>
            <span class="n">Flow</span><span class="p">(</span>
                <span class="n">fn</span><span class="o">=</span><span class="n">__fn</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
                <span class="n">flow_run_name</span><span class="o">=</span><span class="n">flow_run_name</span><span class="p">,</span>
                <span class="n">task_runner</span><span class="o">=</span><span class="n">task_runner</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">timeout_seconds</span><span class="o">=</span><span class="n">timeout_seconds</span><span class="p">,</span>
                <span class="n">validate_parameters</span><span class="o">=</span><span class="n">validate_parameters</span><span class="p">,</span>
                <span class="n">retries</span><span class="o">=</span><span class="n">retries</span><span class="p">,</span>
                <span class="n">retry_delay_seconds</span><span class="o">=</span><span class="n">retry_delay_seconds</span><span class="p">,</span>
                <span class="n">persist_result</span><span class="o">=</span><span class="n">persist_result</span><span class="p">,</span>
                <span class="n">result_storage</span><span class="o">=</span><span class="n">result_storage</span><span class="p">,</span>
                <span class="n">result_serializer</span><span class="o">=</span><span class="n">result_serializer</span><span class="p">,</span>
                <span class="n">cache_result_in_memory</span><span class="o">=</span><span class="n">cache_result_in_memory</span><span class="p">,</span>
                <span class="n">log_prints</span><span class="o">=</span><span class="n">log_prints</span><span class="p">,</span>
                <span class="n">on_completion</span><span class="o">=</span><span class="n">on_completion</span><span class="p">,</span>
                <span class="n">on_failure</span><span class="o">=</span><span class="n">on_failure</span><span class="p">,</span>
                <span class="n">on_cancellation</span><span class="o">=</span><span class="n">on_cancellation</span><span class="p">,</span>
                <span class="n">on_crashed</span><span class="o">=</span><span class="n">on_crashed</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
            <span class="n">Callable</span><span class="p">[[</span><span class="n">Callable</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span> <span class="n">Flow</span><span class="p">[</span><span class="n">P</span><span class="p">,</span> <span class="n">R</span><span class="p">]],</span>
            <span class="n">partial</span><span class="p">(</span>
                <span class="n">flow</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
                <span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">,</span>
                <span class="n">flow_run_name</span><span class="o">=</span><span class="n">flow_run_name</span><span class="p">,</span>
                <span class="n">task_runner</span><span class="o">=</span><span class="n">task_runner</span><span class="p">,</span>
                <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                <span class="n">timeout_seconds</span><span class="o">=</span><span class="n">timeout_seconds</span><span class="p">,</span>
                <span class="n">validate_parameters</span><span class="o">=</span><span class="n">validate_parameters</span><span class="p">,</span>
                <span class="n">retries</span><span class="o">=</span><span class="n">retries</span><span class="p">,</span>
                <span class="n">retry_delay_seconds</span><span class="o">=</span><span class="n">retry_delay_seconds</span><span class="p">,</span>
                <span class="n">persist_result</span><span class="o">=</span><span class="n">persist_result</span><span class="p">,</span>
                <span class="n">result_storage</span><span class="o">=</span><span class="n">result_storage</span><span class="p">,</span>
                <span class="n">result_serializer</span><span class="o">=</span><span class="n">result_serializer</span><span class="p">,</span>
                <span class="n">cache_result_in_memory</span><span class="o">=</span><span class="n">cache_result_in_memory</span><span class="p">,</span>
                <span class="n">log_prints</span><span class="o">=</span><span class="n">log_prints</span><span class="p">,</span>
                <span class="n">on_completion</span><span class="o">=</span><span class="n">on_completion</span><span class="p">,</span>
                <span class="n">on_failure</span><span class="o">=</span><span class="n">on_failure</span><span class="p">,</span>
                <span class="n">on_cancellation</span><span class="o">=</span><span class="n">on_cancellation</span><span class="p">,</span>
                <span class="n">on_crashed</span><span class="o">=</span><span class="n">on_crashed</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="prefect.flows.load_flow_from_entrypoint" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">load_flow_from_entrypoint</span></code>

<a href="#prefect.flows.load_flow_from_entrypoint" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Extract a flow object from a script at an entrypoint by running all of the code in the file.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>entrypoint</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>a string in the format <code>&lt;path_to_script&gt;:&lt;flow_func_name&gt;</code></p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.flows.Flow" href="#prefect.flows.Flow">Flow</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The flow object from the script</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>FlowScriptError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If an exception is encountered while running the script</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.exceptions.MissingFlowError" href="../exceptions/#prefect.exceptions.MissingFlowError">MissingFlowError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If the flow function specified in the entrypoint does not exist</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_flow_from_entrypoint</span><span class="p">(</span><span class="n">entrypoint</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract a flow object from a script at an entrypoint by running all of the code in the file.</span>

<span class="sd">    Args:</span>
<span class="sd">        entrypoint: a string in the format `&lt;path_to_script&gt;:&lt;flow_func_name&gt;`</span>

<span class="sd">    Returns:</span>
<span class="sd">        The flow object from the script</span>

<span class="sd">    Raises:</span>
<span class="sd">        FlowScriptError: If an exception is encountered while running the script</span>
<span class="sd">        MissingFlowError: If the flow function specified in the entrypoint does not exist</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">PrefectObjectRegistry</span><span class="p">(</span>
        <span class="n">block_code_execution</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">capture_failures</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="c1"># split by the last colon once to handle Windows paths with drive letters i.e C:\path\to\file.py:do_stuff</span>
        <span class="n">path</span><span class="p">,</span> <span class="n">func_name</span> <span class="o">=</span> <span class="n">entrypoint</span><span class="o">.</span><span class="n">rsplit</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">flow</span> <span class="o">=</span> <span class="n">import_object</span><span class="p">(</span><span class="n">entrypoint</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">MissingFlowError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Flow function with name </span><span class="si">{</span><span class="n">func_name</span><span class="si">!r}</span><span class="s2"> not found in </span><span class="si">{</span><span class="n">path</span><span class="si">!r}</span><span class="s2">. &quot;</span>
            <span class="p">)</span> <span class="kn">from</span> <span class="nn">exc</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span> <span class="n">Flow</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">MissingFlowError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Function with name </span><span class="si">{</span><span class="n">func_name</span><span class="si">!r}</span><span class="s2"> is not a flow. Make sure that it is &quot;</span>
                <span class="s2">&quot;decorated with &#39;@flow&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">flow</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="prefect.flows.load_flow_from_script" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">load_flow_from_script</span></code>

<a href="#prefect.flows.load_flow_from_script" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Extract a flow object from a script by running all of the code in the file.</p>
<p>If the script has multiple flows in it, a flow name must be provided to specify
the flow to return.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>path</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A path to a Python script containing flows</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>flow_name</code></td>
          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>An optional flow name to look for in the script</p>
            </div>
          </td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.flows.Flow" href="#prefect.flows.Flow">Flow</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>The flow object from the script</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>FlowScriptError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If an exception is encountered while running the script</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.exceptions.MissingFlowError" href="../exceptions/#prefect.exceptions.MissingFlowError">MissingFlowError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If no flows exist in the iterable</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.exceptions.MissingFlowError" href="../exceptions/#prefect.exceptions.MissingFlowError">MissingFlowError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If a flow name is provided and that flow does not exist</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.exceptions.UnspecifiedFlowError" href="../exceptions/#prefect.exceptions.UnspecifiedFlowError">UnspecifiedFlowError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If multiple flows exist but no flow name was provided</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span>
<span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_flow_from_script</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">flow_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract a flow object from a script by running all of the code in the file.</span>

<span class="sd">    If the script has multiple flows in it, a flow name must be provided to specify</span>
<span class="sd">    the flow to return.</span>

<span class="sd">    Args:</span>
<span class="sd">        path: A path to a Python script containing flows</span>
<span class="sd">        flow_name: An optional flow name to look for in the script</span>

<span class="sd">    Returns:</span>
<span class="sd">        The flow object from the script</span>

<span class="sd">    Raises:</span>
<span class="sd">        FlowScriptError: If an exception is encountered while running the script</span>
<span class="sd">        MissingFlowError: If no flows exist in the iterable</span>
<span class="sd">        MissingFlowError: If a flow name is provided and that flow does not exist</span>
<span class="sd">        UnspecifiedFlowError: If multiple flows exist but no flow name was provided</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">select_flow</span><span class="p">(</span>
        <span class="n">load_flows_from_script</span><span class="p">(</span><span class="n">path</span><span class="p">),</span>
        <span class="n">flow_name</span><span class="o">=</span><span class="n">flow_name</span><span class="p">,</span>
        <span class="n">from_message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;in script &#39;</span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="prefect.flows.load_flow_from_text" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">load_flow_from_text</span></code>

<a href="#prefect.flows.load_flow_from_text" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Load a flow from a text script.</p>
<p>The script will be written to a temporary local file path so errors can refer
to line numbers and contextual tracebacks can be provided.</p>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_flow_from_text</span><span class="p">(</span><span class="n">script_contents</span><span class="p">:</span> <span class="n">AnyStr</span><span class="p">,</span> <span class="n">flow_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load a flow from a text script.</span>

<span class="sd">    The script will be written to a temporary local file path so errors can refer</span>
<span class="sd">    to line numbers and contextual tracebacks can be provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">NamedTemporaryFile</span><span class="p">(</span>
        <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;wt&quot;</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">script_contents</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="k">else</span> <span class="s2">&quot;wb&quot;</span><span class="p">,</span>
        <span class="n">prefix</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;flow-script-</span><span class="si">{</span><span class="n">flow_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;.py&quot;</span><span class="p">,</span>
        <span class="n">delete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="k">as</span> <span class="n">tmpfile</span><span class="p">:</span>
        <span class="n">tmpfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">script_contents</span><span class="p">)</span>
        <span class="n">tmpfile</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">flow</span> <span class="o">=</span> <span class="n">load_flow_from_script</span><span class="p">(</span><span class="n">tmpfile</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">flow_name</span><span class="o">=</span><span class="n">flow_name</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="c1"># windows compat</span>
        <span class="n">tmpfile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tmpfile</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">flow</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="prefect.flows.load_flows_from_script" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">load_flows_from_script</span></code>

<a href="#prefect.flows.load_flows_from_script" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Load all flow objects from the given python script. All of the code in the file
will be executed.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="prefect.flows.Flow" href="#prefect.flows.Flow">Flow</a>]</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A list of flows</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>FlowScriptError</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If an exception is encountered while running the script</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">load_flows_from_script</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Flow</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load all flow objects from the given python script. All of the code in the file</span>
<span class="sd">    will be executed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        A list of flows</span>

<span class="sd">    Raises:</span>
<span class="sd">        FlowScriptError: If an exception is encountered while running the script</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">registry_from_script</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">get_instances</span><span class="p">(</span><span class="n">Flow</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">



<h2 id="prefect.flows.select_flow" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">select_flow</span></code>

<a href="#prefect.flows.select_flow" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Select the only flow in an iterable or a flow specified by name.</p>
<p>Returns
    A single flow object</p>



  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.exceptions.MissingFlowError" href="../exceptions/#prefect.exceptions.MissingFlowError">MissingFlowError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If no flows exist in the iterable</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.exceptions.MissingFlowError" href="../exceptions/#prefect.exceptions.MissingFlowError">MissingFlowError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If a flow name is provided and that flow does not exist</p>
            </div>
          </td>
        </tr>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="prefect.exceptions.UnspecifiedFlowError" href="../exceptions/#prefect.exceptions.UnspecifiedFlowError">UnspecifiedFlowError</a></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>If multiple flows exist but no flow name was provided</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>prefect/flows.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">select_flow</span><span class="p">(</span>
    <span class="n">flows</span><span class="p">:</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Flow</span><span class="p">],</span> <span class="n">flow_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">from_message</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Flow</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Select the only flow in an iterable or a flow specified by name.</span>

<span class="sd">    Returns</span>
<span class="sd">        A single flow object</span>

<span class="sd">    Raises:</span>
<span class="sd">        MissingFlowError: If no flows exist in the iterable</span>
<span class="sd">        MissingFlowError: If a flow name is provided and that flow does not exist</span>
<span class="sd">        UnspecifiedFlowError: If multiple flows exist but no flow name was provided</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Convert to flows by name</span>
    <span class="n">flows</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">:</span> <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">flows</span><span class="p">}</span>

    <span class="c1"># Add a leading space if given, otherwise use an empty string</span>
    <span class="n">from_message</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="n">from_message</span><span class="p">)</span> <span class="k">if</span> <span class="n">from_message</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">flows</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MissingFlowError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No flows found</span><span class="si">{</span><span class="n">from_message</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">flow_name</span> <span class="ow">and</span> <span class="n">flow_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">flows</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">MissingFlowError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Flow </span><span class="si">{</span><span class="n">flow_name</span><span class="si">!r}</span><span class="s2"> not found</span><span class="si">{</span><span class="n">from_message</span><span class="si">}</span><span class="s2">. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Found the following flows: </span><span class="si">{</span><span class="n">listrepr</span><span class="p">(</span><span class="n">flows</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">. &quot;</span>
            <span class="s2">&quot;Check to make sure that your flow function is decorated with `@flow`.&quot;</span>
        <span class="p">)</span>

    <span class="k">elif</span> <span class="ow">not</span> <span class="n">flow_name</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">flows</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">UnspecifiedFlowError</span><span class="p">(</span>
            <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">flows</span><span class="p">)</span><span class="si">}</span><span class="s2"> flows</span><span class="si">{</span><span class="n">from_message</span><span class="si">}</span><span class="s2">:&quot;</span>
                <span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="n">listrepr</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">flows</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="si">}</span><span class="s2">. Specify a flow name to select a&quot;</span>
                <span class="s2">&quot; flow.&quot;</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">flow_name</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">flows</span><span class="p">[</span><span class="n">flow_name</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">flows</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div>







  
  



  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thank you for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thank you for your feedback! Feel free to <a href="https://github.com/PrefectHQ/prefect/issues/new?assignees=&amp;labels=docs%2Cstatus%3Atriage&amp;projects=&amp;template=4_docs_change.yaml" target="_blank" rel="noopener"> open an issue </a> with more detail.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.code.copy", "navigation.tabs.sticky", "search.suggest", "search.highlight", "navigation.path", "navigation.indexes", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.a5ca32a6.min.js"></script>
      
        <script src="../../../js/custom.js"></script>
      
        <script src="../../../js/termynal.js"></script>
      
    
  </body>
</html>