
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Prefect flows are the foundational containers for workflow logic.">
      
      
      
        <link rel="canonical" href="https://docs.prefect.io/latest/concepts/flows/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../tasks/">
      
      
        
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17+insiders-4.53.5">
    
    
      
        <title>Flows - Prefect Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.ab3d5eaf.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Inter";--md-code-font:"Source Code Pro"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/theme.css">
    
      <link rel="stylesheet" href="../../stylesheets/admonitions.css">
    
      <link rel="stylesheet" href="../../stylesheets/api_ref.css">
    
      <link rel="stylesheet" href="../../stylesheets/rest_ref.css">
    
      <link rel="stylesheet" href="../../stylesheets/syntax_highlights.css">
    
      <link rel="stylesheet" href="../../stylesheets/termynal.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    

      
  


  <script src="../../assets/external/cdn.amplitude.com/libs/analytics-browser-1.9.1-min.js.gz.js"></script>
<script type="text/javascript">
const amplitudeKey = "c97dd2acbf306ab7bf54aca0aeb7ffa1"
const amplitudeUrl = "/2/httpapi"

const addUrl = (event) => {
  const deviceId = amplitude.getDeviceId()
  const { href = '' } = event.target
  const url = new URL(href)
  url.searchParams.set('deviceId', deviceId)
  event.target.href = url.toString()
}

const removeUrl = (event) => {
  const { href = '' } = event.target
  const url = new URL(href)
  url.searchParams.delete('deviceId')
  event.target.href = url.toString()
}

const urls = [
  'https://app.prefect.cloud',
  'https://app.stg.prefect.dev',
  'https://app.prefect.dev',
]

const selector = urls.map((url) => `a[href^="${url}"]`).join(',')

const addDeviceIdToAppLinks = () => {
  const elements = document.querySelectorAll(selector)

  elements.forEach((element) => {
    element.addEventListener('mouseenter', addUrl)
    element.addEventListener('mouseleave', removeUrl)
    element.addEventListener('focus', addUrl)
    element.addEventListener('blur', removeUrl)
    element.addEventListener('touchstart', addUrl)
    element.addEventListener('touchend', removeUrl)
  })
}


const init = () => {
  amplitude.init(amplitudeKey, undefined, {
    useBatch: true,
    serverUrl: amplitudeUrl,
    attribution: {
      disabled: false,
      trackNewCampaigns: true,
      trackPageViews: true,
      resetSessionOnNewCampaign: true,
    },
    defaultTracking: {
      pageViews: {
        trackOn: function() { return true},
        eventType: "Page View: Docs",
        trackHistoryChanges: "all",
      },
      sessions: false,
      formInteractions: true,
      fileDownloads: true,
    },
  })
}

function trackPageView() {
  amplitude.track(
    'Page View: Docs',
    {
      'url': window.href,
      'title': document.title,
      'referrer': document.referrer,
      'path': window.location.pathname
    }
  )
}

if (amplitudeKey){
  document.addEventListener("DOMContentLoaded", function() {
      init()
      setTimeout(addDeviceIdToAppLinks)
      setTimeout(trackPageView)
  });
}
</script>


  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-3M31G9B0QJ"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-3M31G9B0QJ",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-3M31G9B0QJ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    

    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#0225AC" data-md-color-accent="#0225AC">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#flows" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  You're viewing the docs for Prefect unreleased.
  <a href="../../.."> 
    <strong>Click here to view the latest docs.</strong>
  </a>

  <script type="text/javascript">
    // extract the version from the URL
    var version = window.location.pathname.split('/')[1];
    console.log("version is latest!")
    // check if the version is 'latest'
    var showVersionBanner = version !== 'latest';
    
    // hide the announcement bar if we're not showing the latest version of the docs
    // wait until dom is loaded
    document.addEventListener("DOMContentLoaded", function(event) {
      if (showVersionBanner) {
        document.querySelector('[data-md-component="announce"]').setAttribute('hidden', '');
      }
    });
  </script>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      <!-- overrides partial for header, adding tab for Prefect Cloud -->




<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Prefect Docs"
      class="md-header__button md-logo" aria-label="Prefect Docs" data-md-component="logo">
      
  <img src="../../img/logos/prefect-logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Prefect Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
            Flows
            
          </span>
        </div>
      </div>
    </div>
    
    
    <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="#0225AC" data-md-color-accent="#0225AC"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="#0225AC" data-md-color-accent="#0225AC"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
    
    
    
    <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    <label class="md-header__button md-icon" for="__search">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
    </label>
    <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
    <div class="md-header__source">
      <a href="https://github.com/PrefectHQ/prefect" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
    

    <!-- adding tab for Prefect Cloud -->
    <a class="md-button cloud-button list-unstyled" target="_blank" rel="noopener noreferrer" href="https://app.prefect.cloud"><b>Try Prefect
        Cloud â†’</b></a>
    <!-- end adding Perfect Cloud button-->

  </nav>
  
  
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Prefect Docs" class="md-nav__button md-logo" aria-label="Prefect Docs" data-md-component="logo">
      
  <img src="../../img/logos/prefect-logo-white.svg" alt="logo">

    </a>
    Prefect Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/PrefectHQ/prefect" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../tutorial/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Tutorial
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/flows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/work-pools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Work Pools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial/workers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../guides/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    How-to Guides
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    How-to Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/host/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Hosting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Profiles & Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/global-concurrency-limits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Global Concurrency Limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/runtime-context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Runtime Context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/using-the-client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Prefect Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/creating-interactive-workflows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Interactive Workflows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/automations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Automations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/webhooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Webhooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://registry.terraform.io/providers/PrefectHQ/prefect/latest/docs/guides/getting-started" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Terraform Provider
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ci-cd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    CI/CD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/specifying-upstream-dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Specifying Upstream Dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../recipes/recipes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Recipes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Execution
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Execution
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/state-change-hooks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    State Change Hooks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/dask-ray-task-runners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Dask & Ray
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/moving-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Read and Write Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/big-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Big Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/managed-execution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Managed Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/cli-shell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Shell Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Work Pools
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Work Pools
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/prefect-deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deploying Flows to Work pools and Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/upgrade-guide-agents-to-workers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Upgrade from Agents to Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/deployment/storage-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Flow Code Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/deployment/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/deployment/push-work-pools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Serverless Push Work Pools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/deployment/serverless-workers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Serverless Work Pools with Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/deployment/daemonize/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Daemonize Processes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/deployment/developing-a-new-worker-type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Custom Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/deployment/overriding-job-variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Job Variable Overrides
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    Flows
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    Flows
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#flows-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Flows overview
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flow-runs" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Flow runs
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-flows" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Writing flows
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flow-settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Flow settings
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#separating-logic-into-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Separating logic into tasks
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizing-flow-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Visualizing flow structure
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composing-flows" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Composing flows
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Parameters
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-state-determination" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Final state determination
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Final state determination">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raise-an-exception" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Raise an exception
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-none" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return <code>none</code>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-a-future" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return a future
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-multiple-states-or-futures" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return multiple states or futures
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-a-manual-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return a manual state
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return an object
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serving-a-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Serving a flow
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serving a flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serving-multiple-flows-at-once" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Serving multiple flows at once
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retrieve-a-flow-from-remote-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Retrieve a flow from remote storage
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pausing-or-suspending-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Pausing or suspending a flow run
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pausing or suspending a flow run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pausing-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Pausing a flow run
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suspending-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Suspending a flow run
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#waiting-for-input-when-pausing-or-suspending-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Waiting for input when pausing or suspending a flow run
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canceling-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Canceling a flow run
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Canceling a flow run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cancel-via-the-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Cancel via the CLI
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel-via-the-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Cancel via the UI
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#timeouts" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Timeouts
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../work-pools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Work Pools & Workers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schedules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Schedules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../results/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Results
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Artifacts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    States
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../blocks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Blocks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../task-runners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Task Runners
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../automations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Automations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_13" >
        
          
          <label class="md-nav__link" for="__nav_4_13" id="__nav_4_13_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Block and Agent-Based Deployments
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    Block and Agent-Based Deployments
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../deployments-block-based/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Agents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cloud/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Cloud
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cloud
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/workspaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Workspaces
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../cloud/users/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Users
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Users
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/users/roles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Roles (RBAC)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/users/api-keys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    API Keys
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/users/service-accounts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Service Accounts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/users/sso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Single Sign-On (SSO)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/users/audit-log/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Audit Log
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/users/object-access-control-lists/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Object-Level Access Control Lists
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/users/teams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Teams
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/rate-limits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    API Rate Limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/connecting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Connecting & Troubleshooting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cloud/incidents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Incidents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integrations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Integrations
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Integrations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Using Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../integrations/contribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contributing Integrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api-ref/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api-ref/python/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Python SDK
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Python SDK
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/artifacts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.artifacts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_4" >
        
          
          <label class="md-nav__link" for="__nav_7_2_4" id="__nav_7_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.blocks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.blocks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/blocks/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/blocks/fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    fields
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/blocks/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/blocks/notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    notifications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/blocks/system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    system
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/blocks/webhook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    webhook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_5" >
        
          
          <label class="md-nav__link" for="__nav_7_2_5" id="__nav_7_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.client
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.client
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/client/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/client/cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    cloud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/client/orchestration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    orchestration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/client/schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/client/utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_6" >
        
          
          <label class="md-nav__link" for="__nav_7_2_6" id="__nav_7_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.cli
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.cli
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    agent
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/artifact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    artifact
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/block/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    block
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    cloud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/concurrency_limit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    concurrency_limit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    config
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/deploy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deploy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/dev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dev
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/flow_run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    flow_run
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    kubernetes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    profile
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/root/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    root
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/variable/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    variable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/work_pool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    work_pool
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/work_queue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    work_queue
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/cli/worker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    worker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_8" >
        
          
          <label class="md-nav__link" for="__nav_7_2_8" id="__nav_7_2_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.concurrency
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.concurrency
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/concurrency/asyncio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    asyncio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/concurrency/common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    common
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/concurrency/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/concurrency/services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/concurrency/sync/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    sync
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_9" >
        
          
          <label class="md-nav__link" for="__nav_7_2_9" id="__nav_7_2_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.deployments
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.deployments
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/deployments/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/deployments/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/deployments/runner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/deployments/schedules.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    schedules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/deployments/steps/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    steps.core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/deployments/steps/pull/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    steps.pull
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/deployments/steps/utility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    steps.utility
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.engine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/filesystems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.filesystems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/flows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/flow_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.flow_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/futures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.futures
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/infrastructure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_18" >
        
          
          <label class="md-nav__link" for="__nav_7_2_18" id="__nav_7_2_18_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.input
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_18">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.input
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/input/actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/input/run_input/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    run_input
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_19" >
        
          
          <label class="md-nav__link" for="__nav_7_2_19" id="__nav_7_2_19_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.logging
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_19">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.logging
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/logging/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/logging/formatters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    formatters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/logging/handlers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    handlers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/logging/highlighters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    highlighters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/logging/loggers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    loggers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/manifests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.manifests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_21" >
        
          
          <label class="md-nav__link" for="__nav_7_2_21" id="__nav_7_2_21_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.runner
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_21_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_21">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.runner
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/runner/runner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    runner
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/runner/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/runner/storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/runner/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_22" >
        
          
          <label class="md-nav__link" for="__nav_7_2_22" id="__nav_7_2_22_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.runtime
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_22_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_22">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.runtime
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/runtime/flow_run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    flow_run
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/runtime/deployment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/runtime/task_run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    task_run
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/serializers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.serializers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/software/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.software
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/task-runners/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.task_runners
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/tasks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.tasks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_30" >
        
          
          <label class="md-nav__link" for="__nav_7_2_30" id="__nav_7_2_30_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_30_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_30">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    annotations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/asyncutils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    asyncutils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/callables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    callables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/collections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    collections
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/compat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    compat
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    context
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/dispatch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dispatch
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/dockerutils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    dockerutils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/filesystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    filesystem
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/hashing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    hashing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/importtools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    importtools
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    math
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/names/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    names
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/processutils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    processutils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/pydantic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    pydantic
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/render_swagger/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    render_swagger
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/services/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/slugify/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    slugify
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/templating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    templating
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/text/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    text
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/utilities/visualization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    visualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/variables/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    prefect.variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2_32" >
        
          
          <label class="md-nav__link" for="__nav_7_2_32" id="__nav_7_2_32_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    prefect.workers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_2_32_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2_32">
            <span class="md-nav__icon md-icon"></span>
            
  
    prefect.workers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/workers/base/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/workers/block/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    block
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/workers/process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    process
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/workers/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/prefect/workers/utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    utilities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api-ref/rest-api/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    REST API
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    REST API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://app.prefect.cloud/api/docs" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Prefect Cloud REST API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/rest-api-reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Prefect Server REST API Reference
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api-ref/server/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Server API
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Server API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_2" >
        
          
          <label class="md-nav__link" for="__nav_7_4_2" id="__nav_7_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.admin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/csrf_token/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.csrf_token
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.dependencies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/flows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/flow_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.flow_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/flow_run_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.flow_run_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/middleware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.middleware
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/run_history/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.run_history
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/saved_searches/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.saved_searches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/task_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.task_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/api/task_run_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.api.task_run_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_3" >
        
          
          <label class="md-nav__link" for="__nav_7_4_3" id="__nav_7_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Models
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/models/csrf_token/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.csrf_token
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/models/flows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.flows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/models/flow_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.flow_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/models/flow_run_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.flow_run_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/models/task_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.task_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/models/task_run_states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.task_run_states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/models/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/models/saved_searches/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.models.saved_searches
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4_4" id="__nav_7_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Orchestration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Orchestration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/orchestration/rules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.orchestration.rules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/orchestration/policies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.orchestration.policies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/orchestration/core_policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.orchestration.core_policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/orchestration/global_policy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.orchestration.global_policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_5" >
        
          
          <label class="md-nav__link" for="__nav_7_4_5" id="__nav_7_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Schemas
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/schemas/actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.actions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/schemas/core/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.core
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/schemas/filters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.filters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/schemas/responses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.responses
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/schemas/schedules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.schedules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/schemas/sorting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.sorting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/schemas/states/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.schemas.states
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_6" >
        
          
          <label class="md-nav__link" for="__nav_7_4_6" id="__nav_7_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Services
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Services
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/services/late_runs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.services.late_runs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/services/loop_service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.services.loop_service
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/services/scheduler/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.services.scheduler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4_7" >
        
          
          <label class="md-nav__link" for="__nav_7_4_7" id="__nav_7_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Utilities
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_7_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Utilities
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/utilities/database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.utilities.database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/utilities/schemas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.utilities.schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-ref/server/utilities/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    server.utilities.server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../community/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    
  
    Community
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Community
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/style/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Style
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Versioning
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#flows-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Flows overview
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flow-runs" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Flow runs
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-flows" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Writing flows
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flow-settings" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Flow settings
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#separating-logic-into-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Separating logic into tasks
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#visualizing-flow-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Visualizing flow structure
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composing-flows" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Composing flows
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Parameters
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#final-state-determination" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Final state determination
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Final state determination">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raise-an-exception" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Raise an exception
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-none" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return <code>none</code>
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-a-future" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return a future
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-multiple-states-or-futures" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return multiple states or futures
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-a-manual-state" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return a manual state
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#return-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Return an object
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serving-a-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Serving a flow
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serving a flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#serving-multiple-flows-at-once" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Serving multiple flows at once
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retrieve-a-flow-from-remote-storage" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Retrieve a flow from remote storage
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pausing-or-suspending-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Pausing or suspending a flow run
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pausing or suspending a flow run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pausing-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Pausing a flow run
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#suspending-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Suspending a flow run
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#waiting-for-input-when-pausing-or-suspending-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Waiting for input when pausing or suspending a flow run
        </span>
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#canceling-a-flow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Canceling a flow run
        </span>
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Canceling a flow run">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cancel-via-the-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Cancel via the CLI
        </span>
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel-via-the-ui" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Cancel via the UI
        </span>
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#timeouts" class="md-nav__link">
    <span class="md-ellipsis">
      
        <span class="md-typeset">
          Timeouts
        </span>
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                




              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/PrefectHQ/prefect/edit/main/docs/concepts/flows.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  


<h1 id="flows">Flows<a class="headerlink" href="#flows" title="Permanent link">&para;</a></h1>
<p>Flows are the most central Prefect object. A flow is a container for workflow logic as-code and allows users to configure how their workflows behave.
Flows are defined as Python functions, and any Python function is eligible to be a flow.</p>
<h2 id="flows-overview">Flows overview<a class="headerlink" href="#flows-overview" title="Permanent link">&para;</a></h2>
<p>Flows can be thought of as special types of functions. They can take inputs, perform work, and return an output.
In fact, you can turn any function into a Prefect flow by adding the <code>@flow</code> decorator.
When a function becomes a flow, its behavior changes, giving it the following advantages:</p>
<ul>
<li>Every invocation of this function is tracked and all state transitions are reported to the API, allowing observation of flow execution.</li>
<li>Input arguments are automatically type checked and coerced to the appropriate types.</li>
<li>Retries can be performed on failure.</li>
<li>Timeouts can be enforced to prevent unintentional, long-running workflows.</li>
</ul>
<p>Flows also take advantage of automatic Prefect logging to capture details about <a href="#flow-runs">flow runs</a> such as run time and final state.</p>
<p>Flows can include calls to <a href="/concepts/tasks/">tasks</a> as well as to other flows, which Prefect calls <a href="#composing-flows">"subflows"</a> in this context.
Flows may be defined within modules and imported for use as subflows in your flow definitions.</p>
<p><a href="/concepts/deployments/">Deployments</a> elevate individual workflows from functions that you call manually to API-managed entities.</p>
<div class="admonition warning">
<p class="admonition-title">Tasks must be called from flows</p>
<p>All tasks must be called from within a flow. Tasks may not be called from other tasks.</p>
</div>
<h2 id="flow-runs">Flow runs<a class="headerlink" href="#flow-runs" title="Permanent link">&para;</a></h2>
<p>A <em>flow run</em> represents a single execution of the flow.</p>
<p>You can create a flow run by calling the flow manually.
For example, by running a Python script or importing the flow into an interactive session and calling it.</p>
<p>You can also create a flow run by:</p>
<ul>
<li>Using external schedulers such as <code>cron</code> to invoke a flow function</li>
<li>Creating a <a href="/concepts/deployments/">deployment</a> on Prefect Cloud or a locally run Prefect server.</li>
<li>Creating a flow run for the deployment via a schedule, the Prefect UI, or the Prefect API.</li>
</ul>
<p>However you run the flow, the Prefect API monitors the flow run, capturing flow run state for observability.</p>
<p>When you run a flow that contains tasks or additional flows, Prefect will track the relationship of each child run to the parent flow run.</p>
<p><img alt="Prefect UI" src="/img/ui/timeline-flows.png" /></p>
<h2 id="writing-flows">Writing flows<a class="headerlink" href="#writing-flows" title="Permanent link">&para;</a></h2>
<p>The <a class="autorefs autorefs-internal" href="../../api-ref/prefect/flows/#prefect.flows.flow"><code>@flow</code></a> decorator is used to designate a flow:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="hll"><span class="nd">@flow</span>
</span><span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
    <span class="k">return</span>
</code></pre></div>
<p>There are no rigid rules for what code you include within a flow definition - all valid Python is acceptable.</p>
<p>Flows are uniquely identified by name. You can provide a <code>name</code> parameter value for the flow.
If you don't provide a name, Prefect uses the flow function name.</p>
<div class="highlight"><pre><span></span><code><span class="hll"><span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My Flow&quot;</span><span class="p">)</span>
</span><span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
    <span class="k">return</span>
</code></pre></div>
<p>Flows can call tasks to allow Prefect to orchestrate and track more granular units of work:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Hello Flow&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">):</span>
    <span class="n">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Flows and tasks</p>
<p>There's nothing stopping you from putting all of your code in a single flow function &mdash; Prefect will happily run it!</p>
<p>However, organizing your workflow code into smaller flow and task units lets you take advantage of Prefect features like retries, more granular visibility into runtime state, the ability to determine final state regardless of individual task state, and more.</p>
<p>In addition, if you put all of your workflow logic in a single flow function and any line of code fails, the entire flow will fail and must be retried from the beginning. 
This can be avoided by breaking up the code into multiple tasks.</p>
<p>You may call any number of other tasks, subflows, and even regular Python functions within your flow. 
You can pass parameters to your flow function that will be used elsewhere in the workflow, and Prefect will report on the progress and <a href="#final-state-determination">final state</a> of any invocation.</p>
<p>Prefect encourages "small tasks" &mdash; each one should represent a single logical step of your workflow. 
This allows Prefect to better contain task failures.</p>
</div>
<h2 id="flow-settings">Flow settings<a class="headerlink" href="#flow-settings" title="Permanent link">&para;</a></h2>
<p>Flows allow a great deal of configuration by passing arguments to the decorator. Flows accept the following optional settings.</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>description</code></td>
<td>An optional string description for the flow. If not provided, the description will be pulled from the docstring for the decorated function.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>An optional name for the flow. If not provided, the name will be inferred from the function.</td>
</tr>
<tr>
<td><code>retries</code></td>
<td>An optional number of times to retry on flow run failure.</td>
</tr>
<tr>
<td><span class="no-wrap"><code>retry_delay_seconds</code></span></td>
<td>An optional number of seconds to wait before retrying the flow after failure. This is only applicable if <code>retries</code> is nonzero.</td>
</tr>
<tr>
<td><code>flow_run_name</code></td>
<td>An optional name to distinguish runs of this flow; this name can be provided as a string template with the flow's parameters as variables; this name can also be provided as a function that returns a string.</td>
</tr>
<tr>
<td><code>task_runner</code></td>
<td>An optional <a href="/concepts/task-runners/">task runner</a> to use for task execution within the flow when you <code>.submit()</code> tasks. If not provided and you <code>.submit()</code> tasks, the <code>ConcurrentTaskRunner</code> will be used.</td>
</tr>
<tr>
<td><code>timeout_seconds</code></td>
<td>An optional number of seconds indicating a maximum runtime for the flow. If the flow exceeds this runtime, it will be marked as failed. Flow execution may continue until the next task is called.</td>
</tr>
<tr>
<td><code>validate_parameters</code></td>
<td>Boolean indicating whether parameters passed to flows are validated by Pydantic. Default is <code>True</code>.</td>
</tr>
<tr>
<td><code>version</code></td>
<td>An optional version string for the flow. If not provided, we will attempt to create a version string as a hash of the file containing the wrapped function. If the file cannot be located, the version will be null.</td>
</tr>
</tbody>
</table>
<p>For example, you can provide a <code>name</code> value for the flow. Here we've also used the optional <code>description</code> argument and specified a non-default task runner.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect.task_runners</span> <span class="kn">import</span> <span class="n">SequentialTaskRunner</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My Flow&quot;</span><span class="p">,</span>
      <span class="n">description</span><span class="o">=</span><span class="s2">&quot;My flow using SequentialTaskRunner&quot;</span><span class="p">,</span>
      <span class="n">task_runner</span><span class="o">=</span><span class="n">SequentialTaskRunner</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
    <span class="k">return</span>
</code></pre></div>
<p>You can also provide the description as the docstring on the flow function.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;My Flow&quot;</span><span class="p">,</span>
      <span class="n">task_runner</span><span class="o">=</span><span class="n">SequentialTaskRunner</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;My flow using SequentialTaskRunner&quot;&quot;&quot;</span>
    <span class="k">return</span>
</code></pre></div>
<p>You can distinguish runs of this flow by providing a <code>flow_run_name</code>.
This setting accepts a string that can optionally contain templated references to the parameters of your flow.
The name will be formatted using Python's standard string formatting syntax as can be seen here:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">flow_run_name</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{name}</span><span class="s2">-on-{date:%A}&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1"># creates a flow run called &#39;marvin-on-Thursday&#39;</span>
<span class="n">my_flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;marvin&quot;</span><span class="p">,</span> <span class="n">date</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">))</span>
</code></pre></div>
<p>Additionally this setting also accepts a function that returns a string for the flow run name:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="k">def</span> <span class="nf">generate_flow_run_name</span><span class="p">():</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">date</span><span class="si">:</span><span class="s2">%A</span><span class="si">}</span><span class="s2">-is-a-nice-day&quot;</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">flow_run_name</span><span class="o">=</span><span class="n">generate_flow_run_name</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1"># creates a flow run called &#39;Thursday-is-a-nice-day&#39;</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">my_flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;marvin&quot;</span><span class="p">)</span>
</code></pre></div>
<p>If you need access to information about the flow, use the <code>prefect.runtime</code> module. For example:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect.runtime</span> <span class="kn">import</span> <span class="n">flow_run</span>

<span class="k">def</span> <span class="nf">generate_flow_run_name</span><span class="p">():</span>
    <span class="n">flow_name</span> <span class="o">=</span> <span class="n">flow_run</span><span class="o">.</span><span class="n">flow_name</span>

    <span class="n">parameters</span> <span class="o">=</span> <span class="n">flow_run</span><span class="o">.</span><span class="n">parameters</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
    <span class="n">limit</span> <span class="o">=</span> <span class="n">parameters</span><span class="p">[</span><span class="s2">&quot;limit&quot;</span><span class="p">]</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">flow_name</span><span class="si">}</span><span class="s2">-with-</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">-and-</span><span class="si">{</span><span class="n">limit</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">flow_run_name</span><span class="o">=</span><span class="n">generate_flow_run_name</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="c1"># creates a flow run called &#39;my-flow-with-marvin-and-100&#39;</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">my_flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;marvin&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Note that <code>validate_parameters</code> will check that input values conform to the annotated types on the function.
Where possible, values will be coerced into the correct type. For example, if a parameter is defined as <code>x: int</code> and "5" is passed, it will be resolved to <code>5</code>.
If set to <code>False</code>, no validation will be performed on flow parameters.</p>
<h2 id="separating-logic-into-tasks">Separating logic into tasks<a class="headerlink" href="#separating-logic-into-tasks" title="Permanent link">&para;</a></h2>
<p>The simplest workflow is just a <code>@flow</code> function that does all the work of the workflow.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Hello Flow&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">hello_world</span><span class="p">(</span><span class="s2">&quot;Marvin&quot;</span><span class="p">)</span>
</code></pre></div>
<p>When you run this flow, you'll see output like the following:</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>hello.py
<span class="m">15</span>:11:23.594<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;benevolent-donkey&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;hello-world&#39;</span>
<span class="m">15</span>:11:23.594<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;benevolent-donkey&#39;</span><span class="w"> </span>-<span class="w"> </span>Using<span class="w"> </span>task<span class="w"> </span>runner<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span>
Hello<span class="w"> </span>Marvin!
<span class="m">15</span>:11:24.447<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;benevolent-donkey&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">()</span>
</code></pre></div>
</div>

<p>A better practice is to create <code>@task</code> functions that do the specific work of your flow, and use your <code>@flow</code> function as the conductor that orchestrates the flow of your application:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>

<span class="nd">@task</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Print Hello&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">msg</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Hello Flow&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">):</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">hello_world</span><span class="p">(</span><span class="s2">&quot;Marvin&quot;</span><span class="p">)</span>
</code></pre></div>
<p>When you run this flow, you'll see the following output, which illustrates how the work is encapsulated in a task run.</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>hello.py
<span class="m">15</span>:15:58.673<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;loose-wolverine&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;Hello Flow&#39;</span>
<span class="m">15</span>:15:58.674<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;loose-wolverine&#39;</span><span class="w"> </span>-<span class="w"> </span>Using<span class="w"> </span>task<span class="w"> </span>runner<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span>
<span class="m">15</span>:15:58.973<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;loose-wolverine&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;Print Hello-84f0fe0e-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;Print Hello&#39;</span>
Hello<span class="w"> </span>Marvin!
<span class="m">15</span>:15:59.037<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;Print Hello-84f0fe0e-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">()</span>
<span class="m">15</span>:15:59.568<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;loose-wolverine&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">(</span><span class="s1">&#39;All states completed.&#39;</span><span class="o">)</span>
</code></pre></div>
</div>

<h2 id="visualizing-flow-structure">Visualizing flow structure<a class="headerlink" href="#visualizing-flow-structure" title="Permanent link">&para;</a></h2>
<p>You can get a quick sense of the structure of your flow using the <code>.visualize()</code> method on your flow. Calling this method will attempt to produce a schematic diagram of your flow and tasks without actually running your flow code.</p>
<div class="admonition warning">
<p class="admonition-title">Functions and code not inside of flows or tasks will still be run when calling <code>.visualize()</code>. This may have unintended consequences. Place your code into tasks to avoid unintended execution.</p>
</div>
<div class="admonition note">
<p class="admonition-title">To use the <code>visualize()</code> method, Graphviz must be installed and on your PATH. Please install Graphviz from <a href="http://www.graphviz.org/download/">http://www.graphviz.org/download/</a>. And note: just installing the <code>graphviz</code> python package is not sufficient.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>

<span class="nd">@task</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Print Hello&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">msg</span>

<span class="nd">@task</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Print Hello Again&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">print_hello_again</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">msg</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Hello Flow&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">):</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">message2</span> <span class="o">=</span> <span class="n">print_hello_again</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">hello_world</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>
</code></pre></div>
<p><img alt="A simple flow visualized with the .visualize() method" src="/img/orchestration/hello-flow-viz.png" /></p>
<p>Prefect cannot automatically produce a schematic for dynamic workflows, such as those with loops or if/else control flow.
In this case, you can provide tasks with mock return values for use in the <code>visualize()</code> call.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>
<span class="nd">@task</span><span class="p">(</span><span class="n">viz_return_value</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">get_list</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">append_one</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">n</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">viz_return_value_tracked</span><span class="p">():</span>
    <span class="n">l</span> <span class="o">=</span> <span class="n">get_list</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
        <span class="n">append_one</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">viz_return_value_tracked</span><span class="o">.</span><span class="n">visualize</span><span class="p">()</span>
</code></pre></div>
<p><img alt="A flow with return values visualized with the .visualize() method" src="/img/orchestration/viz-return-value-tracked.png" /></p>
<h2 id="composing-flows">Composing flows<a class="headerlink" href="#composing-flows" title="Permanent link">&para;</a></h2>
<p>A <em>subflow</em> run is created when a flow function is called inside the execution of another flow.
The primary flow is the "parent" flow. The flow created within the parent is the "child" flow or "subflow."</p>
<p>Subflow runs behave like normal flow runs.
There is a full representation of the flow run in the backend as if it had been called separately.
When a subflow starts, it will create a new <a href="/concepts/task-runners/">task runner</a> for tasks within the subflow.
When the subflow completes, the task runner is shut down.</p>
<p>Subflows will block execution of the parent flow until completion.
However, asynchronous subflows can be run concurrently by using <a href="https://anyio.readthedocs.io/en/stable/tasks.html">AnyIO task groups</a> or <a href="https://docs.python.org/3/library/asyncio-task.html#id6">asyncio.gather</a>.</p>
<p>Subflows differ from normal flows in that they will resolve any passed task futures into data.
This allows data to be passed from the parent flow to the child easily.</p>
<p>The relationship between a child and parent flow is tracked by creating a special task run in the parent flow.
This task run will mirror the state of the child flow run.</p>
<p>A task that represents a subflow will be annotated as such in its <code>state_details</code> via the presence of a <code>child_flow_run_id</code> field.
A subflow can be identified via the presence of a <code>parent_task_run_id</code> on <code>state_details</code>.</p>
<p>You can define multiple flows within the same file.
Whether running locally or via a <a href="/concepts/deployments/">deployment</a>, you must indicate which flow is the entrypoint for a flow run.</p>
<div class="admonition warning">
<p class="admonition-title">Cancelling subflow runs</p>
<p>Inline subflow runs, specifically those created without <code>run_deployment</code>, cannot be cancelled without cancelling their parent flow run.
If you may need to cancel a subflow run independent of its parent flow run, we recommend deploying it separately and starting it using the <a href="/api-ref/prefect/deployments/deployments/#prefect.deployments.deployments.run_deployment">run_deployment</a> function.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>

<span class="nd">@task</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Print Hello&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">msg</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Subflow&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_subflow</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subflow says: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Hello Flow&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">):</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">my_subflow</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">hello_world</span><span class="p">(</span><span class="s2">&quot;Marvin&quot;</span><span class="p">)</span>
</code></pre></div>
<p>You can also define flows or tasks in separate modules and import them for usage. For example, here's a simple subflow module:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Subflow&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_subflow</span><span class="p">(</span><span class="n">msg</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subflow says: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Here's a parent flow that imports and uses <code>my_subflow()</code> as a subflow:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>
<span class="kn">from</span> <span class="nn">subflow</span> <span class="kn">import</span> <span class="n">my_subflow</span>

<span class="nd">@task</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Print Hello&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">msg</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Hello Flow&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;world&quot;</span><span class="p">):</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">print_hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">my_subflow</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>

<span class="n">hello_world</span><span class="p">(</span><span class="s2">&quot;Marvin&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Running the <code>hello_world()</code> flow (in this example from the file <code>hello.py</code>) creates a flow run like this:</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>python<span class="w"> </span>hello.py
<span class="m">15</span>:19:21.651<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;daft-cougar&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;Hello Flow&#39;</span>
<span class="m">15</span>:19:21.651<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;daft-cougar&#39;</span><span class="w"> </span>-<span class="w"> </span>Using<span class="w"> </span>task<span class="w"> </span>runner<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span>
<span class="m">15</span>:19:21.945<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;daft-cougar&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;Print Hello-84f0fe0e-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;Print Hello&#39;</span>
Hello<span class="w"> </span>Marvin!
<span class="m">15</span>:19:22.055<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;Print Hello-84f0fe0e-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">()</span>
<span class="m">15</span>:19:22.107<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;daft-cougar&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>subflow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;ninja-duck&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;Subflow&#39;</span>
Subflow<span class="w"> </span>says:<span class="w"> </span>Hello<span class="w"> </span>Marvin!
<span class="m">15</span>:19:22.794<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;ninja-duck&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">()</span>
<span class="m">15</span>:19:23.215<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;daft-cougar&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">(</span><span class="s1">&#39;All states completed.&#39;</span><span class="o">)</span>
</code></pre></div>
</div>

<div class="admonition tip">
<p class="admonition-title">Subflows or tasks?</p>
<p>In Prefect you can call tasks <em>or</em> subflows to do work within your workflow, including passing results from other tasks to your subflow.
So a common question is:</p>
<p>"When should I use a subflow instead of a task?"</p>
<p>We recommend writing tasks that do a discrete, specific piece of work in your workflow: calling an API, performing a database operation, analyzing or transforming a data point. 
Prefect tasks are well suited to parallel or distributed execution using distributed computation frameworks such as Dask or Ray. 
For troubleshooting, the more granular you create your tasks, the easier it is to find and fix issues should a task fail.</p>
<p>Subflows enable you to group related tasks within your workflow. 
Here are some scenarios where you might choose to use a subflow rather than calling tasks individually:</p>
<ul>
<li>Observability: Subflows, like any other flow run, have first-class observability within the Prefect UI and Prefect Cloud. You'll see subflow status in the <strong>Flow Runs</strong> dashboard rather than having to dig down into the tasks within a specific flow run. See <a href="#final-state-determination">Final state determination</a> for some examples of leveraging task state within flows.</li>
<li>Conditional flows: If you have a group of tasks that run only under certain conditions, you can group them within a subflow and conditionally run the subflow rather than each task individually.</li>
<li>Parameters: Flows have first-class support for parameterization, making it easy to run the same group of tasks in different use cases by simply passing different parameters to the subflow in which they run.</li>
<li>Task runners: Subflows enable you to specify the task runner used for tasks within the flow. For example, if you want to optimize parallel execution of certain tasks with Dask, you can group them in a subflow that uses the Dask task runner. You can use a different task runner for each subflow.</li>
</ul>
</div>
<h2 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h2>
<p>Flows can be called with both positional and keyword arguments. These arguments are resolved at runtime into a dictionary of <strong>parameters</strong> mapping name to value.
These parameters are stored by the Prefect orchestration engine on the flow run object.</p>
<div class="admonition warning">
<p class="admonition-title">Prefect API requires keyword arguments</p>
<p>When creating flow runs from the Prefect API, parameter names must be specified when overriding defaults &mdash; they cannot be positional.</p>
</div>
<p>Type hints provide an easy way to enforce typing on your flow parameters via <a href="https://pydantic-docs.helpmanual.io/">pydantic</a>.
This means <em>any</em> pydantic model used as a type hint within a flow will be coerced automatically into the relevant object type:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">a</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">b</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">c</span><span class="p">:</span> <span class="nb">str</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">model_validator</span><span class="p">(</span><span class="n">model</span><span class="p">:</span> <span class="n">Model</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</code></pre></div>
<p>Note that parameter values can be provided to a flow via API using a <a href="/concepts/deployments/">deployment</a>.
Flow run parameters sent to the API on flow calls are coerced to a serializable form.
Type hints on your flow functions provide you a way of automatically coercing JSON provided values to their appropriate Python representation.</p>
<p>For example, to automatically convert something to a datetime:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">what_day_is_it</span><span class="p">(</span><span class="n">date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">date</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;It was </span><span class="si">{</span><span class="n">date</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%A&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> on </span><span class="si">{</span><span class="n">date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">what_day_is_it</span><span class="p">(</span><span class="s2">&quot;2021-01-01T02:00:19.180906&quot;</span><span class="p">)</span>
</code></pre></div>
<p>When you run this flow, you'll see the following output:</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code>It<span class="w"> </span>was<span class="w"> </span>Friday<span class="w"> </span>on<span class="w"> </span><span class="m">2021</span>-01-01T02:00:19.180906
</code></pre></div>
</div>

<p>Parameters are validated before a flow is run.
If a flow call receives invalid parameters, a flow run is created in a <code>Failed</code> state.
If a flow run for a deployment receives invalid parameters, it will move from a <code>Pending</code> state to a <code>Failed</code> without entering a <code>Running</code> state.</p>
<div class="admonition info">
<p class="admonition-title">Flow run parameters cannot exceed <code>512kb</code> in size</p>
</div>
<h2 id="final-state-determination">Final state determination<a class="headerlink" href="#final-state-determination" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Prerequisite</p>
<p>Read the documentation about <a href="/concepts/states">states</a> before proceeding with this section.</p>
</div>
<p>The final state of the flow is determined by its return value. The following rules apply:</p>
<ul>
<li>If an exception is raised directly in the flow function, the flow run is marked as failed.</li>
<li>If the flow does not return a value (or returns <code>None</code>), its state is determined by the states of all of the tasks and subflows within it.</li>
<li>If <em>any</em> task run or subflow run failed, then the final flow run state is marked as <code>FAILED</code>.</li>
<li>If <em>any</em> task run was cancelled, then the final flow run state is marked as <code>CANCELLED</code>.</li>
<li>If a flow returns a manually created state, it is used as the state of the final flow run. This allows for manual determination of final state.</li>
<li>If the flow run returns <em>any other object</em>, then it is marked as completed.</li>
</ul>
<p>The following examples illustrate each of these cases:</p>
<h3 id="raise-an-exception">Raise an exception<a class="headerlink" href="#raise-an-exception" title="Permanent link">&para;</a></h3>
<p>If an exception is raised within the flow function, the flow is immediately marked as failed.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">always_fails_flow</span><span class="p">():</span>
<span class="hll">    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;This flow immediately fails&quot;</span><span class="p">)</span>
</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">always_fails_flow</span><span class="p">()</span>
</code></pre></div>
<p>Running this flow produces the following result:</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code><span class="m">22</span>:22:36.864<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;acrid-tuatara&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;always-fails-flow&#39;</span>
<span class="m">22</span>:22:36.864<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;acrid-tuatara&#39;</span><span class="w"> </span>-<span class="w"> </span>Starting<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span><span class="p">;</span><span class="w"> </span>submitted<span class="w"> </span>tasks<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>run<span class="w"> </span>concurrently...
<span class="m">22</span>:22:37.060<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;acrid-tuatara&#39;</span><span class="w"> </span>-<span class="w"> </span>Encountered<span class="w"> </span>exception<span class="w"> </span>during<span class="w"> </span>execution:
Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:...
ValueError:<span class="w"> </span>This<span class="w"> </span>flow<span class="w"> </span>immediately<span class="w"> </span>fails
</code></pre></div>
</div>

<h3 id="return-none">Return <code>none</code><a class="headerlink" href="#return-none" title="Permanent link">&para;</a></h3>
<p>A flow with no return statement is determined by the state of all of its task runs.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_fails_task</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;I fail successfully&quot;</span><span class="p">)</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_succeeds_task</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m fail safe!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;success&quot;</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">always_fails_flow</span><span class="p">():</span>
    <span class="n">always_fails_task</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">raise_on_failure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">always_succeeds_task</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">always_fails_flow</span><span class="p">()</span>
</code></pre></div>
<p>Running this flow produces the following result:</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code><span class="m">18</span>:32:05.345<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;auburn-lionfish&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;always-fails-flow&#39;</span>
<span class="m">18</span>:32:05.346<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;auburn-lionfish&#39;</span><span class="w"> </span>-<span class="w"> </span>Starting<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span><span class="p">;</span><span class="w"> </span>submitted<span class="w"> </span>tasks<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>run<span class="w"> </span>concurrently...
<span class="m">18</span>:32:05.582<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;auburn-lionfish&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_fails_task&#39;</span>
<span class="m">18</span>:32:05.582<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;auburn-lionfish&#39;</span><span class="w"> </span>-<span class="w"> </span>Submitted<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>execution.
<span class="m">18</span>:32:05.610<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Encountered<span class="w"> </span>exception<span class="w"> </span>during<span class="w"> </span>execution:
Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:
<span class="w">  </span>...
ValueError:<span class="w"> </span>I<span class="w"> </span>fail<span class="w"> </span>successfully
<span class="m">18</span>:32:05.638<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Failed<span class="o">(</span><span class="s1">&#39;Task run encountered an exception.&#39;</span><span class="o">)</span>
<span class="m">18</span>:32:05.658<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;auburn-lionfish&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_succeeds_task-9c27db32-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_succeeds_task&#39;</span>
<span class="m">18</span>:32:05.659<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;auburn-lionfish&#39;</span><span class="w"> </span>-<span class="w"> </span>Executing<span class="w"> </span><span class="s1">&#39;always_succeeds_task-9c27db32-0&#39;</span><span class="w"> </span>immediately...
I<span class="s1">&#39;m fail safe!</span>
<span class="s1">18:32:05.703 | INFO    | Task run &#39;</span>always_succeeds_task-9c27db32-0<span class="s1">&#39; - Finished in state Completed()</span>
<span class="s1">18:32:05.730 | ERROR   | Flow run &#39;</span>auburn-lionfish<span class="s1">&#39; - Finished in state Failed(&#39;</span><span class="m">1</span>/2<span class="w"> </span>states<span class="w"> </span>failed.<span class="err">&#39;</span><span class="o">)</span>
Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:
<span class="w">  </span>...
ValueError:<span class="w"> </span>I<span class="w"> </span>fail<span class="w"> </span>successfully
</code></pre></div>
</div>

<h3 id="return-a-future">Return a future<a class="headerlink" href="#return-a-future" title="Permanent link">&para;</a></h3>
<p>If a flow returns one or more futures, the final state is determined based on the underlying states.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">task</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_fails_task</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;I fail successfully&quot;</span><span class="p">)</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_succeeds_task</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m fail safe!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;success&quot;</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">always_succeeds_flow</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">always_fails_task</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">raise_on_failure</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="hll">    <span class="n">y</span> <span class="o">=</span> <span class="n">always_succeeds_task</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">wait_for</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
</span>    <span class="k">return</span> <span class="n">y</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">always_succeeds_flow</span><span class="p">()</span>
</code></pre></div>
<p>Running this flow produces the following result &mdash; it succeeds because it returns the future of the task that succeeds:</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code><span class="m">18</span>:35:24.965<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;whispering-guan&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;always-succeeds-flow&#39;</span>
<span class="m">18</span>:35:24.965<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;whispering-guan&#39;</span><span class="w"> </span>-<span class="w"> </span>Starting<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span><span class="p">;</span><span class="w"> </span>submitted<span class="w"> </span>tasks<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>run<span class="w"> </span>concurrently...
<span class="m">18</span>:35:25.204<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;whispering-guan&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_fails_task&#39;</span>
<span class="m">18</span>:35:25.205<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;whispering-guan&#39;</span><span class="w"> </span>-<span class="w"> </span>Submitted<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>execution.
<span class="m">18</span>:35:25.232<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Encountered<span class="w"> </span>exception<span class="w"> </span>during<span class="w"> </span>execution:
Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:
<span class="w">  </span>...
ValueError:<span class="w"> </span>I<span class="w"> </span>fail<span class="w"> </span>successfully
<span class="m">18</span>:35:25.265<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Failed<span class="o">(</span><span class="s1">&#39;Task run encountered an exception.&#39;</span><span class="o">)</span>
<span class="m">18</span>:35:25.289<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;whispering-guan&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_succeeds_task-9c27db32-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_succeeds_task&#39;</span>
<span class="m">18</span>:35:25.289<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;whispering-guan&#39;</span><span class="w"> </span>-<span class="w"> </span>Submitted<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_succeeds_task-9c27db32-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>execution.
I<span class="s1">&#39;m fail safe!</span>
<span class="s1">18:35:25.335 | INFO    | Task run &#39;</span>always_succeeds_task-9c27db32-0<span class="s1">&#39; - Finished in state Completed()</span>
<span class="s1">18:35:25.362 | INFO    | Flow run &#39;</span>whispering-guan<span class="s1">&#39; - Finished in state Completed(&#39;</span>All<span class="w"> </span>states<span class="w"> </span>completed.<span class="err">&#39;</span><span class="o">)</span>
</code></pre></div>
</div>

<h3 id="return-multiple-states-or-futures">Return multiple states or futures<a class="headerlink" href="#return-multiple-states-or-futures" title="Permanent link">&para;</a></h3>
<p>If a flow returns a mix of futures and states, the final state is determined by resolving all futures to states, then determining if any of the states are not <code>COMPLETED</code>.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">task</span><span class="p">,</span> <span class="n">flow</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_fails_task</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;I am bad task&quot;</span><span class="p">)</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_succeeds_task</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;foo&quot;</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">always_succeeds_flow</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;bar&quot;</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">always_fails_flow</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">always_fails_task</span><span class="p">()</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">always_succeeds_task</span><span class="p">()</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">always_succeeds_flow</span><span class="p">()</span>
<span class="hll">    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</span></code></pre></div>
<p>Running this flow produces the following result.
It fails because one of the three returned futures failed.
Note that the final state is <code>Failed</code>, but the states of each of the returned futures is included in the flow state:</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code><span class="m">20</span>:57:51.547<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;impartial-gorilla&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;always-fails-flow&#39;</span>
<span class="m">20</span>:57:51.548<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;impartial-gorilla&#39;</span><span class="w"> </span>-<span class="w"> </span>Using<span class="w"> </span>task<span class="w"> </span>runner<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span>
<span class="m">20</span>:57:51.645<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;impartial-gorilla&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-58ea43a6-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_fails_task&#39;</span>
<span class="m">20</span>:57:51.686<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;impartial-gorilla&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_succeeds_task-c9014725-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_succeeds_task&#39;</span>
<span class="m">20</span>:57:51.727<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-58ea43a6-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Encountered<span class="w"> </span>exception<span class="w"> </span>during<span class="w"> </span>execution:
Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:...
ValueError:<span class="w"> </span>I<span class="w"> </span>am<span class="w"> </span>bad<span class="w"> </span>task
<span class="m">20</span>:57:51.787<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_succeeds_task-c9014725-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">()</span>
<span class="m">20</span>:57:51.808<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;impartial-gorilla&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>subflow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;unbiased-firefly&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;always-succeeds-flow&#39;</span>
<span class="m">20</span>:57:51.884<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-58ea43a6-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Failed<span class="o">(</span><span class="s1">&#39;Task run encountered an exception.&#39;</span><span class="o">)</span>
<span class="m">20</span>:57:52.438<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;unbiased-firefly&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">()</span>
<span class="m">20</span>:57:52.811<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;impartial-gorilla&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Failed<span class="o">(</span><span class="s1">&#39;1/3 states failed.&#39;</span><span class="o">)</span>
Failed<span class="o">(</span><span class="nv">message</span><span class="o">=</span><span class="s1">&#39;1/3 states failed.&#39;</span>,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>FAILED,<span class="w"> </span><span class="nv">result</span><span class="o">=(</span>Failed<span class="o">(</span><span class="nv">message</span><span class="o">=</span><span class="s1">&#39;Task run encountered an exception.&#39;</span>,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>FAILED,<span class="w"> </span><span class="nv">result</span><span class="o">=</span>ValueError<span class="o">(</span><span class="s1">&#39;I am bad task&#39;</span><span class="o">)</span>,<span class="w"> </span><span class="nv">task_run_id</span><span class="o">=</span>5fd4c697-7c4c-440d-8ebc-dd9c5bbf2245<span class="o">)</span>,<span class="w"> </span>Completed<span class="o">(</span><span class="nv">message</span><span class="o">=</span>None,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>COMPLETED,<span class="w"> </span><span class="nv">result</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span>,<span class="w"> </span><span class="nv">task_run_id</span><span class="o">=</span>df9b6256-f8ac-457c-ba69-0638ac9b9367<span class="o">)</span>,<span class="w"> </span>Completed<span class="o">(</span><span class="nv">message</span><span class="o">=</span>None,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>COMPLETED,<span class="w"> </span><span class="nv">result</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span>,<span class="w"> </span><span class="nv">task_run_id</span><span class="o">=</span>cfdbf4f1-dccd-4816-8d0f-128750017d0c<span class="o">))</span>,<span class="w"> </span><span class="nv">flow_run_id</span><span class="o">=</span>6d2ec094-001a-4cb0-a24e-d2051db6318d<span class="o">)</span>
</code></pre></div>
</div>

<div class="admonition note">
<p class="admonition-title">Returning multiple states</p>
<p>When returning multiple states, they must be contained in a <code>set</code>, <code>list</code>, or <code>tuple</code>.
If other collection types are used, the result of the contained states will not be checked.</p>
</div>
<h3 id="return-a-manual-state">Return a manual state<a class="headerlink" href="#return-a-manual-state" title="Permanent link">&para;</a></h3>
<p>If a flow returns a manually created state, the final state is determined based on the return value.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">task</span><span class="p">,</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect.states</span> <span class="kn">import</span> <span class="n">Completed</span><span class="p">,</span> <span class="n">Failed</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_fails_task</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;I fail successfully&quot;</span><span class="p">)</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_succeeds_task</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I&#39;m fail safe!&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s2">&quot;success&quot;</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">always_succeeds_flow</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">always_fails_task</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
<span class="hll">    <span class="n">y</span> <span class="o">=</span> <span class="n">always_succeeds_task</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
</span><span class="hll">    <span class="k">if</span> <span class="n">y</span><span class="o">.</span><span class="n">result</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;success&quot;</span><span class="p">:</span>
</span><span class="hll">        <span class="k">return</span> <span class="n">Completed</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;I am happy with this result&quot;</span><span class="p">)</span>
</span><span class="hll">    <span class="k">else</span><span class="p">:</span>
</span>        <span class="k">return</span> <span class="n">Failed</span><span class="p">(</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;How did this happen!?&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">always_succeeds_flow</span><span class="p">()</span>
</code></pre></div>
<p>Running this flow produces the following result.</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code><span class="m">18</span>:37:42.844<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;lavender-elk&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;always-succeeds-flow&#39;</span>
<span class="m">18</span>:37:42.845<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;lavender-elk&#39;</span><span class="w"> </span>-<span class="w"> </span>Starting<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span><span class="p">;</span><span class="w"> </span>submitted<span class="w"> </span>tasks<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>run<span class="w"> </span>concurrently...
<span class="m">18</span>:37:43.125<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;lavender-elk&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_fails_task&#39;</span>
<span class="m">18</span>:37:43.126<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;lavender-elk&#39;</span><span class="w"> </span>-<span class="w"> </span>Submitted<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>execution.
<span class="m">18</span>:37:43.162<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;lavender-elk&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_succeeds_task-9c27db32-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_succeeds_task&#39;</span>
<span class="m">18</span>:37:43.163<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;lavender-elk&#39;</span><span class="w"> </span>-<span class="w"> </span>Submitted<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_succeeds_task-9c27db32-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>execution.
<span class="m">18</span>:37:43.175<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-96e4be14-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Encountered<span class="w"> </span>exception<span class="w"> </span>during<span class="w"> </span>execution:
Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:
<span class="w">  </span>...
ValueError:<span class="w"> </span>I<span class="w"> </span>fail<span class="w"> </span>successfully
I<span class="s1">&#39;m fail safe!</span>
<span class="s1">18:37:43.217 | ERROR   | Task run &#39;</span>always_fails_task-96e4be14-0<span class="s1">&#39; - Finished in state Failed(&#39;</span>Task<span class="w"> </span>run<span class="w"> </span>encountered<span class="w"> </span>an<span class="w"> </span>exception.<span class="s1">&#39;)</span>
<span class="s1">18:37:43.236 | INFO    | Task run &#39;</span>always_succeeds_task-9c27db32-0<span class="s1">&#39; - Finished in state Completed()</span>
<span class="s1">18:37:43.264 | INFO    | Flow run &#39;</span>lavender-elk<span class="s1">&#39; - Finished in state Completed(&#39;</span>I<span class="w"> </span>am<span class="w"> </span>happy<span class="w"> </span>with<span class="w"> </span>this<span class="w"> </span>result<span class="err">&#39;</span><span class="o">)</span>
</code></pre></div>
</div>

<h3 id="return-an-object">Return an object<a class="headerlink" href="#return-an-object" title="Permanent link">&para;</a></h3>
<p>If the flow run returns <em>any other object</em>, then it is marked as completed.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">task</span><span class="p">,</span> <span class="n">flow</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">always_fails_task</span><span class="p">():</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;I fail successfully&quot;</span><span class="p">)</span>

<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">always_succeeds_flow</span><span class="p">():</span>
    <span class="n">always_fails_task</span><span class="p">()</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
<span class="hll">    <span class="k">return</span> <span class="s2">&quot;foo&quot;</span>
</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">always_succeeds_flow</span><span class="p">()</span>
</code></pre></div>
<p>Running this flow produces the following result.</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code><span class="m">21</span>:02:45.715<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;sparkling-pony&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;always-succeeds-flow&#39;</span>
<span class="m">21</span>:02:45.715<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;sparkling-pony&#39;</span><span class="w"> </span>-<span class="w"> </span>Using<span class="w"> </span>task<span class="w"> </span>runner<span class="w"> </span><span class="s1">&#39;ConcurrentTaskRunner&#39;</span>
<span class="m">21</span>:02:45.816<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;sparkling-pony&#39;</span><span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-58ea43a6-0&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>task<span class="w"> </span><span class="s1">&#39;always_fails_task&#39;</span>
<span class="m">21</span>:02:45.853<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-58ea43a6-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Encountered<span class="w"> </span>exception<span class="w"> </span>during<span class="w"> </span>execution:
Traceback<span class="w"> </span><span class="o">(</span>most<span class="w"> </span>recent<span class="w"> </span>call<span class="w"> </span>last<span class="o">)</span>:...
ValueError:<span class="w"> </span>I<span class="w"> </span>am<span class="w"> </span>bad<span class="w"> </span>task
<span class="m">21</span>:02:45.879<span class="w"> </span><span class="p">|</span><span class="w"> </span>ERROR<span class="w">   </span><span class="p">|</span><span class="w"> </span>Task<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;always_fails_task-58ea43a6-0&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Failed<span class="o">(</span><span class="s1">&#39;Task run encountered an exception.&#39;</span><span class="o">)</span>
<span class="m">21</span>:02:46.593<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;sparkling-pony&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">()</span>
Completed<span class="o">(</span><span class="nv">message</span><span class="o">=</span>None,<span class="w"> </span><span class="nv">type</span><span class="o">=</span>COMPLETED,<span class="w"> </span><span class="nv">result</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span>,<span class="w"> </span><span class="nv">flow_run_id</span><span class="o">=</span>7240e6f5-f0a8-4e00-9440-a7b33fb51153<span class="o">)</span>
</code></pre></div>
</div>

<h2 id="serving-a-flow">Serving a flow<a class="headerlink" href="#serving-a-flow" title="Permanent link">&para;</a></h2>
<p>The simplest way to create a <a href="/concepts/deployments/">deployment</a> for your flow is by calling its <a href="/api-ref/prefect/flows/#prefect.flows.Flow.serve"><code>serve</code> method</a>.
This method creates a deployment for the flow and starts a long-running process that monitors for work from the Prefect server.
When work is found, it is executed within its own isolated subprocess.</p>
<div class="highlight"><span class="filename">hello_world.py</span><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>


<span class="nd">@flow</span><span class="p">(</span><span class="n">log_prints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;world&quot;</span><span class="p">,</span> <span class="n">goodbye</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> from Prefect! ðŸ¤—&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">goodbye</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Goodbye </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="c1"># creates a deployment and stays running to monitor for work instructions generated on the server</span>

    <span class="n">hello_world</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my-first-deployment&quot;</span><span class="p">,</span>
                      <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;onboarding&quot;</span><span class="p">],</span>
                      <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;goodbye&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
                      <span class="n">interval</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</code></pre></div>
<p>This interface provides all of the configuration needed for a deployment with no strong infrastructure requirements:</p>
<ul>
<li>schedules</li>
<li>event triggers</li>
<li>metadata such as tags and description</li>
<li>default parameter values</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Schedules are auto-paused on shutdown</p>
<p>By default, stopping the process running <code>flow.serve</code> will pause the schedule for the deployment (if it has one).
When running this in environments where restarts are expected use the <code>pause_on_shutdown=False</code> flag to prevent this behavior:</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">hello_world</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my-first-deployment&quot;</span><span class="p">,</span>
                      <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;onboarding&quot;</span><span class="p">],</span>
                      <span class="n">parameters</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;goodbye&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
<span class="hll">                      <span class="n">pause_on_shutdown</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span>                      <span class="n">interval</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</code></pre></div>
</div>
<h3 id="serving-multiple-flows-at-once">Serving multiple flows at once<a class="headerlink" href="#serving-multiple-flows-at-once" title="Permanent link">&para;</a></h3>
<p>You can take this further and serve multiple flows with the same process using the <a href="/api-ref/prefect/runner/#prefect.runner.serve"><code>serve</code></a> utility along with the <code>to_deployment</code> method of flows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">serve</span>


<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">slow_flow</span><span class="p">(</span><span class="n">sleep</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">):</span>
    <span class="s2">&quot;Sleepy flow - sleeps the provided amount of time (in seconds).&quot;</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep</span><span class="p">)</span>


<span class="nd">@flow</span>
<span class="k">def</span> <span class="nf">fast_flow</span><span class="p">():</span>
    <span class="s2">&quot;Fastest flow this side of the Mississippi.&quot;</span>
    <span class="k">return</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">slow_deploy</span> <span class="o">=</span> <span class="n">slow_flow</span><span class="o">.</span><span class="n">to_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;sleeper&quot;</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
    <span class="n">fast_deploy</span> <span class="o">=</span> <span class="n">fast_flow</span><span class="o">.</span><span class="n">to_deployment</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;fast&quot;</span><span class="p">)</span>
    <span class="n">serve</span><span class="p">(</span><span class="n">slow_deploy</span><span class="p">,</span> <span class="n">fast_deploy</span><span class="p">)</span>
</code></pre></div>
<p>The behavior and interfaces are identical to the single flow case.</p>
<h2 id="retrieve-a-flow-from-remote-storage">Retrieve a flow from remote storage<a class="headerlink" href="#retrieve-a-flow-from-remote-storage" title="Permanent link">&para;</a></h2>
<p>Flows can be retrieved from remote storage using the <a href="/api-ref/prefect/flows/#prefect.flows.Flow.from_source"><code>flow.from_source</code></a> method.</p>
<p><code>flow.from_source</code> accepts a git repository URL  and an entrypoint pointing to the flow to load from the repository:</p>
<div class="highlight"><span class="filename">load_from_url.py</span><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="n">my_flow</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="s2">&quot;https://github.com/PrefectHQ/prefect.git&quot;</span><span class="p">,</span>
    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;flows/hello_world.py:hello&quot;</span>
<span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">my_flow</span><span class="p">()</span>
</code></pre></div>
<div class="terminal">

<div class="highlight"><pre><span></span><code><span class="m">16</span>:40:33.818<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>prefect.engine<span class="w"> </span>-<span class="w"> </span>Created<span class="w"> </span>flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;muscular-perch&#39;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>flow<span class="w"> </span><span class="s1">&#39;hello&#39;</span>
<span class="m">16</span>:40:34.048<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;muscular-perch&#39;</span><span class="w"> </span>-<span class="w"> </span>Hello<span class="w"> </span>world!
<span class="m">16</span>:40:34.706<span class="w"> </span><span class="p">|</span><span class="w"> </span>INFO<span class="w">    </span><span class="p">|</span><span class="w"> </span>Flow<span class="w"> </span>run<span class="w"> </span><span class="s1">&#39;muscular-perch&#39;</span><span class="w"> </span>-<span class="w"> </span>Finished<span class="w"> </span><span class="k">in</span><span class="w"> </span>state<span class="w"> </span>Completed<span class="o">()</span>
</code></pre></div>

</div>

<p>A flow entrypoint is the path to the file the flow is located in and the name of the flow function separated by a colon.</p>
<p>If you need additional configuration, such as specifying a private repository, you can provide a <a href="/api-ref/prefect/flows/#prefect.runner.storage.GitRepository"><code>GitRepository</code></a> instead of URL:</p>
<div class="highlight"><span class="filename">load_from_storage.py</span><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">from</span> <span class="nn">prefect.runner.storage</span> <span class="kn">import</span> <span class="n">GitRepository</span>
<span class="kn">from</span> <span class="nn">prefect.blocks.system</span> <span class="kn">import</span> <span class="n">Secret</span>

<span class="n">my_flow</span> <span class="o">=</span> <span class="n">flow</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="n">GitRepository</span><span class="p">(</span>
        <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://github.com/org/private-repo.git&quot;</span><span class="p">,</span>
        <span class="n">branch</span><span class="o">=</span><span class="s2">&quot;dev&quot;</span><span class="p">,</span>
        <span class="n">credentials</span><span class="o">=</span><span class="p">{</span>
            <span class="s2">&quot;access_token&quot;</span><span class="p">:</span> <span class="n">Secret</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;github-access-token&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        <span class="p">}</span>
    <span class="p">),</span>
    <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;flows.py:my_flow&quot;</span>
<span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">my_flow</span><span class="p">()</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">You can serve loaded flows</p>
<p>Flows loaded from remote storage can be served using the same <a href="#serving-a-flow"><code>serve</code></a> method as local flows:</p>
<div class="highlight"><span class="filename">serve_loaded_flow.py</span><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">flow</span><span class="o">.</span><span class="n">from_source</span><span class="p">(</span>
        <span class="n">source</span><span class="o">=</span><span class="s2">&quot;https://github.com/org/repo.git&quot;</span><span class="p">,</span>
        <span class="n">entrypoint</span><span class="o">=</span><span class="s2">&quot;flows.py:my_flow&quot;</span>
    <span class="p">)</span><span class="o">.</span><span class="n">serve</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my-deployment&quot;</span><span class="p">)</span>
</code></pre></div>
<p>When you serve a flow loaded from remote storage, the serving process will periodically poll your remote storage for updates to the flow's code. 
This pattern allows you to update your flow code without restarting the serving process.</p>
</div>
<h2 id="pausing-or-suspending-a-flow-run">Pausing or suspending a flow run<a class="headerlink" href="#pausing-or-suspending-a-flow-run" title="Permanent link">&para;</a></h2>
<p>Prefect provides you with the ability to halt a flow run with two functions that are similar, but slightly different.
When a flow run is paused, code execution is stopped and the process continues to run.
When a flow run is suspended, code execution is stopped and so is the process.</p>
<h3 id="pausing-a-flow-run">Pausing a flow run<a class="headerlink" href="#pausing-a-flow-run" title="Permanent link">&para;</a></h3>
<p>Prefect enables pausing an in-progress flow run for manual approval.
Prefect exposes this functionality via the <a href="/api-ref/prefect/engine/#prefect.engine.pause_flow_run"><code>pause_flow_run</code></a> and <a href="/api-ref/prefect/engine/#prefect.engine.resume_flow_run"><code>resume_flow_run</code></a> functions.</p>
<div class="admonition note">
<p class="admonition-title">Timeouts</p>
<p>Paused flow runs time out after one hour by default.
After the timeout, the flow run will fail with a message saying it paused and never resumed.
You can specify a different timeout period in seconds using the <code>timeout</code> parameter.</p>
</div>
<p>Most simply, <code>pause_flow_run</code> can be called inside a flow:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">task</span><span class="p">,</span> <span class="n">flow</span><span class="p">,</span> <span class="n">pause_flow_run</span><span class="p">,</span> <span class="n">resume_flow_run</span>

<span class="nd">@task</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">marvin_setup</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;a raft of ducks walk into a bar...&quot;</span>


<span class="nd">@task</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">marvin_punchline</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;it&#39;s a wonder none of them ducked!&quot;</span>


<span class="nd">@flow</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">inspiring_joke</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">marvin_setup</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">pause_flow_run</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>  <span class="c1"># pauses for 10 minutes</span>
    <span class="k">await</span> <span class="n">marvin_punchline</span><span class="p">()</span>
</code></pre></div>
<p>You can also implement conditional pauses:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">task</span><span class="p">,</span> <span class="n">flow</span><span class="p">,</span> <span class="n">pause_flow_run</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">task_one</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">log_prints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">my_flow</span><span class="p">():</span>
    <span class="n">terminal_state</span> <span class="o">=</span> <span class="n">task_one</span><span class="o">.</span><span class="n">submit</span><span class="p">(</span><span class="n">return_state</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">terminal_state</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">StateType</span><span class="o">.</span><span class="n">COMPLETED</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Task one succeeded! Pausing flow run..&quot;</span><span class="p">)</span>
        <span class="n">pause_flow_run</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> 
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Task one failed. Skipping pause flow run..&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Calling this flow will block code execution after the first task and wait for resumption to deliver the punchline.</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code>await<span class="w"> </span>inspiring_joke<span class="o">()</span>
&gt;<span class="w"> </span><span class="s2">&quot;a raft of ducks walk into a bar...&quot;</span>
</code></pre></div>
</div>

<p>Paused flow runs can be resumed by clicking the <strong>Resume</strong> button in the Prefect UI or calling the <code>resume_flow_run</code> utility via client code.</p>
<div class="highlight"><pre><span></span><code><span class="n">resume_flow_run</span><span class="p">(</span><span class="n">FLOW_RUN_ID</span><span class="p">)</span>
</code></pre></div>
<p>The paused flow run will then finish!</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code>&gt; &quot;it&#39;s a wonder none of them ducked!&quot;
</code></pre></div>
</div>

<h3 id="suspending-a-flow-run">Suspending a flow run<a class="headerlink" href="#suspending-a-flow-run" title="Permanent link">&para;</a></h3>
<p>Similar to pausing a flow run, Prefect enables suspending an in-progress flow run.</p>
<div class="admonition note">
<p class="admonition-title">The difference between pausing and suspending a flow run</p>
<p>There is an important difference between pausing and suspending a flow run.
When you pause a flow run, the flow code is still running but is <em>blocked</em> until someone resumes the flow.
This is not the case with suspending a flow run!
When you suspend a flow run, the flow exits completely and the infrastructure running it (e.g., a Kubernetes Job) tears down.</p>
<p>This means that you can suspend flow runs to save costs instead of paying for long-running infrastructure. 
However, when the flow run resumes, the flow code will execute again from the beginning of the flow, so you should use <a href="/concepts/tasks/">tasks</a> and <a href="/concepts/tasks/#caching">task caching</a> to avoid recomputing expensive operations.</p>
</div>
<p>Prefect exposes this functionality via the <a href="/api-ref/prefect/engine/#prefect.engine.suspend_flow_run"><code>suspend_flow_run</code></a> and <a href="/api-ref/prefect/engine/#prefect.engine.resume_flow_run"><code>resume_flow_run</code></a> functions, as well as the Prefect UI.</p>
<p>When called inside of a flow <code>suspend_flow_run</code> will immediately suspend execution of the flow run.
The flow run will be marked as <code>Suspended</code> and will not be resumed until <code>resume_flow_run</code> is called.</p>
<div class="admonition note">
<p class="admonition-title">Timeouts</p>
<p>Suspended flow runs time out after one hour by default.
After the timeout, the flow run will fail with a message saying it suspended and never resumed.
You can specify a different timeout period in seconds using the <code>timeout</code> parameter or pass <code>timeout=None</code> for no timeout.</p>
</div>
<p>Here is an example of a flow that does not block flow execution while paused.
This flow will exit after one task, and will be rescheduled upon resuming.
The stored result of the first task is retrieved instead of being rerun.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">pause_flow_run</span><span class="p">,</span> <span class="n">task</span>

<span class="nd">@task</span><span class="p">(</span><span class="n">persist_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">42</span>

<span class="nd">@flow</span><span class="p">(</span><span class="n">persist_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">noblock_pausing</span><span class="p">():</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">foo</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
    <span class="n">pause_flow_run</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">reschedule</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">foo</span><span class="o">.</span><span class="n">submit</span><span class="p">()</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="n">wait_for</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="n">wait_for</span><span class="o">=</span><span class="p">[</span><span class="n">y</span><span class="p">])</span>
    <span class="n">omega</span> <span class="o">=</span> <span class="n">foo</span><span class="p">(</span><span class="n">wait_for</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span>
</code></pre></div>
<p>Flow runs can be suspended out-of-process by calling <code>suspend_flow_run(flow_run_id=&lt;ID&gt;)</code> or selecting the <strong>Suspend</strong> button in the Prefect UI or Prefect Cloud.</p>
<p>Suspended flow runs can be resumed by clicking the <strong>Resume</strong> button in the Prefect UI or calling the <code>resume_flow_run</code> utility via client code.</p>
<div class="highlight"><pre><span></span><code><span class="n">resume_flow_run</span><span class="p">(</span><span class="n">FLOW_RUN_ID</span><span class="p">)</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Subflows can't be suspended independently of their parent run</p>
<p>You can't suspend a subflow run independently of its parent flow run.</p>
<p>If you use a flow to schedule a flow run with <code>run_deployment</code>, the
scheduled flow run will be linked to the calling flow as a subflow run by
default. This means you won't be able to suspend the scheduled flow run
independently of the calling flow. Call <code>run_deployment</code> with
<code>as_subflow=False</code> to disable this linking if you need to be able to suspend
the scheduled flow run independently of the calling flow.</p>
</div>
<h2 id="waiting-for-input-when-pausing-or-suspending-a-flow-run">Waiting for input when pausing or suspending a flow run<a class="headerlink" href="#waiting-for-input-when-pausing-or-suspending-a-flow-run" title="Permanent link">&para;</a></h2>
<div class="admonition warning">
<p class="admonition-title">Experimental</p>
<p>The <code>wait_for_input</code> parameter used in the <code>pause_flow_run</code> or <code>suspend_flow_run</code> functions is an experimental feature.
The interface or behavior of this feature may change without warning in future releases.</p>
<p>If you encounter any issues, please let us know in Slack or with a Github issue.</p>
</div>
<p>When pausing or suspending a flow run you may want to wait for input from a user.
Prefect provides a way to do this by leveraging the <code>pause_flow_run</code> and <code>suspend_flow_run</code> functions.
These functions accept a <code>wait_for_input</code> argument, the value of which should be a subclass of <code>prefect.input.RunInput</code>, a pydantic model.
When resuming the flow run, users are required to provide data for this model. Upon successful validation, the flow run resumes, and the return value of the <code>pause_flow_run</code> or <code>suspend_flow_run</code> is an instance of the model containing the provided data.</p>
<p>Here is an example of a flow that pauses and waits for input from a user:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span><span class="p">,</span> <span class="n">pause_flow_run</span>
<span class="kn">from</span> <span class="nn">prefect.input</span> <span class="kn">import</span> <span class="n">RunInput</span>


<span class="k">class</span> <span class="nc">UserNameInput</span><span class="p">(</span><span class="n">RunInput</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>


<span class="nd">@flow</span><span class="p">(</span><span class="n">log_prints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">greet_user</span><span class="p">():</span>
    <span class="n">user_input</span> <span class="o">=</span> <span class="k">await</span> <span class="n">pause_flow_run</span><span class="p">(</span>
        <span class="n">wait_for_input</span><span class="o">=</span><span class="n">UserNameInput</span>
    <span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">user_input</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Running this flow will create a flow run. The flow run will advance until code execution reaches <code>pause_flow_run</code>, at which point it will move into a <code>Paused</code> state.
Execution will block and wait for resumption.</p>
<p>When resuming the flow run, users will be prompted to provide a value for the <code>name</code> field of the <code>UserNameInput</code> model.
Upon successful validation, the flow run will resume, and the return value of the <code>pause_flow_run</code> will be an instance of the <code>UserNameInput</code> model containing the provided data.</p>
<p>For more in-depth information on receiving input from users when pausing and suspending flow runs, see the <a href="/guides/creating-interactive-workflows/">Creating interactive workflows</a> guide.</p>
<h2 id="canceling-a-flow-run">Canceling a flow run<a class="headerlink" href="#canceling-a-flow-run" title="Permanent link">&para;</a></h2>
<p>You may cancel a scheduled or in-progress flow run from the CLI, UI, REST API, or Python client.</p>
<p>When cancellation is requested, the flow run is moved to a "Cancelling" state.
If the deployment is a work pool-based deployemnt with a worker, then the worker monitors the state of flow runs and detects that cancellation has been requested.
The worker then sends a signal to the flow run infrastructure, requesting termination of the run.
If the run does not terminate after a grace period (default of 30 seconds), the infrastructure will be killed, ensuring the flow run exits.</p>
<div class="admonition warning">
<p class="admonition-title">A deployment is required</p>
<p>Flow run cancellation requires the flow run to be associated with a <a href="#serving-a-flow">deployment</a>.
A monitoring process must be running to enforce the cancellation.
Inline subflow runs, i.e. those created without <code>run_deployment</code>, cannot be cancelled without cancelling the parent flow run.
If you may need to cancel a subflow run independent of its parent flow run, we recommend deploying it separately and starting it using the <a href="/api-ref/prefect/deployments/deployments/#prefect.deployments.deployments.run_deployment">run_deployment</a> function.</p>
</div>
<p>Cancellation is robust to restarts of Prefect workers.
To enable this, we attach metadata about the created infrastructure to the flow run.
Internally, this is referred to as the <code>infrastructure_pid</code> or infrastructure identifier.
Generally, this is composed of two parts:</p>
<ol>
<li>Scope: identifying where the infrastructure is running.</li>
<li>ID: a unique identifier for the infrastructure within the scope.</li>
</ol>
<p>The scope is used to ensure that Prefect does not kill the wrong infrastructure.
For example, workers running on multiple machines may have overlapping process IDs but should not have a matching scope.</p>
<p>The identifiers for infrastructure types:</p>
<ul>
<li>Processes: The machine hostname and the PID.</li>
<li>Docker Containers: The Docker API URL and container ID.</li>
<li>Kubernetes Jobs: The Kubernetes cluster name and the job name.</li>
</ul>
<p>While the cancellation process is robust, there are a few issues than can occur:</p>
<ul>
<li>If the infrastructure block for the flow run has been removed or altered, cancellation may not work.</li>
<li>If the infrastructure block for the flow run does not have support for cancellation, cancellation will not work.</li>
<li>If the identifier scope does not match when attempting to cancel a flow run the worker will be unable to cancel the flow run. Another worker may attempt cancellation.</li>
<li>If the infrastructure associated with the run cannot be found or has already been killed, the worker will mark the flow run as cancelled.</li>
<li>If the <code>infrastructre_pid</code> is missing from the flow run will be marked as cancelled but cancellation cannot be enforced.</li>
<li>If the worker runs into an unexpected error during cancellation the flow run may or may not be cancelled depending on where the error occurred. The worker will try again to cancel the flow run. Another worker may attempt cancellation.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Enhanced cancellation</p>
<p>We are working on improving cases where cancellation can fail.
You can try the improved cancellation experience by enabling the <code>PREFECT_EXPERIMENTAL_ENABLE_ENHANCED_CANCELLATION</code> setting on your worker or agents:</p>
<p><div class="terminal">
<div class="highlight"><pre><span></span><code>prefect<span class="w"> </span>config<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="nv">PREFECT_EXPERIMENTAL_ENABLE_ENHANCED_CANCELLATION</span><span class="o">=</span>True
</code></pre></div>
</div></p>
<p>If you encounter any issues, please let us know in <a href="https://www.prefect.io/slack/">Slack</a> or with a <a href="https://github.com/PrefectHQ/prefect">Github</a> issue.</p>
</div>
<h3 id="cancel-via-the-cli">Cancel via the CLI<a class="headerlink" href="#cancel-via-the-cli" title="Permanent link">&para;</a></h3>
<p>From the command line in your execution environment, you can cancel a flow run by using the <code>prefect flow-run cancel</code> CLI command, passing the ID of the flow run.</p>
<div class="terminal">
<div class="highlight"><pre><span></span><code>prefect<span class="w"> </span>flow-run<span class="w"> </span>cancel<span class="w"> </span><span class="s1">&#39;a55a4804-9e3c-4042-8b59-b3b6b7618736&#39;</span>
</code></pre></div>
</div>

<h3 id="cancel-via-the-ui">Cancel via the UI<a class="headerlink" href="#cancel-via-the-ui" title="Permanent link">&para;</a></h3>
<p>From the UI you can cancel a flow run by navigating to the flow run's detail page and clicking the <code>Cancel</code> button in the upper right corner.</p>
<p><img alt="Prefect UI" src="/img/ui/flow-run-cancellation-ui.png" /></p>
<h2 id="timeouts">Timeouts<a class="headerlink" href="#timeouts" title="Permanent link">&para;</a></h2>
<p>Flow timeouts are used to prevent unintentional long-running flows. When the duration of execution for a flow exceeds the duration specified in the timeout, a timeout exception will be raised and the flow will be marked as failed. In the UI, the flow will be visibly designated as <code>TimedOut</code>.</p>
<p>Timeout durations are specified using the <code>timeout_seconds</code> keyword argument.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">prefect</span> <span class="kn">import</span> <span class="n">flow</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="hll"><span class="nd">@flow</span><span class="p">(</span><span class="n">timeout_seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">log_prints</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span class="k">def</span> <span class="nf">show_timeouts</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I will execute&quot;</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;I will not execute&quot;</span><span class="p">)</span>
</code></pre></div>







  
  



  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thank you for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thank you for your feedback! Feel free to <a href="https://github.com/PrefectHQ/prefect/issues/new?assignees=&amp;labels=docs%2Cstatus%3Atriage&amp;projects=&amp;template=4_docs_change.yaml" target="_blank" rel="noopener"> open an issue </a> with more detail.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.code.copy", "navigation.tabs.sticky", "search.suggest", "search.highlight", "navigation.path", "navigation.indexes", "content.tabs.link"], "search": "../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1135ae9f.min.js"></script>
      
        <script src="../../js/custom.js"></script>
      
        <script src="../../js/termynal.js"></script>
      
    
  </body>
</html>